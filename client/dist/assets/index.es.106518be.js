import{dy as oo,cu as Ji,cU as Ie,dz as j8,dA as Va,dB as K8,dC as k1,dD as Q8,dE as G8,dF as J8,dG as Y8,dH as Yu,cp as V8,dI as Vu,dJ as Qt,cA as Lr,dK as om,dL as am,dM as W8,dN as $0,dO as fn,dP as Yi,aX as hm,dQ as um,dR as cm,dS as X8,dT as fm,dU as U1,dV as Tu,dW as Z8,dX as t4,dY as e4,dZ as lm,d_ as eo,d$ as Os,e0 as ji,e1 as ih,e2 as r4,e3 as ri,e4 as Mi,e5 as Wu,e6 as i4,e7 as q1,e8 as n4,e9 as s4,ea as j0,eb as o4,ec as K0,ed as Xu,ee as Q0,ef as ns,eg as a4,eh as No,bb as h4,cG as u4,ei as z1,ej as c4,_ as f4}from"./index.b8b39119.js";const l4=Object.freeze(Object.defineProperty({__proto__:null,IEvents:oo},Symbol.toStringTag,{value:"Module"}));function L1(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const n=e[i];r.push(...n.accounts)}),r}var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie<"u"?Ie:typeof self<"u"?self:{};function d4(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var pm={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof Ji.exports=="object"&&Ji.exports.versions&&Ji.exports.versions.node;f?n=dm:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),S=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],C=[1,256,65536,16777216],R=[6,1536,393216,100663296],F=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],ot=["hex","buffer","arrayBuffer","array","digest"],at={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var et=function(l,B,x){return function(T){return new m(l,B,l).update(T)[x]()}},X=function(l,B,x){return function(T,$){return new m(l,B,$).update(T)[x]()}},Z=function(l,B,x){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[x]()}},ut=function(l,B,x){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[x]()}},nt=function(l,B,x,T){for(var $=0;$<ot.length;++$){var U=ot[$];l[U]=B(x,T,U)}return l},Gt=function(l,B){var x=et(l,B,"hex");return x.create=function(){return new m(l,B,l)},x.update=function(T){return x.create().update(T)},nt(x,et,l,B)},Zt=function(l,B){var x=X(l,B,"hex");return x.create=function(T){return new m(l,B,T)},x.update=function(T,$){return x.create($).update(T)},nt(x,X,l,B)},ht=function(l,B){var x=at[l],T=Z(l,B,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,B,$).bytepad([U,z],x)},T.update=function($,U,z,G){return T.create(U,z,G).update($)},nt(T,Z,l,B)},Yt=function(l,B){var x=at[l],T=ut(l,B,"hex");return T.create=function($,U,z){return new J(l,B,U).bytepad(["KMAC",z],x).bytepad([$],x)},T.update=function($,U,z,G){return T.create($,z,G).update(U)},nt(T,ut,l,B)},o=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:R,bits:k,createMethod:Gt},{name:"shake",padding:S,bits:Y,createMethod:Zt},{name:"cshake",padding:_,bits:Y,createMethod:ht},{name:"kmac",padding:_,bits:Y,createMethod:Yt}],c={},d=[],g=0;g<o.length;++g)for(var w=o[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,B,x){this.blocks=[],this.s=[],this.padding=B,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,G=0,W=this.s,q,lt;G<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(B)for(q=this.start;G<U&&q<$;++G)T[q>>2]|=l[G]<<F[q++&3];else for(q=this.start;G<U&&q<$;++G)lt=l.charCodeAt(G),lt<128?T[q>>2]|=lt<<F[q++&3]:lt<2048?(T[q>>2]|=(192|lt>>6)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):lt<55296||lt>=57344?(T[q>>2]|=(224|lt>>12)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):(lt=65536+((lt&1023)<<10|l.charCodeAt(++G)&1023),T[q>>2]|=(240|lt>>18)<<F[q++&3],T[q>>2]|=(128|lt>>12&63)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)W[q]^=T[q];Q(W),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,B){var x=l&255,T=1,$=[x];for(l=l>>8,x=l&255;x>0;)$.unshift(x),l=l>>8,x=l&255,++T;return B?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}var T=0,$=l.length;if(B)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,B){for(var x=this.encode(B),T=0;T<l.length;++T)x+=this.encodeString(l[T]);var $=B-x%B,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,B=this.lastByteIndex,x=this.blockCount,T=this.s;if(l[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(l[0]=l[x],B=1;B<x+1;++B)l[B]=0;for(l[x-1]|=2147483648,B=0;B<x;++B)T[B]^=l[B];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",G;U<x;){for($=0;$<l&&U<x;++$,++U)G=B[$],z+=A[G>>4&15]+A[G&15]+A[G>>12&15]+A[G>>8&15]+A[G>>20&15]+A[G>>16&15]+A[G>>28&15]+A[G>>24&15];U%l===0&&(Q(B),$=0)}return T&&(G=B[$],z+=A[G>>4&15]+A[G&15],T>1&&(z+=A[G>>12&15]+A[G>>8&15]),T>2&&(z+=A[G>>20&15]+A[G>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,G;T?G=new ArrayBuffer(x+1<<2):G=new ArrayBuffer(z);for(var W=new Uint32Array(G);U<x;){for($=0;$<l&&U<x;++$,++U)W[U]=B[$];U%l===0&&Q(B)}return T&&(W[$]=B[$],G=G.slice(0,z)),G},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],G,W;U<x;){for($=0;$<l&&U<x;++$,++U)G=U<<2,W=B[$],z[G]=W&255,z[G+1]=W>>8&255,z[G+2]=W>>16&255,z[G+3]=W>>24&255;U%l===0&&Q(B)}return T&&(G=U<<2,W=B[$],z[G]=W&255,T>1&&(z[G+1]=W>>8&255),T>2&&(z[G+2]=W>>16&255)),z};function J(l,B,x){m.call(this,l,B,x)}J.prototype=new m,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var B,x,T,$,U,z,G,W,q,lt,Ct,ct,Ue,xt,dt,Ae,pt,mt,Ke,gt,Rt,Se,ft,vt,Te,yt,wt,Oe,At,bt,Fe,Et,Bt,Qe,Pt,St,qe,Tt,Ot,Ge,Ft,_t,Je,Dt,kt,De,Ut,Mt,Ye,qt,zt,Ve,Lt,Ht,We,$t,Nt,Ne,Ce,xe,Re,Be,Pe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],G=l[3]^l[13]^l[23]^l[33]^l[43],W=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],lt=l[6]^l[16]^l[26]^l[36]^l[46],Ct=l[7]^l[17]^l[27]^l[37]^l[47],ct=l[8]^l[18]^l[28]^l[38]^l[48],Ue=l[9]^l[19]^l[29]^l[39]^l[49],B=ct^(z<<1|G>>>31),x=Ue^(G<<1|z>>>31),l[0]^=B,l[1]^=x,l[10]^=B,l[11]^=x,l[20]^=B,l[21]^=x,l[30]^=B,l[31]^=x,l[40]^=B,l[41]^=x,B=$^(W<<1|q>>>31),x=U^(q<<1|W>>>31),l[2]^=B,l[3]^=x,l[12]^=B,l[13]^=x,l[22]^=B,l[23]^=x,l[32]^=B,l[33]^=x,l[42]^=B,l[43]^=x,B=z^(lt<<1|Ct>>>31),x=G^(Ct<<1|lt>>>31),l[4]^=B,l[5]^=x,l[14]^=B,l[15]^=x,l[24]^=B,l[25]^=x,l[34]^=B,l[35]^=x,l[44]^=B,l[45]^=x,B=W^(ct<<1|Ue>>>31),x=q^(Ue<<1|ct>>>31),l[6]^=B,l[7]^=x,l[16]^=B,l[17]^=x,l[26]^=B,l[27]^=x,l[36]^=B,l[37]^=x,l[46]^=B,l[47]^=x,B=lt^($<<1|U>>>31),x=Ct^(U<<1|$>>>31),l[8]^=B,l[9]^=x,l[18]^=B,l[19]^=x,l[28]^=B,l[29]^=x,l[38]^=B,l[39]^=x,l[48]^=B,l[49]^=x,xt=l[0],dt=l[1],De=l[11]<<4|l[10]>>>28,Ut=l[10]<<4|l[11]>>>28,Oe=l[20]<<3|l[21]>>>29,At=l[21]<<3|l[20]>>>29,xe=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,_t=l[40]<<18|l[41]>>>14,Je=l[41]<<18|l[40]>>>14,Qe=l[2]<<1|l[3]>>>31,Pt=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,pt=l[12]<<12|l[13]>>>20,Mt=l[22]<<10|l[23]>>>22,Ye=l[23]<<10|l[22]>>>22,bt=l[33]<<13|l[32]>>>19,Fe=l[32]<<13|l[33]>>>19,Be=l[42]<<2|l[43]>>>30,Pe=l[43]<<2|l[42]>>>30,Ht=l[5]<<30|l[4]>>>2,We=l[4]<<30|l[5]>>>2,St=l[14]<<6|l[15]>>>26,qe=l[15]<<6|l[14]>>>26,mt=l[25]<<11|l[24]>>>21,Ke=l[24]<<11|l[25]>>>21,qt=l[34]<<15|l[35]>>>17,zt=l[35]<<15|l[34]>>>17,Et=l[45]<<29|l[44]>>>3,Bt=l[44]<<29|l[45]>>>3,vt=l[6]<<28|l[7]>>>4,Te=l[7]<<28|l[6]>>>4,$t=l[17]<<23|l[16]>>>9,Nt=l[16]<<23|l[17]>>>9,Tt=l[26]<<25|l[27]>>>7,Ot=l[27]<<25|l[26]>>>7,gt=l[36]<<21|l[37]>>>11,Rt=l[37]<<21|l[36]>>>11,Ve=l[47]<<24|l[46]>>>8,Lt=l[46]<<24|l[47]>>>8,Dt=l[8]<<27|l[9]>>>5,kt=l[9]<<27|l[8]>>>5,yt=l[18]<<20|l[19]>>>12,wt=l[19]<<20|l[18]>>>12,Ne=l[29]<<7|l[28]>>>25,Ce=l[28]<<7|l[29]>>>25,Ge=l[38]<<8|l[39]>>>24,Ft=l[39]<<8|l[38]>>>24,Se=l[48]<<14|l[49]>>>18,ft=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&mt,l[1]=dt^~pt&Ke,l[10]=vt^~yt&Oe,l[11]=Te^~wt&At,l[20]=Qe^~St&Tt,l[21]=Pt^~qe&Ot,l[30]=Dt^~De&Mt,l[31]=kt^~Ut&Ye,l[40]=Ht^~$t&Ne,l[41]=We^~Nt&Ce,l[2]=Ae^~mt&gt,l[3]=pt^~Ke&Rt,l[12]=yt^~Oe&bt,l[13]=wt^~At&Fe,l[22]=St^~Tt&Ge,l[23]=qe^~Ot&Ft,l[32]=De^~Mt&qt,l[33]=Ut^~Ye&zt,l[42]=$t^~Ne&xe,l[43]=Nt^~Ce&Re,l[4]=mt^~gt&Se,l[5]=Ke^~Rt&ft,l[14]=Oe^~bt&Et,l[15]=At^~Fe&Bt,l[24]=Tt^~Ge&_t,l[25]=Ot^~Ft&Je,l[34]=Mt^~qt&Ve,l[35]=Ye^~zt&Lt,l[44]=Ne^~xe&Be,l[45]=Ce^~Re&Pe,l[6]=gt^~Se&xt,l[7]=Rt^~ft&dt,l[16]=bt^~Et&vt,l[17]=Fe^~Bt&Te,l[26]=Ge^~_t&Qe,l[27]=Ft^~Je&Pt,l[36]=qt^~Ve&Dt,l[37]=zt^~Lt&kt,l[46]=xe^~Be&Ht,l[47]=Re^~Pe&We,l[8]=Se^~xt&Ae,l[9]=ft^~dt&pt,l[18]=Et^~vt&yt,l[19]=Bt^~Te&wt,l[28]=_t^~Qe&St,l[29]=Je^~Pt&qe,l[38]=Ve^~Dt&De,l[39]=Lt^~kt&Ut,l[48]=Be^~Ht&$t,l[49]=Pe^~We&Nt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(pm);pm.exports;const p4="logger/5.7.0";let H1=!1,$1=!1;const vu={debug:1,default:2,info:2,warning:3,error:4,off:5};let j1=vu.default,gf=null;function g4(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const K1=g4();var m0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(m0||(m0={}));var sn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(sn||(sn={}));const Q1="0123456789abcdef";class oe{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();vu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(j1>vu[i])&&console.log.apply(console,r)}debug(...t){this._log(oe.levels.DEBUG,t)}info(...t){this._log(oe.levels.INFO,t)}warn(...t){this._log(oe.levels.WARNING,t)}makeError(t,r,i){if($1)return this.makeError("censored error",r,{});r||(r=oe.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let S="";for(let _=0;_<A.length;_++)S+=Q1[A[_]>>4],S+=Q1[A[_]&15];n.push(b+"=Uint8Array(0x"+S+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case sn.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case sn.CALL_EXCEPTION:case sn.INSUFFICIENT_FUNDS:case sn.MISSING_NEW:case sn.NONCE_EXPIRED:case sn.REPLACEMENT_UNDERPRICED:case sn.TRANSACTION_REPLACED:case sn.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,oe.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){K1&&this.throwError("platform missing String.prototype.normalize",oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:K1})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,oe.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,oe.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",oe.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",oe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return gf||(gf=new oe(p4)),gf}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),H1){if(!t)return;this.globalLogger().throwError("error censorship permanent",oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$1=!!t,H1=!!r}static setLogLevel(t){const r=vu[t.toLowerCase()];if(r==null){oe.globalLogger().warn("invalid log level - "+t);return}j1=r}static from(t){return new oe(t)}}oe.errors=sn,oe.levels=m0;const m4="bytes/5.7.0",Fs=new oe(m4);function gm(e){return!!e.toHexString}function yu(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return yu(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function G1(e){return typeof e=="number"&&e==e&&e%1===0}function nh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!G1(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!G1(r)||r<0||r>=256)return!1}return!0}function mm(e,t){if(t||(t={}),typeof e=="number"){Fs.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),yu(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),gm(e)&&(e=e.toHexString()),Qo(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Fs.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return yu(new Uint8Array(i))}return nh(e)?yu(new Uint8Array(e)):Fs.throwArgumentError("invalid arrayify value","value",e)}function Qo(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const mf="0123456789abcdef";function vm(e,t){if(t||(t={}),typeof e=="number"){Fs.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=mf[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),gm(e))return e.toHexString();if(Qo(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Fs.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(nh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=mf[(n&240)>>4]+mf[n&15]}return r}return Fs.throwArgumentError("invalid hexlify value","value",e)}function Ou(e,t){for(typeof e!="string"?e=vm(e):Qo(e)||Fs.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Fs.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var ym={exports:{}},v4={},y4=Object.freeze({__proto__:null,default:v4}),w4=d4(y4);(function(e){(function(t,r){function i(o,c){if(!o)throw new Error(c||"Assertion failed")}function n(o,c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}function a(o,c,d){if(a.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(o||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=w4.Buffer}catch{}a.isBN=function(o){return o instanceof a?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===a.wordSize&&Array.isArray(o.words)},a.max=function(o,c){return o.cmp(c)>0?o:c},a.min=function(o,c){return o.cmp(c)<0?o:c},a.prototype._init=function(o,c,d){if(typeof o=="number")return this._initNumber(o,c,d);if(typeof o=="object")return this._initArray(o,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var g=0;o[0]==="-"&&(g++,this.negative=1),g<o.length&&(c===16?this._parseHex(o,g,d):(this._parseBase(o,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(o,c,d){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(o,c,d){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=o.length-1,w=0;g>=0;g-=3)E=o[g]|o[g-1]<<8|o[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<o.length;g+=3)E=o[g]|o[g+1]<<8|o[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(o,c){var d=o.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+o)}function b(o,c,d){var g=v(o,d);return d-1>=c&&(g|=v(o,d-1)<<4),g}a.prototype._parseHex=function(o,c,d){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=o.length-1;g>=c;g-=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=o.length-c;for(g=y%2===0?c+1:c;g<o.length;g+=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(o,c,d,g){for(var w=0,E=0,I=Math.min(o.length,d),y=c;y<I;y++){var h=o.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(o,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=o.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(o,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var J=1;for(h=A(o,m,o.length,c),m=0;m<I;m++)J*=c;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red};function S(o,c){o.words=c.words,o.length=c.length,o.negative=c.negative,o.red=c.red}if(a.prototype._move=function(o){S(o,this)},a.prototype.clone=function(){var o=new a(null);return this.copy(o),o},a.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{a.prototype.inspect=_}else a.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(o,c){o=o||10,c=c|0||1;var d;if(o===16||o==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(o===(o|0)&&o>=2&&o<=36){var h=R[o],m=F[o];d="";var J=this.clone();for(J.negative=0;!J.isZero();){var Q=J.modrn(m).toString(o);J=J.idivn(m),J.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(o,c){return this.toArrayLike(f,o,c)}),a.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)};var H=function(o,c){return o.allocUnsafe?o.allocUnsafe(c):new o(c)};a.prototype.toArrayLike=function(o,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(o,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(o,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d++]=I&255,d<o.length&&(o[d++]=I>>8&255),d<o.length&&(o[d++]=I>>16&255),E===6?(d<o.length&&(o[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<o.length)for(o[d++]=g;d<o.length;)o[d++]=0},a.prototype._toArrayLikeBE=function(o,c){for(var d=o.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d--]=I&255,d>=0&&(o[d--]=I>>8&255),d>=0&&(o[d--]=I>>16&255),E===6?(d>=0&&(o[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(o[d--]=g;d>=0;)o[d--]=0},Math.clz32?a.prototype._countBits=function(o){return 32-Math.clz32(o)}:a.prototype._countBits=function(o){var c=o,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function k(o){for(var c=new Array(o.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=o.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(o+=d,d!==26)break}return o},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},a.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this._strip()},a.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},a.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},a.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},a.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&o.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},a.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},a.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},a.prototype.iuxor=function(o){var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},a.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},a.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},a.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,d=o%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(o){return this.clone().inotn(o)},a.prototype.setn=function(o,c){i(typeof o=="number"&&o>=0);var d=o/26|0,g=o%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var d,g;this.length>o.length?(d=this,g=o):(d=o,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},a.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var d=this.cmp(o);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=o):(g=o,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,c,d){d.negative=c.negative^o.negative;var g=o.length+c.length|0;d.length=g,g=g-1|0;var w=o.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var J=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),B=Math.max(0,m-o.length+1);B<=l;B++){var x=m-B|0;w=o.words[x]|0,E=c.words[B]|0,I=w*E+Q,J+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=J|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ot=function(o,c,d){var g=o.words,w=c.words,E=d.words,I=0,y,h,m,J=g[0]|0,Q=J&8191,l=J>>>13,B=g[1]|0,x=B&8191,T=B>>>13,$=g[2]|0,U=$&8191,z=$>>>13,G=g[3]|0,W=G&8191,q=G>>>13,lt=g[4]|0,Ct=lt&8191,ct=lt>>>13,Ue=g[5]|0,xt=Ue&8191,dt=Ue>>>13,Ae=g[6]|0,pt=Ae&8191,mt=Ae>>>13,Ke=g[7]|0,gt=Ke&8191,Rt=Ke>>>13,Se=g[8]|0,ft=Se&8191,vt=Se>>>13,Te=g[9]|0,yt=Te&8191,wt=Te>>>13,Oe=w[0]|0,At=Oe&8191,bt=Oe>>>13,Fe=w[1]|0,Et=Fe&8191,Bt=Fe>>>13,Qe=w[2]|0,Pt=Qe&8191,St=Qe>>>13,qe=w[3]|0,Tt=qe&8191,Ot=qe>>>13,Ge=w[4]|0,Ft=Ge&8191,_t=Ge>>>13,Je=w[5]|0,Dt=Je&8191,kt=Je>>>13,De=w[6]|0,Ut=De&8191,Mt=De>>>13,Ye=w[7]|0,qt=Ye&8191,zt=Ye>>>13,Ve=w[8]|0,Lt=Ve&8191,Ht=Ve>>>13,We=w[9]|0,$t=We&8191,Nt=We>>>13;d.negative=o.negative^c.negative,d.length=19,y=Math.imul(Q,At),h=Math.imul(Q,bt),h=h+Math.imul(l,At)|0,m=Math.imul(l,bt);var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(x,At),h=Math.imul(x,bt),h=h+Math.imul(T,At)|0,m=Math.imul(T,bt),y=y+Math.imul(Q,Et)|0,h=h+Math.imul(Q,Bt)|0,h=h+Math.imul(l,Et)|0,m=m+Math.imul(l,Bt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(U,At),h=Math.imul(U,bt),h=h+Math.imul(z,At)|0,m=Math.imul(z,bt),y=y+Math.imul(x,Et)|0,h=h+Math.imul(x,Bt)|0,h=h+Math.imul(T,Et)|0,m=m+Math.imul(T,Bt)|0,y=y+Math.imul(Q,Pt)|0,h=h+Math.imul(Q,St)|0,h=h+Math.imul(l,Pt)|0,m=m+Math.imul(l,St)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(W,At),h=Math.imul(W,bt),h=h+Math.imul(q,At)|0,m=Math.imul(q,bt),y=y+Math.imul(U,Et)|0,h=h+Math.imul(U,Bt)|0,h=h+Math.imul(z,Et)|0,m=m+Math.imul(z,Bt)|0,y=y+Math.imul(x,Pt)|0,h=h+Math.imul(x,St)|0,h=h+Math.imul(T,Pt)|0,m=m+Math.imul(T,St)|0,y=y+Math.imul(Q,Tt)|0,h=h+Math.imul(Q,Ot)|0,h=h+Math.imul(l,Tt)|0,m=m+Math.imul(l,Ot)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Ct,At),h=Math.imul(Ct,bt),h=h+Math.imul(ct,At)|0,m=Math.imul(ct,bt),y=y+Math.imul(W,Et)|0,h=h+Math.imul(W,Bt)|0,h=h+Math.imul(q,Et)|0,m=m+Math.imul(q,Bt)|0,y=y+Math.imul(U,Pt)|0,h=h+Math.imul(U,St)|0,h=h+Math.imul(z,Pt)|0,m=m+Math.imul(z,St)|0,y=y+Math.imul(x,Tt)|0,h=h+Math.imul(x,Ot)|0,h=h+Math.imul(T,Tt)|0,m=m+Math.imul(T,Ot)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,_t)|0;var Be=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,y=Math.imul(xt,At),h=Math.imul(xt,bt),h=h+Math.imul(dt,At)|0,m=Math.imul(dt,bt),y=y+Math.imul(Ct,Et)|0,h=h+Math.imul(Ct,Bt)|0,h=h+Math.imul(ct,Et)|0,m=m+Math.imul(ct,Bt)|0,y=y+Math.imul(W,Pt)|0,h=h+Math.imul(W,St)|0,h=h+Math.imul(q,Pt)|0,m=m+Math.imul(q,St)|0,y=y+Math.imul(U,Tt)|0,h=h+Math.imul(U,Ot)|0,h=h+Math.imul(z,Tt)|0,m=m+Math.imul(z,Ot)|0,y=y+Math.imul(x,Ft)|0,h=h+Math.imul(x,_t)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Dt)|0,h=h+Math.imul(Q,kt)|0,h=h+Math.imul(l,Dt)|0,m=m+Math.imul(l,kt)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(pt,At),h=Math.imul(pt,bt),h=h+Math.imul(mt,At)|0,m=Math.imul(mt,bt),y=y+Math.imul(xt,Et)|0,h=h+Math.imul(xt,Bt)|0,h=h+Math.imul(dt,Et)|0,m=m+Math.imul(dt,Bt)|0,y=y+Math.imul(Ct,Pt)|0,h=h+Math.imul(Ct,St)|0,h=h+Math.imul(ct,Pt)|0,m=m+Math.imul(ct,St)|0,y=y+Math.imul(W,Tt)|0,h=h+Math.imul(W,Ot)|0,h=h+Math.imul(q,Tt)|0,m=m+Math.imul(q,Ot)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(x,Dt)|0,h=h+Math.imul(x,kt)|0,h=h+Math.imul(T,Dt)|0,m=m+Math.imul(T,kt)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,Mt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,Mt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(gt,At),h=Math.imul(gt,bt),h=h+Math.imul(Rt,At)|0,m=Math.imul(Rt,bt),y=y+Math.imul(pt,Et)|0,h=h+Math.imul(pt,Bt)|0,h=h+Math.imul(mt,Et)|0,m=m+Math.imul(mt,Bt)|0,y=y+Math.imul(xt,Pt)|0,h=h+Math.imul(xt,St)|0,h=h+Math.imul(dt,Pt)|0,m=m+Math.imul(dt,St)|0,y=y+Math.imul(Ct,Tt)|0,h=h+Math.imul(Ct,Ot)|0,h=h+Math.imul(ct,Tt)|0,m=m+Math.imul(ct,Ot)|0,y=y+Math.imul(W,Ft)|0,h=h+Math.imul(W,_t)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Dt)|0,h=h+Math.imul(U,kt)|0,h=h+Math.imul(z,Dt)|0,m=m+Math.imul(z,kt)|0,y=y+Math.imul(x,Ut)|0,h=h+Math.imul(x,Mt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,Mt)|0,y=y+Math.imul(Q,qt)|0,h=h+Math.imul(Q,zt)|0,h=h+Math.imul(l,qt)|0,m=m+Math.imul(l,zt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(ft,At),h=Math.imul(ft,bt),h=h+Math.imul(vt,At)|0,m=Math.imul(vt,bt),y=y+Math.imul(gt,Et)|0,h=h+Math.imul(gt,Bt)|0,h=h+Math.imul(Rt,Et)|0,m=m+Math.imul(Rt,Bt)|0,y=y+Math.imul(pt,Pt)|0,h=h+Math.imul(pt,St)|0,h=h+Math.imul(mt,Pt)|0,m=m+Math.imul(mt,St)|0,y=y+Math.imul(xt,Tt)|0,h=h+Math.imul(xt,Ot)|0,h=h+Math.imul(dt,Tt)|0,m=m+Math.imul(dt,Ot)|0,y=y+Math.imul(Ct,Ft)|0,h=h+Math.imul(Ct,_t)|0,h=h+Math.imul(ct,Ft)|0,m=m+Math.imul(ct,_t)|0,y=y+Math.imul(W,Dt)|0,h=h+Math.imul(W,kt)|0,h=h+Math.imul(q,Dt)|0,m=m+Math.imul(q,kt)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,Mt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,Mt)|0,y=y+Math.imul(x,qt)|0,h=h+Math.imul(x,zt)|0,h=h+Math.imul(T,qt)|0,m=m+Math.imul(T,zt)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var Sr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(yt,At),h=Math.imul(yt,bt),h=h+Math.imul(wt,At)|0,m=Math.imul(wt,bt),y=y+Math.imul(ft,Et)|0,h=h+Math.imul(ft,Bt)|0,h=h+Math.imul(vt,Et)|0,m=m+Math.imul(vt,Bt)|0,y=y+Math.imul(gt,Pt)|0,h=h+Math.imul(gt,St)|0,h=h+Math.imul(Rt,Pt)|0,m=m+Math.imul(Rt,St)|0,y=y+Math.imul(pt,Tt)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(mt,Tt)|0,m=m+Math.imul(mt,Ot)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(dt,Ft)|0,m=m+Math.imul(dt,_t)|0,y=y+Math.imul(Ct,Dt)|0,h=h+Math.imul(Ct,kt)|0,h=h+Math.imul(ct,Dt)|0,m=m+Math.imul(ct,kt)|0,y=y+Math.imul(W,Ut)|0,h=h+Math.imul(W,Mt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,Mt)|0,y=y+Math.imul(U,qt)|0,h=h+Math.imul(U,zt)|0,h=h+Math.imul(z,qt)|0,m=m+Math.imul(z,zt)|0,y=y+Math.imul(x,Lt)|0,h=h+Math.imul(x,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,Nt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(yt,Et),h=Math.imul(yt,Bt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Bt),y=y+Math.imul(ft,Pt)|0,h=h+Math.imul(ft,St)|0,h=h+Math.imul(vt,Pt)|0,m=m+Math.imul(vt,St)|0,y=y+Math.imul(gt,Tt)|0,h=h+Math.imul(gt,Ot)|0,h=h+Math.imul(Rt,Tt)|0,m=m+Math.imul(Rt,Ot)|0,y=y+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,_t)|0,h=h+Math.imul(mt,Ft)|0,m=m+Math.imul(mt,_t)|0,y=y+Math.imul(xt,Dt)|0,h=h+Math.imul(xt,kt)|0,h=h+Math.imul(dt,Dt)|0,m=m+Math.imul(dt,kt)|0,y=y+Math.imul(Ct,Ut)|0,h=h+Math.imul(Ct,Mt)|0,h=h+Math.imul(ct,Ut)|0,m=m+Math.imul(ct,Mt)|0,y=y+Math.imul(W,qt)|0,h=h+Math.imul(W,zt)|0,h=h+Math.imul(q,qt)|0,m=m+Math.imul(q,zt)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(x,$t)|0,h=h+Math.imul(x,Nt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,Nt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(yt,Pt),h=Math.imul(yt,St),h=h+Math.imul(wt,Pt)|0,m=Math.imul(wt,St),y=y+Math.imul(ft,Tt)|0,h=h+Math.imul(ft,Ot)|0,h=h+Math.imul(vt,Tt)|0,m=m+Math.imul(vt,Ot)|0,y=y+Math.imul(gt,Ft)|0,h=h+Math.imul(gt,_t)|0,h=h+Math.imul(Rt,Ft)|0,m=m+Math.imul(Rt,_t)|0,y=y+Math.imul(pt,Dt)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(mt,Dt)|0,m=m+Math.imul(mt,kt)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,Mt)|0,h=h+Math.imul(dt,Ut)|0,m=m+Math.imul(dt,Mt)|0,y=y+Math.imul(Ct,qt)|0,h=h+Math.imul(Ct,zt)|0,h=h+Math.imul(ct,qt)|0,m=m+Math.imul(ct,zt)|0,y=y+Math.imul(W,Lt)|0,h=h+Math.imul(W,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,Nt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(yt,Tt),h=Math.imul(yt,Ot),h=h+Math.imul(wt,Tt)|0,m=Math.imul(wt,Ot),y=y+Math.imul(ft,Ft)|0,h=h+Math.imul(ft,_t)|0,h=h+Math.imul(vt,Ft)|0,m=m+Math.imul(vt,_t)|0,y=y+Math.imul(gt,Dt)|0,h=h+Math.imul(gt,kt)|0,h=h+Math.imul(Rt,Dt)|0,m=m+Math.imul(Rt,kt)|0,y=y+Math.imul(pt,Ut)|0,h=h+Math.imul(pt,Mt)|0,h=h+Math.imul(mt,Ut)|0,m=m+Math.imul(mt,Mt)|0,y=y+Math.imul(xt,qt)|0,h=h+Math.imul(xt,zt)|0,h=h+Math.imul(dt,qt)|0,m=m+Math.imul(dt,zt)|0,y=y+Math.imul(Ct,Lt)|0,h=h+Math.imul(Ct,Ht)|0,h=h+Math.imul(ct,Lt)|0,m=m+Math.imul(ct,Ht)|0,y=y+Math.imul(W,$t)|0,h=h+Math.imul(W,Nt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,Nt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(yt,Ft),h=Math.imul(yt,_t),h=h+Math.imul(wt,Ft)|0,m=Math.imul(wt,_t),y=y+Math.imul(ft,Dt)|0,h=h+Math.imul(ft,kt)|0,h=h+Math.imul(vt,Dt)|0,m=m+Math.imul(vt,kt)|0,y=y+Math.imul(gt,Ut)|0,h=h+Math.imul(gt,Mt)|0,h=h+Math.imul(Rt,Ut)|0,m=m+Math.imul(Rt,Mt)|0,y=y+Math.imul(pt,qt)|0,h=h+Math.imul(pt,zt)|0,h=h+Math.imul(mt,qt)|0,m=m+Math.imul(mt,zt)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(dt,Lt)|0,m=m+Math.imul(dt,Ht)|0,y=y+Math.imul(Ct,$t)|0,h=h+Math.imul(Ct,Nt)|0,h=h+Math.imul(ct,$t)|0,m=m+Math.imul(ct,Nt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(yt,Dt),h=Math.imul(yt,kt),h=h+Math.imul(wt,Dt)|0,m=Math.imul(wt,kt),y=y+Math.imul(ft,Ut)|0,h=h+Math.imul(ft,Mt)|0,h=h+Math.imul(vt,Ut)|0,m=m+Math.imul(vt,Mt)|0,y=y+Math.imul(gt,qt)|0,h=h+Math.imul(gt,zt)|0,h=h+Math.imul(Rt,qt)|0,m=m+Math.imul(Rt,zt)|0,y=y+Math.imul(pt,Lt)|0,h=h+Math.imul(pt,Ht)|0,h=h+Math.imul(mt,Lt)|0,m=m+Math.imul(mt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(dt,$t)|0,m=m+Math.imul(dt,Nt)|0;var jr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(yt,Ut),h=Math.imul(yt,Mt),h=h+Math.imul(wt,Ut)|0,m=Math.imul(wt,Mt),y=y+Math.imul(ft,qt)|0,h=h+Math.imul(ft,zt)|0,h=h+Math.imul(vt,qt)|0,m=m+Math.imul(vt,zt)|0,y=y+Math.imul(gt,Lt)|0,h=h+Math.imul(gt,Ht)|0,h=h+Math.imul(Rt,Lt)|0,m=m+Math.imul(Rt,Ht)|0,y=y+Math.imul(pt,$t)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(mt,$t)|0,m=m+Math.imul(mt,Nt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(yt,qt),h=Math.imul(yt,zt),h=h+Math.imul(wt,qt)|0,m=Math.imul(wt,zt),y=y+Math.imul(ft,Lt)|0,h=h+Math.imul(ft,Ht)|0,h=h+Math.imul(vt,Lt)|0,m=m+Math.imul(vt,Ht)|0,y=y+Math.imul(gt,$t)|0,h=h+Math.imul(gt,Nt)|0,h=h+Math.imul(Rt,$t)|0,m=m+Math.imul(Rt,Nt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(yt,Lt),h=Math.imul(yt,Ht),h=h+Math.imul(wt,Lt)|0,m=Math.imul(wt,Ht),y=y+Math.imul(ft,$t)|0,h=h+Math.imul(ft,Nt)|0,h=h+Math.imul(vt,$t)|0,m=m+Math.imul(vt,Nt)|0;var ui=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,y=Math.imul(yt,$t),h=Math.imul(yt,Nt),h=h+Math.imul(wt,$t)|0,m=Math.imul(wt,Nt);var ci=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,E[0]=Ne,E[1]=Ce,E[2]=xe,E[3]=Re,E[4]=Be,E[5]=Pe,E[6]=Ir,E[7]=ii,E[8]=Sr,E[9]=ni,E[10]=si,E[11]=oi,E[12]=Hr,E[13]=$r,E[14]=jr,E[15]=ai,E[16]=hi,E[17]=ui,E[18]=ci,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ot=Y);function at(o,c,d){d.negative=c.negative^o.negative,d.length=o.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-o.length+1);m<=h;m++){var J=E-m,Q=o.words[J]|0,l=c.words[m]|0,B=Q*l,x=B&67108863;I=I+(B/67108864|0)|0,x=x+y|0,y=x&67108863,I=I+(x>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function et(o,c,d){return at(o,c,d)}a.prototype.mulTo=function(o,c){var d,g=this.length+o.length;return this.length===10&&o.length===10?d=ot(this,o,c):g<63?d=Y(this,o,c):g<1024?d=at(this,o,c):d=et(this,o,c),d},a.prototype.mul=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},a.prototype.mulf=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),et(this,o,c)},a.prototype.imul=function(o){return this.clone().mulTo(o,this)},a.prototype.imuln=function(o){var c=o<0;c&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*o,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(o){return this.clone().imuln(o)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(o){var c=k(o);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},a.prototype.iushrn=function(o,c,d){i(typeof o=="number"&&o>=0);var g;c?g=(c-c%26)/26:g=0;var w=o%26,E=Math.min((o-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var J=this.words[h]|0;this.words[h]=m<<26-w|J>>>w,m=J&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(o,c,d){return i(this.negative===0),this.iushrn(o,c,d)},a.prototype.shln=function(o){return this.clone().ishln(o)},a.prototype.ushln=function(o){return this.clone().iushln(o)},a.prototype.shrn=function(o){return this.clone().ishrn(o)},a.prototype.ushrn=function(o){return this.clone().iushrn(o)},a.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(o){return this.clone().imaskn(o)},a.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},a.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(o){return this.clone().iaddn(o)},a.prototype.subn=function(o){return this.clone().isubn(o)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(o,c,d){var g=o.length+d,w;this._expand(g);var E,I=0;for(w=0;w<o.length;w++){E=(this.words[w+d]|0)+I;var y=(o.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(o,c){var d=this.length-o.length,g=this.clone(),w=o,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var J=g.clone()._ishlnsubmul(w,1,y);J.negative===0&&(g=J,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(o,c,d){if(i(!o.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(o)),{div:g,mod:w}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(o)),{div:E.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new a(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new a(this.modrn(o.words[0]))}:this._wordDiv(o,c)},a.prototype.div=function(o){return this.divmod(o,"div",!1).div},a.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},a.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},a.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(o):c.mod,g=o.ushrn(1),w=o.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=(1<<26)%o,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%o;return c?-g:g},a.prototype.modn=function(o){return this.modrn(o)},a.prototype.idivn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/o|0,d=w%o}return this._strip(),c?this.ineg():this},a.prototype.divn=function(o){return this.clone().idivn(o)},a.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var J=0,Q=1;!(c.words[0]&Q)&&J<26;++J,Q<<=1);if(J>0)for(c.iushrn(J);J-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,B=1;!(d.words[0]&B)&&l<26;++l,B<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var J;return c.cmpn(1)===0?J=g:J=w,J.cmpn(0)<0&&J.iadd(o),J},a.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),d=o.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(o){return this.egcd(o).a.umod(o)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(o){return this.words[0]&o},a.prototype.bincn=function(o){i(typeof o=="number");var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(o=-o),i(o<=67108863,"Number is too big");var g=this.words[0]|0;d=g===o?0:g<o?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=o.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(o){return this.cmpn(o)===1},a.prototype.gt=function(o){return this.cmp(o)===1},a.prototype.gten=function(o){return this.cmpn(o)>=0},a.prototype.gte=function(o){return this.cmp(o)>=0},a.prototype.ltn=function(o){return this.cmpn(o)===-1},a.prototype.lt=function(o){return this.cmp(o)===-1},a.prototype.lten=function(o){return this.cmpn(o)<=0},a.prototype.lte=function(o){return this.cmp(o)<=0},a.prototype.eqn=function(o){return this.cmpn(o)===0},a.prototype.eq=function(o){return this.cmp(o)===0},a.red=function(o){return new ht(o)},a.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(o){return this.red=o,this},a.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},a.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},a.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},a.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},a.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},a.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},a.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},a.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var X={k256:null,p224:null,p192:null,p25519:null};function Z(o,c){this.name=o,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var o=new a(null);return o.words=new Array(Math.ceil(this.n/13)),o},Z.prototype.ireduce=function(o){var c=o,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Z.prototype.split=function(o,c){o.iushrn(this.n,0,c)},Z.prototype.imulK=function(o){return o.imul(this.k)};function ut(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ut,Z),ut.prototype.split=function(o,c){for(var d=4194303,g=Math.min(o.length,9),w=0;w<g;w++)c.words[w]=o.words[w];if(c.length=g,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(c.words[c.length++]=E&d,w=10;w<o.length;w++){var I=o.words[w]|0;o.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,o.words[w-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},ut.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,d=0;d<o.length;d++){var g=o.words[d]|0;c+=g*977,o.words[d]=c&67108863,c=g*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function nt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(nt,Z);function Gt(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,Z);function Zt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Zt,Z),Zt.prototype.imulK=function(o){for(var c=0,d=0;d<o.length;d++){var g=(o.words[d]|0)*19+c,w=g&67108863;g>>>=26,o.words[d]=w,c=g}return c!==0&&(o.words[o.length++]=c),o},a._prime=function(o){if(X[o])return X[o];var c;if(o==="k256")c=new ut;else if(o==="p224")c=new nt;else if(o==="p192")c=new Gt;else if(o==="p25519")c=new Zt;else throw new Error("Unknown prime "+o);return X[o]=c,c};function ht(o){if(typeof o=="string"){var c=a._prime(o);this.m=c.p,this.prime=c}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}ht.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},ht.prototype._verify2=function(o,c){i((o.negative|c.negative)===0,"red works only with positives"),i(o.red&&o.red===c.red,"red works only with red numbers")},ht.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(S(o,o.umod(this.m)._forceRed(this)),o)},ht.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},ht.prototype.add=function(o,c){this._verify2(o,c);var d=o.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},ht.prototype.iadd=function(o,c){this._verify2(o,c);var d=o.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},ht.prototype.sub=function(o,c){this._verify2(o,c);var d=o.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},ht.prototype.isub=function(o,c){this._verify2(o,c);var d=o.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},ht.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},ht.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},ht.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},ht.prototype.isqr=function(o){return this.imul(o,o.clone())},ht.prototype.sqr=function(o){return this.mul(o,o)},ht.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(o,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),J=this.pow(o,g.addn(1).iushrn(1)),Q=this.pow(o,g),l=w;Q.cmp(E)!==0;){for(var B=Q,x=0;B.cmp(E)!==0;x++)B=B.redSqr();i(x<l);var T=this.pow(m,new a(1).iushln(l-x-1));J=J.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=x}return J},ht.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},ht.prototype.pow=function(o,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=o;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],o);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],J=h-1;J>=0;J--){var Q=m>>J&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||J!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},ht.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},ht.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},a.mont=function(o){return new Yt(o)};function Yt(o){ht.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Yt,ht),Yt.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Yt.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Yt.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var d=o.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new a(0)._forceRed(this);var d=o.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,dm)})(ym);var re=ym.exports;const wm="bignumber/5.7.0";var v0=re.BN;const ss=new oe(wm),vf={},J1=9007199254740991;function A4(e){return e!=null&&(He.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Qo(e)||typeof e=="bigint"||nh(e))}let Y1=!1;class He{constructor(t,r){t!==vf&&ss.throwError("cannot call constructor directly; use BigNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Yr(pe(this).fromTwos(t))}toTwos(t){return Yr(pe(this).toTwos(t))}abs(){return this._hex[0]==="-"?He.from(this._hex.substring(1)):this}add(t){return Yr(pe(this).add(pe(t)))}sub(t){return Yr(pe(this).sub(pe(t)))}div(t){return He.from(t).isZero()&&Pi("division-by-zero","div"),Yr(pe(this).div(pe(t)))}mul(t){return Yr(pe(this).mul(pe(t)))}mod(t){const r=pe(t);return r.isNeg()&&Pi("division-by-zero","mod"),Yr(pe(this).umod(r))}pow(t){const r=pe(t);return r.isNeg()&&Pi("negative-power","pow"),Yr(pe(this).pow(r))}and(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&Pi("unbound-bitwise-result","and"),Yr(pe(this).and(r))}or(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&Pi("unbound-bitwise-result","or"),Yr(pe(this).or(r))}xor(t){const r=pe(t);return(this.isNegative()||r.isNeg())&&Pi("unbound-bitwise-result","xor"),Yr(pe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Pi("negative-width","mask"),Yr(pe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Pi("negative-width","shl"),Yr(pe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Pi("negative-width","shr"),Yr(pe(this).shrn(t))}eq(t){return pe(this).eq(pe(t))}lt(t){return pe(this).lt(pe(t))}lte(t){return pe(this).lte(pe(t))}gt(t){return pe(this).gt(pe(t))}gte(t){return pe(this).gte(pe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return pe(this).isZero()}toNumber(){try{return pe(this).toNumber()}catch{Pi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ss.throwError("this platform does not support BigInt",oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Y1||(Y1=!0,ss.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ss.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",oe.errors.UNEXPECTED_ARGUMENT,{}):ss.throwError("BigNumber.toString does not accept parameters",oe.errors.UNEXPECTED_ARGUMENT,{})),pe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof He)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new He(vf,Wa(t)):t.match(/^-?[0-9]+$/)?new He(vf,Wa(new v0(t))):ss.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Pi("underflow","BigNumber.from",t),(t>=J1||t<=-J1)&&Pi("overflow","BigNumber.from",t),He.from(String(t));const r=t;if(typeof r=="bigint")return He.from(r.toString());if(nh(r))return He.from(vm(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return He.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Qo(i)||i[0]==="-"&&Qo(i.substring(1))))return He.from(i)}return ss.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Wa(e){if(typeof e!="string")return Wa(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&ss.throwArgumentError("invalid hex","value",e),e=Wa(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Yr(e){return He.from(Wa(e))}function pe(e){const t=He.from(e).toHexString();return t[0]==="-"?new v0("-"+t.substring(3),16):new v0(t.substring(2),16)}function Pi(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),ss.throwError(e,oe.errors.NUMERIC_FAULT,i)}const Dr=new oe(wm),ja={},Am=He.from(0),bm=He.from(-1);function Em(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Dr.throwError(e,oe.errors.NUMERIC_FAULT,n)}let Ka="0";for(;Ka.length<256;)Ka+=Ka;function G0(e){if(typeof e!="number")try{e=He.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Ka.substring(0,e):Dr.throwArgumentError("invalid decimal size","decimals",e)}function yf(e,t){t==null&&(t=0);const r=G0(t);e=He.from(e);const i=e.lt(Am);i&&(e=e.mul(bm));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function ts(e,t){t==null&&(t=0);const r=G0(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Dr.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Dr.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Dr.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&Em("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=He.from(a),b=He.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(bm)),A}class Do{constructor(t,r,i,n){t!==ja&&Dr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=G0(n),Object.freeze(this)}static from(t){if(t instanceof Do)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Dr.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&Dr.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&Dr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Dr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Do(ja,r,i,n)}}class Ar{constructor(t,r,i,n){t!==ja&&Dr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Dr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=ts(this._value,this.format.decimals),i=ts(t._value,t.format.decimals);return Ar.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=ts(this._value,this.format.decimals),i=ts(t._value,t.format.decimals);return Ar.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=ts(this._value,this.format.decimals),i=ts(t._value,t.format.decimals);return Ar.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=ts(this._value,this.format.decimals),i=ts(t._value,t.format.decimals);return Ar.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Ar.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(V1.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Ar.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(V1.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Dr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Ar.from("1"+Ka.substring(0,t),this.format),n=b4.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Dr.throwArgumentError("invalid byte width","width",t);const r=He.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Ou(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Ar.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!A4(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Ar.fromString(yf(t,r),Do.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Do.from(r),n=ts(t,i.decimals);!i.signed&&n.lt(Am)&&Em("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=Ou(a,i.width/8));const f=yf(n,i.decimals);return new Ar(ja,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Do.from(r);if(mm(t).length>i.width/8)throw new Error("overflow");let n=He.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=yf(n,i.decimals);return new Ar(ja,a,f,i)}static from(t,r){if(typeof t=="string")return Ar.fromString(t,r);if(nh(t))return Ar.fromBytes(t,r);try{return Ar.fromValue(t,0,r)}catch(i){if(i.code!==oe.errors.INVALID_ARGUMENT)throw i}return Dr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const V1=Ar.from(1),b4=Ar.from("0.5"),E4="strings/5.7.0",M4=new oe(E4);var W1;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(W1||(W1={}));var ko;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(ko||(ko={}));function I4(e,t,r,i,n){return M4.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function Mm(e,t,r,i,n){if(e===ko.BAD_PREFIX||e===ko.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===ko.OVERRUN?r.length-t-1:0}function S4(e,t,r,i,n){return e===ko.OVERLONG?(i.push(n),0):(i.push(65533),Mm(e,t,r))}Object.freeze({error:I4,ignore:Mm,replace:S4});function _4(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function wf(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function X1(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}X1("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),wf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),wf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),wf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",_4),X1("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Im="hash/5.7.0";function N4(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return mm(t)}function Sm(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function C4(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function x4(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let X=1;X<i;X++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function S(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const _=31,C=Math.pow(2,_),R=C>>>1,F=R>>1,H=C-1;let k=0;for(let X=0;X<_;X++)k=k<<1|S();let Y=[],ot=0,at=C;for(;;){let X=Math.floor(((k-ot+1)*n-1)/at),Z=0,ut=i;for(;ut-Z>1;){let Zt=Z+ut>>>1;X<a[Zt]?ut=Zt:Z=Zt}if(Z==0)break;Y.push(Z);let nt=ot+Math.floor(at*a[Z]/n),Gt=ot+Math.floor(at*a[Z+1]/n)-1;for(;!((nt^Gt)&R);)k=k<<1&H|S(),nt=nt<<1&H,Gt=Gt<<1&H|1;for(;nt&~Gt&F;)k=k&R|k<<1&H>>>1|S(),nt=nt<<1^R,Gt=(Gt^R)<<1|R|1;ot=nt,at=1+Gt-nt}let et=i-4;return Y.map(X=>{switch(X-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return X-1}})}function R4(e){let t=0;return()=>e[t++]}function B4(e){return R4(x4(e))}function P4(e){return e&1?~e>>1:e>>1}function T4(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Z1(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function O4(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=P4(t());return r}function Fu(e,t){let r=Z1(e(),e),i=e(),n=Z1(i,e),a=T4(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function F4(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(k4(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(U4(r,e))}return C4(Sm(t))}function D4(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function _m(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)O4(e,r).forEach((a,f)=>i[f].push(a));return i}function k4(e,t){let r=1+t(),i=t(),n=D4(t),a=_m(n.length,1+e,t);return Sm(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((S,_)=>{let C=_*i;return[b+_*r,A.map(R=>R+C)]})}))}function U4(e,t){let r=1+t();return _m(r,1+e,t).map(i=>[i[0],i.slice(1)])}function q4(e){let t=Fu(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=Fu(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,S)=>S.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function z4(){return B4(N4("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"))}const Zh=z4();new Set(Fu(Zh)),new Set(Fu(Zh)),F4(Zh),q4(Zh),new oe(Im);const L4=new Uint8Array(32);L4.fill(0);const H4="rlp/5.7.0";new oe(H4);const $4="address/5.7.0";new oe($4);const j4="properties/5.7.0";new oe(j4);new oe(Im);const K4=new Uint8Array(32);K4.fill(0),He.from(-1);const Q4=He.from(0),G4=He.from(1);He.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ou(G4.toHexString(),32),Ou(Q4.toHexString(),32);var yn={},ve={},sh=Nm;function Nm(e,t){if(!e)throw new Error(t||"Assertion failed")}Nm.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var y0={exports:{}};typeof Object.create=="function"?y0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:y0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var J4=sh,Y4=y0.exports;ve.inherits=Y4;function V4(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function W4(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):V4(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}ve.toArray=W4;function X4(e){for(var t="",r=0;r<e.length;r++)t+=xm(e[r].toString(16));return t}ve.toHex=X4;function Cm(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ve.htonl=Cm;function Z4(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=Cm(n)),r+=Rm(n.toString(16))}return r}ve.toHex32=Z4;function xm(e){return e.length===1?"0"+e:e}ve.zero2=xm;function Rm(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ve.zero8=Rm;function t5(e,t,r,i){var n=r-t;J4(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}ve.join32=t5;function e5(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}ve.split32=e5;function r5(e,t){return e>>>t|e<<32-t}ve.rotr32=r5;function i5(e,t){return e<<t|e>>>32-t}ve.rotl32=i5;function n5(e,t){return e+t>>>0}ve.sum32=n5;function s5(e,t,r){return e+t+r>>>0}ve.sum32_3=s5;function o5(e,t,r,i){return e+t+r+i>>>0}ve.sum32_4=o5;function a5(e,t,r,i,n){return e+t+r+i+n>>>0}ve.sum32_5=a5;function h5(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}ve.sum64=h5;function u5(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}ve.sum64_hi=u5;function c5(e,t,r,i){var n=t+i;return n>>>0}ve.sum64_lo=c5;function f5(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var S=e+r+n+f+b;return S>>>0}ve.sum64_4_hi=f5;function l5(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}ve.sum64_4_lo=l5;function d5(e,t,r,i,n,a,f,v,b,A){var S=0,_=t;_=_+i>>>0,S+=_<t?1:0,_=_+a>>>0,S+=_<a?1:0,_=_+v>>>0,S+=_<v?1:0,_=_+A>>>0,S+=_<A?1:0;var C=e+r+n+f+b+S;return C>>>0}ve.sum64_5_hi=d5;function p5(e,t,r,i,n,a,f,v,b,A){var S=t+i+a+v+A;return S>>>0}ve.sum64_5_lo=p5;function g5(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}ve.rotr64_hi=g5;function m5(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ve.rotr64_lo=m5;function v5(e,t,r){return e>>>r}ve.shr64_hi=v5;function y5(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ve.shr64_lo=y5;var ta={},tp=ve,w5=sh;function tu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ta.BlockHash=tu,tu.prototype.update=function(e,t){if(e=tp.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=tp.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},tu.prototype.digest=function(e){return this.update(this._pad()),w5(this.pending===null),this._digest(e)},tu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Ro={},Hn={},A5=ve,Pn=A5.rotr32;function b5(e,t,r,i){if(e===0)return Bm(t,r,i);if(e===1||e===3)return Tm(t,r,i);if(e===2)return Pm(t,r,i)}Hn.ft_1=b5;function Bm(e,t,r){return e&t^~e&r}Hn.ch32=Bm;function Pm(e,t,r){return e&t^e&r^t&r}Hn.maj32=Pm;function Tm(e,t,r){return e^t^r}Hn.p32=Tm;function E5(e){return Pn(e,2)^Pn(e,13)^Pn(e,22)}Hn.s0_256=E5;function M5(e){return Pn(e,6)^Pn(e,11)^Pn(e,25)}Hn.s1_256=M5;function I5(e){return Pn(e,7)^Pn(e,18)^e>>>3}Hn.g0_256=I5;function S5(e){return Pn(e,17)^Pn(e,19)^e>>>10}Hn.g1_256=S5;var Go=ve,_5=ta,N5=Hn,Af=Go.rotl32,xa=Go.sum32,C5=Go.sum32_5,x5=N5.ft_1,Om=_5.BlockHash,R5=[1518500249,1859775393,2400959708,3395469782];function Sn(){if(!(this instanceof Sn))return new Sn;Om.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Go.inherits(Sn,Om);var B5=Sn;Sn.blockSize=512,Sn.outSize=160,Sn.hmacStrength=80,Sn.padLength=64,Sn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Af(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),S=C5(Af(n,5),x5(A,a,f,v),b,r[i],R5[A]);b=v,v=f,f=Af(a,30),a=n,n=S}this.h[0]=xa(this.h[0],n),this.h[1]=xa(this.h[1],a),this.h[2]=xa(this.h[2],f),this.h[3]=xa(this.h[3],v),this.h[4]=xa(this.h[4],b)},Sn.prototype._digest=function(e){return e==="hex"?Go.toHex32(this.h,"big"):Go.split32(this.h,"big")};var Jo=ve,P5=ta,ea=Hn,T5=sh,tn=Jo.sum32,O5=Jo.sum32_4,F5=Jo.sum32_5,D5=ea.ch32,k5=ea.maj32,U5=ea.s0_256,q5=ea.s1_256,z5=ea.g0_256,L5=ea.g1_256,Fm=P5.BlockHash,H5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _n(){if(!(this instanceof _n))return new _n;Fm.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=H5,this.W=new Array(64)}Jo.inherits(_n,Fm);var Dm=_n;_n.blockSize=512,_n.outSize=256,_n.hmacStrength=192,_n.padLength=64,_n.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=O5(L5(r[i-2]),r[i-7],z5(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],S=this.h[6],_=this.h[7];for(T5(this.k.length===r.length),i=0;i<r.length;i++){var C=F5(_,q5(b),D5(b,A,S),this.k[i],r[i]),R=tn(U5(n),k5(n,a,f));_=S,S=A,A=b,b=tn(v,C),v=f,f=a,a=n,n=tn(C,R)}this.h[0]=tn(this.h[0],n),this.h[1]=tn(this.h[1],a),this.h[2]=tn(this.h[2],f),this.h[3]=tn(this.h[3],v),this.h[4]=tn(this.h[4],b),this.h[5]=tn(this.h[5],A),this.h[6]=tn(this.h[6],S),this.h[7]=tn(this.h[7],_)},_n.prototype._digest=function(e){return e==="hex"?Jo.toHex32(this.h,"big"):Jo.split32(this.h,"big")};var w0=ve,km=Dm;function hs(){if(!(this instanceof hs))return new hs;km.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}w0.inherits(hs,km);var $5=hs;hs.blockSize=512,hs.outSize=224,hs.hmacStrength=192,hs.padLength=64,hs.prototype._digest=function(e){return e==="hex"?w0.toHex32(this.h.slice(0,7),"big"):w0.split32(this.h.slice(0,7),"big")};var Zr=ve,j5=ta,K5=sh,Tn=Zr.rotr64_hi,On=Zr.rotr64_lo,Um=Zr.shr64_hi,qm=Zr.shr64_lo,Is=Zr.sum64,bf=Zr.sum64_hi,Ef=Zr.sum64_lo,Q5=Zr.sum64_4_hi,G5=Zr.sum64_4_lo,J5=Zr.sum64_5_hi,Y5=Zr.sum64_5_lo,zm=j5.BlockHash,V5=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hn(){if(!(this instanceof hn))return new hn;zm.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=V5,this.W=new Array(160)}Zr.inherits(hn,zm);var Lm=hn;hn.blockSize=1024,hn.outSize=512,hn.hmacStrength=192,hn.padLength=128,hn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=a7(r[i-4],r[i-3]),a=h7(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=s7(r[i-30],r[i-29]),A=o7(r[i-30],r[i-29]),S=r[i-32],_=r[i-31];r[i]=Q5(n,a,f,v,b,A,S,_),r[i+1]=G5(n,a,f,v,b,A,S,_)}},hn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],S=this.h[7],_=this.h[8],C=this.h[9],R=this.h[10],F=this.h[11],H=this.h[12],k=this.h[13],Y=this.h[14],ot=this.h[15];K5(this.k.length===r.length);for(var at=0;at<r.length;at+=2){var et=Y,X=ot,Z=i7(_,C),ut=n7(_,C),nt=W5(_,C,R,F,H),Gt=X5(_,C,R,F,H,k),Zt=this.k[at],ht=this.k[at+1],Yt=r[at],o=r[at+1],c=J5(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o),d=Y5(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o);et=e7(i,n),X=r7(i,n),Z=Z5(i,n,a,f,v),ut=t7(i,n,a,f,v,b);var g=bf(et,X,Z,ut),w=Ef(et,X,Z,ut);Y=H,ot=k,H=R,k=F,R=_,F=C,_=bf(A,S,c,d),C=Ef(S,S,c,d),A=v,S=b,v=a,b=f,a=i,f=n,i=bf(c,d,g,w),n=Ef(c,d,g,w)}Is(this.h,0,i,n),Is(this.h,2,a,f),Is(this.h,4,v,b),Is(this.h,6,A,S),Is(this.h,8,_,C),Is(this.h,10,R,F),Is(this.h,12,H,k),Is(this.h,14,Y,ot)},hn.prototype._digest=function(e){return e==="hex"?Zr.toHex32(this.h,"big"):Zr.split32(this.h,"big")};function W5(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function X5(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function Z5(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function t7(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function e7(e,t){var r=Tn(e,t,28),i=Tn(t,e,2),n=Tn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function r7(e,t){var r=On(e,t,28),i=On(t,e,2),n=On(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function i7(e,t){var r=Tn(e,t,14),i=Tn(e,t,18),n=Tn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function n7(e,t){var r=On(e,t,14),i=On(e,t,18),n=On(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function s7(e,t){var r=Tn(e,t,1),i=Tn(e,t,8),n=Um(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function o7(e,t){var r=On(e,t,1),i=On(e,t,8),n=qm(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function a7(e,t){var r=Tn(e,t,19),i=Tn(t,e,29),n=Um(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function h7(e,t){var r=On(e,t,19),i=On(t,e,29),n=qm(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var A0=ve,Hm=Lm;function us(){if(!(this instanceof us))return new us;Hm.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A0.inherits(us,Hm);var u7=us;us.blockSize=1024,us.outSize=384,us.hmacStrength=192,us.padLength=128,us.prototype._digest=function(e){return e==="hex"?A0.toHex32(this.h.slice(0,12),"big"):A0.split32(this.h.slice(0,12),"big")},Ro.sha1=B5,Ro.sha224=$5,Ro.sha256=Dm,Ro.sha384=u7,Ro.sha512=Lm;var $m={},ro=ve,c7=ta,eu=ro.rotl32,ep=ro.sum32,Ra=ro.sum32_3,rp=ro.sum32_4,jm=c7.BlockHash;function wn(){if(!(this instanceof wn))return new wn;jm.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ro.inherits(wn,jm),$m.ripemd160=wn,wn.blockSize=512,wn.outSize=160,wn.hmacStrength=192,wn.padLength=64,wn.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,S=a,_=f,C=0;C<80;C++){var R=ep(eu(rp(r,ip(C,i,n,a),e[d7[C]+t],f7(C)),g7[C]),f);r=f,f=a,a=eu(n,10),n=i,i=R,R=ep(eu(rp(v,ip(79-C,b,A,S),e[p7[C]+t],l7(C)),m7[C]),_),v=_,_=S,S=eu(A,10),A=b,b=R}R=Ra(this.h[1],n,S),this.h[1]=Ra(this.h[2],a,_),this.h[2]=Ra(this.h[3],f,v),this.h[3]=Ra(this.h[4],r,b),this.h[4]=Ra(this.h[0],i,A),this.h[0]=R},wn.prototype._digest=function(e){return e==="hex"?ro.toHex32(this.h,"little"):ro.split32(this.h,"little")};function ip(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function f7(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l7(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var d7=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p7=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g7=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m7=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],v7=ve,y7=sh;function Uo(e,t,r){if(!(this instanceof Uo))return new Uo(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(v7.toArray(t,r))}var w7=Uo;Uo.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),y7(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Uo.prototype.update=function(e,t){return this.inner.update(e,t),this},Uo.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ve,t.common=ta,t.sha=Ro,t.ripemd=$m,t.hmac=w7,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(yn);function ra(e,t,r){return r={path:t,exports:{},require:function(i,n){return A7(i,n??r.path)}},e(r,r.exports),r.exports}function A7(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var J0=Km;function Km(e,t){if(!e)throw new Error(t||"Assertion failed")}Km.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ln=ra(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var S=f.charCodeAt(A),_=S>>8,C=S&255;_?b.push(_,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),Ai=ra(function(e,t){var r=t;r.assert=J0,r.toArray=ln.toArray,r.zero2=ln.zero2,r.toHex=ln.toHex,r.encode=ln.encode;function i(b,A,S){var _=new Array(Math.max(b.bitLength(),S)+1);_.fill(0);for(var C=1<<A+1,R=b.clone(),F=0;F<_.length;F++){var H,k=R.andln(C-1);R.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,R.isubn(H)):H=0,_[F]=H,R.iushrn(1)}return _}r.getNAF=i;function n(b,A){var S=[[],[]];b=b.clone(),A=A.clone();for(var _=0,C=0,R;b.cmpn(-_)>0||A.cmpn(-C)>0;){var F=b.andln(3)+_&3,H=A.andln(3)+C&3;F===3&&(F=-1),H===3&&(H=-1);var k;F&1?(R=b.andln(7)+_&7,(R===3||R===5)&&H===2?k=-F:k=F):k=0,S[0].push(k);var Y;H&1?(R=A.andln(7)+C&7,(R===3||R===5)&&F===2?Y=-H:Y=H):Y=0,S[1].push(Y),2*_===k+1&&(_=1-_),2*C===Y+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return S}r.getJSF=n;function a(b,A,S){var _="_"+A;b.prototype[A]=function(){return this[_]!==void 0?this[_]:this[_]=S.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new re(b,"hex","le")}r.intFromLE=v}),ru=Ai.getNAF,b7=Ai.getJSF,Du=Ai.assert;function Cs(e,t){this.type=e,this.p=new re(t.p,16),this.red=t.prime?re.red(t.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=t.n&&new re(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ao=Cs;Cs.prototype.point=function(){throw new Error("Not implemented")},Cs.prototype.validate=function(){throw new Error("Not implemented")},Cs.prototype._fixedNafMul=function(e,t){Du(e.precomputed);var r=e._getDoubles(),i=ru(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),S=this.jpoint(null,null,null),_=n;_>0;_--){for(f=0;f<a.length;f++)v=a[f],v===_?S=S.mixedAdd(r.points[f]):v===-_&&(S=S.mixedAdd(r.points[f].neg()));A=A.add(S)}return A.toP()},Cs.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=ru(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];Du(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Cs.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,S,_;for(A=0;A<i;A++){_=t[A];var C=_._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var R=A-1,F=A;if(a[R]!==1||a[F]!==1){v[R]=ru(r[R],a[R],this._bitLength),v[F]=ru(r[F],a[F],this._bitLength),b=Math.max(v[R].length,b),b=Math.max(v[F].length,b);continue}var H=[t[R],null,null,t[F]];t[R].y.cmp(t[F].y)===0?(H[1]=t[R].add(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg())):t[R].y.cmp(t[F].y.redNeg())===0?(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].add(t[F].neg())):(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=b7(r[R],r[F]);for(b=Math.max(Y[0].length,b),v[R]=new Array(b),v[F]=new Array(b),S=0;S<b;S++){var ot=Y[0][S]|0,at=Y[1][S]|0;v[R][S]=k[(ot+1)*3+(at+1)],v[F][S]=0,f[R]=H}}var et=this.jpoint(null,null,null),X=this._wnafT4;for(A=b;A>=0;A--){for(var Z=0;A>=0;){var ut=!0;for(S=0;S<i;S++)X[S]=v[S][A]|0,X[S]!==0&&(ut=!1);if(!ut)break;Z++,A--}if(A>=0&&Z++,et=et.dblp(Z),A<0)break;for(S=0;S<i;S++){var nt=X[S];nt!==0&&(nt>0?_=f[S][nt-1>>1]:nt<0&&(_=f[S][-nt-1>>1].neg()),_.type==="affine"?et=et.mixedAdd(_):et=et.add(_))}}for(A=0;A<i;A++)f[A]=null;return n?et:et.toP()};function Ti(e,t){this.curve=e,this.type=t,this.precomputed=null}Cs.BasePoint=Ti,Ti.prototype.eq=function(){throw new Error("Not implemented")},Ti.prototype.validate=function(){return this.curve.validate(this)},Cs.prototype.decodePoint=function(e,t){e=Ai.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Du(e[e.length-1]%2===0):e[0]===7&&Du(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Ti.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ti.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Ti.prototype.encode=function(e,t){return Ai.encode(this._encode(t),e)},Ti.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Ti.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Ti.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},Ti.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},Ti.prototype._getBeta=function(){return null},Ti.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Y0=ra(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),E7=Ai.assert;function Ki(e){ao.call(this,"short",e),this.a=new re(e.a,16).toRed(this.red),this.b=new re(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Y0(Ki,ao);var M7=Ki;Ki.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new re(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],E7(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new re(f.a,16),b:new re(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},Ki.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:re.mont(e),r=new re(2).toRed(t).redInvm(),i=r.redNeg(),n=new re(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},Ki.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new re(1),a=new re(0),f=new re(0),v=new re(1),b,A,S,_,C,R,F,H=0,k,Y;r.cmpn(0)!==0;){var ot=i.div(r);k=i.sub(ot.mul(r)),Y=f.sub(ot.mul(n));var at=v.sub(ot.mul(a));if(!S&&k.cmp(t)<0)b=F.neg(),A=n,S=k.neg(),_=Y;else if(S&&++H===2)break;F=k,i=r,r=k,f=n,n=Y,v=a,a=at}C=k.neg(),R=Y;var et=S.sqr().add(_.sqr()),X=C.sqr().add(R.sqr());return X.cmp(et)>=0&&(C=b,R=A),S.negative&&(S=S.neg(),_=_.neg()),C.negative&&(C=C.neg(),R=R.neg()),[{a:S,b:_},{a:C,b:R}]},Ki.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),S=e.sub(f).sub(v),_=b.add(A).neg();return{k1:S,k2:_}},Ki.prototype.pointFromX=function(e,t){e=new re(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Ki.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Ki.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),S=0;S<a*2;S++)i[S]=null,n[S]=null;return A};function fr(e,t,r,i){ao.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(t,16),this.y=new re(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Y0(fr,ao.BasePoint),Ki.prototype.point=function(e,t,r){return new fr(this,e,t,r)},Ki.prototype.pointFromJSON=function(e,t){return fr.fromJSON(this,e,t)},fr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},fr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},fr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},fr.prototype.isInfinity=function(){return this.inf},fr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},fr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},fr.prototype.getX=function(){return this.x.fromRed()},fr.prototype.getY=function(){return this.y.fromRed()},fr.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},fr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},fr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},fr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},fr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},fr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function vr(e,t,r,i){ao.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(t,16),this.y=new re(r,16),this.z=new re(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Y0(vr,ao.BasePoint),Ki.prototype.jpoint=function(e,t,r){return new vr(this,e,t,r)},vr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},vr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},vr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),S=A.redMul(v),_=i.redMul(A),C=b.redSqr().redIAdd(S).redISub(_).redISub(_),R=b.redMul(_.redISub(C)).redISub(a.redMul(S)),F=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,R,F)},vr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),S=r.redMul(b),_=v.redSqr().redIAdd(A).redISub(S).redISub(S),C=v.redMul(S.redISub(_)).redISub(n.redMul(A)),R=this.z.redMul(f);return this.curve.jpoint(_,C,R)},vr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var S=a.redSqr(),_=A.redSqr(),C=_.redSqr(),R=S.redAdd(S).redIAdd(S).redIAdd(i.redMul(b)),F=a.redMul(_),H=R.redSqr().redISub(F.redAdd(F)),k=F.redISub(H),Y=R.redMul(k);Y=Y.redIAdd(Y).redISub(C);var ot=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ot,A=Y}return this.curve.jpoint(a,A.redMul(n),v)},vr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},vr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),_=this.y.redSqr(),C=_.redSqr(),R=this.x.redAdd(_).redSqr().redISub(S).redISub(C);R=R.redIAdd(R);var F=S.redAdd(S).redIAdd(S),H=F.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(R).redISub(R),t=F.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},vr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),_=this.y.redSqr(),C=this.x.redMul(_),R=this.x.redSub(S).redMul(this.x.redAdd(S));R=R.redAdd(R).redIAdd(R);var F=C.redIAdd(C);F=F.redIAdd(F);var H=F.redAdd(F);e=R.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(S);var k=_.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(F.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},vr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),S=v.redSqr().redISub(A.redAdd(A)),_=A.redISub(S),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=v.redMul(_).redISub(C),F=r.redAdd(r).redMul(i);return this.curve.jpoint(S,R,F)},vr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),S=t.redMul(A);S=S.redIAdd(S),S=S.redIAdd(S);var _=this.x.redMul(v).redISub(S);_=_.redIAdd(_),_=_.redIAdd(_);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(_,C,R)},vr.prototype.mul=function(e,t){return e=new re(e,t),this.curve._wnafMul(this,e)},vr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},vr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},vr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},vr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wu=ra(function(e,t){var r=t;r.base=ao,r.short=M7,r.mont=null,r.edwards=null}),Au=ra(function(e,t){var r=t,i=Ai.assert;function n(v){v.type==="short"?this.curve=new wu.short(v):v.type==="edwards"?this.curve=new wu.edwards(v):this.curve=new wu.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function xs(e){if(!(this instanceof xs))return new xs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ln.toArray(e.entropy,e.entropyEnc||"hex"),r=ln.toArray(e.nonce,e.nonceEnc||"hex"),i=ln.toArray(e.pers,e.persEnc||"hex");J0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var np=xs;xs.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},xs.prototype._hmac=function(){return new yn.hmac(this.hash,this.K)},xs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},xs.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=ln.toArray(e,t),r=ln.toArray(r,i),J0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},xs.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=ln.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,ln.encode(a,t)};var Mf=Ai.assert;function Cr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var If=Cr;Cr.fromPublic=function(e,t,r){return t instanceof Cr?t:new Cr(e,{pub:t,pubEnc:r})},Cr.fromPrivate=function(e,t,r){return t instanceof Cr?t:new Cr(e,{priv:t,privEnc:r})},Cr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Cr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Cr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Cr.prototype._importPrivate=function(e,t){this.priv=new re(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Cr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Mf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Cr.prototype.derive=function(e){return e.validate()||Mf(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Cr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Cr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Cr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var I7=Ai.assert;function Zu(e,t){if(e instanceof Zu)return e;this._importDER(e,t)||(I7(e.r&&e.s,"Signature without r or s"),this.r=new re(e.r,16),this.s=new re(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var iu=Zu;function S7(){this.place=0}function Sf(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function sp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Zu.prototype._importDER=function(e,t){e=Ai.toArray(e,t);var r=new S7;if(e[r.place++]!==48)return!1;var i=Sf(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Sf(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=Sf(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new re(a),this.s=new re(v),this.recoveryParam=null,!0};function _f(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Zu.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=sp(t),r=sp(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];_f(i,t.length),i=i.concat(t),i.push(2),_f(i,r.length);var n=i.concat(r),a=[48];return _f(a,n.length),a=a.concat(n),Ai.encode(a,e)};var _7=function(){throw new Error("unsupported")},Qm=Ai.assert;function Li(e){if(!(this instanceof Li))return new Li(e);typeof e=="string"&&(Qm(Object.prototype.hasOwnProperty.call(Au,e),"Unknown curve "+e),e=Au[e]),e instanceof Au.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var N7=Li;Li.prototype.keyPair=function(e){return new If(this,e)},Li.prototype.keyFromPrivate=function(e,t){return If.fromPrivate(this,e,t)},Li.prototype.keyFromPublic=function(e,t){return If.fromPublic(this,e,t)},Li.prototype.genKeyPair=function(e){e||(e={});for(var t=new np({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_7(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new re(2));;){var n=new re(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Li.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Li.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new re(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new np({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new re(1)),A=0;;A++){var S=i.k?i.k(A):new re(v.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(b)>=0)){var _=this.g.mul(S);if(!_.isInfinity()){var C=_.getX(),R=C.umod(this.n);if(R.cmpn(0)!==0){var F=S.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(F=F.umod(this.n),F.cmpn(0)!==0){var H=(_.getY().isOdd()?1:0)|(C.cmp(R)!==0?2:0);return i.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),H^=1),new iu({r:R,s:F,recoveryParam:H})}}}}}},Li.prototype.verify=function(e,t,r,i){e=this._truncateToN(new re(e,16)),r=this.keyFromPublic(r,i),t=new iu(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},Li.prototype.recoverPubKey=function(e,t,r,i){Qm((3&r)===r,"The recovery param is more than two bits"),t=new iu(t,i);var n=this.n,a=new re(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var S=t.r.invm(n),_=n.sub(a).mul(S).umod(n),C=v.mul(S).umod(n);return this.g.mulAdd(_,f,C)},Li.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new iu(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var C7=ra(function(e,t){var r=t;r.version="6.5.4",r.utils=Ai,r.rand=function(){throw new Error("unsupported")},r.curve=wu,r.curves=Au,r.ec=N7,r.eddsa=null});C7.ec;const x7="signing-key/5.7.0";new oe(x7);const R7="transactions/5.7.0";new oe(R7);var op;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(op||(op={}));const B7={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function P7(e,t){const{message:r,code:i}=B7[e];return{message:t?`${r} ${t}`:r,code:i}}function b0(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}const T7="idb-keyval";var O7=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=n=>t+n;let i;return e.dbName&&e.storeName&&(i=K8(e.dbName,e.storeName)),{name:T7,options:e,async hasItem(n){return!(typeof await k1(r(n),i)>"u")},async getItem(n){return await k1(r(n),i)??null},setItem(n,a){return Q8(r(n),a,i)},removeItem(n){return G8(r(n),i)},getKeys(){return J8(i)},clear(){return Y8(i)}}};const F7="WALLET_CONNECT_V2_INDEXED_DB",D7="keyvaluestorage";class k7{constructor(){this.indexedDb=j8({driver:O7({dbName:F7,storeName:D7})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,Va(r))}async removeItem(t){await this.indexedDb.removeItem(t)}}var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie<"u"?Ie:typeof self<"u"?self:{},bu={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,i){this[r]=String(i)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Nf<"u"&&Nf.localStorage?bu.exports=Nf.localStorage:typeof window<"u"&&window.localStorage?bu.exports=window.localStorage:bu.exports=new t})();function U7(e){var t;return[e[0],Yu((t=e[1])!=null?t:"")]}class q7{constructor(){this.localStorage=bu.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(U7)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return Yu(r)}async setItem(t,r){this.localStorage.setItem(t,Va(r))}async removeItem(t){this.localStorage.removeItem(t)}}const z7="wc_storage_version",ap=1,L7=async(e,t,r)=>{const i=z7,n=await t.getItem(i);if(n&&n>=ap){r(t);return}const a=await e.getKeys();if(!a.length){r(t);return}const f=[];for(;a.length;){const v=a.shift();if(!v)continue;const b=v.toLowerCase();if(b.includes("wc@")||b.includes("walletconnect")||b.includes("wc_")||b.includes("wallet_connect")){const A=await e.getItem(v);await t.setItem(v,A),f.push(v)}}await t.setItem(i,ap),r(t),H7(e,f)},H7=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};class $7{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new q7;this.storage=t;try{const r=new k7;L7(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}var ia={},Ba={},Cf={},Pa={};const j7=V8(l4);var hp;function K7(){if(hp)return Pa;hp=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.IHeartBeat=void 0;const e=j7;class t extends e.IEvents{constructor(i){super()}}return Pa.IHeartBeat=t,Pa}var up;function Gm(){return up||(up=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Vu.exports.__exportStar(K7(),e)}(Cf)),Cf}var xf={},Ws={},cp;function Q7(){if(cp)return Ws;cp=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.HEARTBEAT_EVENTS=Ws.HEARTBEAT_INTERVAL=void 0;const e=Qt;return Ws.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Ws.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Ws}var fp;function Jm(){return fp||(fp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Vu.exports.__exportStar(Q7(),e)}(xf)),xf}var lp;function G7(){if(lp)return Ba;lp=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.HeartBeat=void 0;const e=Vu.exports,t=Lr.exports,r=Qt,i=Gm(),n=Jm();class a extends i.IHeartBeat{constructor(v){super(v),this.events=new t.EventEmitter,this.interval=n.HEARTBEAT_INTERVAL,this.interval=v?.interval||n.HEARTBEAT_INTERVAL}static init(v){return e.__awaiter(this,void 0,void 0,function*(){const b=new a(v);return yield b.init(),b})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(v,b){this.events.on(v,b)}once(v,b){this.events.once(v,b)}off(v,b){this.events.off(v,b)}removeListener(v,b){this.events.removeListener(v,b)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(n.HEARTBEAT_EVENTS.pulse)}}return Ba.HeartBeat=a,Ba}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Vu.exports;t.__exportStar(G7(),e),t.__exportStar(Gm(),e),t.__exportStar(Jm(),e)})(ia);class J7 extends oo{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class Y7 extends oo{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class V7{constructor(t,r){this.logger=t,this.core=r}}class W7 extends oo{constructor(t,r){super(),this.relayer=t,this.logger=r}}class X7 extends oo{constructor(t){super()}}class Z7{constructor(t,r,i,n){this.core=t,this.logger=r,this.name=i}}class t9 extends oo{constructor(t,r){super(),this.relayer=t,this.logger=r}}class e9 extends oo{constructor(t,r){super(),this.core=t,this.logger=r}}class r9{constructor(t,r){this.projectId=t,this.logger=r}}class i9{constructor(t,r){this.projectId=t,this.logger=r}}class n9{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}class s9{constructor(t){this.client=t}}const o9=":";function Rf(e){const[t,r]=e.split(o9);return{namespace:t,reference:r}}function Ym(e,t){return e.includes(":")?[e]:t.chains||[]}var a9=Object.defineProperty,dp=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,u9=Object.prototype.propertyIsEnumerable,pp=(e,t,r)=>t in e?a9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gp=(e,t)=>{for(var r in t||(t={}))h9.call(t,r)&&pp(e,r,t[r]);if(dp)for(var r of dp(t))u9.call(t,r)&&pp(e,r,t[r]);return e};const c9="ReactNative",yi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},f9="js";function Xa(){return typeof Ji.exports<"u"&&typeof Ji.exports.versions<"u"&&typeof Ji.exports.versions.node<"u"}function na(){return!am()&&!!om()&&navigator.product===c9}function sa(){return!Xa()&&!!om()&&!!am()}function oh(){return na()?yi.reactNative:Xa()?yi.node:sa()?yi.browser:yi.unknown}function l9(){var e;try{return na()&&typeof Ie<"u"&&typeof(Ie==null?void 0:Ie.Application)<"u"?(e=Ie.Application)==null?void 0:e.applicationId:void 0}catch{return}}function d9(e,t){let r=Tu.parse(e);return r=gp(gp({},r),t),e=Tu.stringify(r),e}function p9(){return W8()||{name:"",description:"",url:"",icons:[""]}}function g9(){if(oh()===yi.reactNative&&typeof Ie<"u"&&typeof(Ie==null?void 0:Ie.Platform)<"u"){const{OS:r,Version:i}=Ie.Platform;return[r,i].join("-")}const e=Z8();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function m9(){var e;const t=oh();return t===yi.browser?[t,((e=t4())==null?void 0:e.host)||"unknown"].join(":"):t}function v9(e,t,r){const i=g9(),n=m9();return[[e,t].join("-"),[f9,r].join("-"),i,n].join("/")}function y9({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:a,useOnCloseEvent:f,bundleId:v}){const b=r.split("?"),A=v9(e,t,i),S={auth:n,ua:A,projectId:a,useOnCloseEvent:f||void 0,origin:v||void 0},_=d9(b[1]||"",S);return b[0]+"?"+_}function Zs(e,t){return e.filter(r=>t.includes(r)).length===e.length}function Vm(e){return Object.fromEntries(e.entries())}function Wm(e){return new Map(Object.entries(e))}function Xs(e=Qt.FIVE_MINUTES,t){const r=Qt.toMiliseconds(e||Qt.FIVE_MINUTES);let i,n,a;return{resolve:f=>{a&&i&&(clearTimeout(a),i(f))},reject:f=>{a&&n&&(clearTimeout(a),n(f))},done:()=>new Promise((f,v)=>{a=setTimeout(()=>{v(new Error(t))},r),i=f,n=v})}}function Za(e,t,r){return new Promise(async(i,n)=>{const a=setTimeout(()=>n(new Error(r)),t);try{const f=await e;i(f)}catch(f){n(f)}clearTimeout(a)})}function Xm(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function w9(e){return Xm("topic",e)}function A9(e){return Xm("id",e)}function Zm(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Br(e,t){return Qt.fromMiliseconds((t||Date.now())+Qt.toMiliseconds(e))}function Ns(e){return Date.now()>=Qt.toMiliseconds(e)}function le(e,t){return`${e}${t?`:${t}`:""}`}function b9(e=[],t=[]){return[...new Set([...e,...t])]}async function E9({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;let n=(typeof r=="string"?JSON.parse(r):r)?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));const a=`${n}/wc?requestId=${e}&sessionTopic=${t}`,f=oh();f===yi.browser?a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):f===yi.reactNative&&typeof(Ie==null?void 0:Ie.Linking)<"u"&&await Ie.Linking.openURL(a)}catch(i){console.error(i)}}async function M9(e,t){try{return await e.getItem(t)||(sa()?localStorage.getItem(t):void 0)}catch(r){console.error(r)}}var t2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie<"u"?Ie:typeof self<"u"?self:{};function I9(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var e2={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof Ji.exports=="object"&&Ji.exports.versions&&Ji.exports.versions.node;f?n=t2:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),S=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],C=[1,256,65536,16777216],R=[6,1536,393216,100663296],F=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],ot=["hex","buffer","arrayBuffer","array","digest"],at={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var et=function(l,B,x){return function(T){return new m(l,B,l).update(T)[x]()}},X=function(l,B,x){return function(T,$){return new m(l,B,$).update(T)[x]()}},Z=function(l,B,x){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[x]()}},ut=function(l,B,x){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[x]()}},nt=function(l,B,x,T){for(var $=0;$<ot.length;++$){var U=ot[$];l[U]=B(x,T,U)}return l},Gt=function(l,B){var x=et(l,B,"hex");return x.create=function(){return new m(l,B,l)},x.update=function(T){return x.create().update(T)},nt(x,et,l,B)},Zt=function(l,B){var x=X(l,B,"hex");return x.create=function(T){return new m(l,B,T)},x.update=function(T,$){return x.create($).update(T)},nt(x,X,l,B)},ht=function(l,B){var x=at[l],T=Z(l,B,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,B,$).bytepad([U,z],x)},T.update=function($,U,z,G){return T.create(U,z,G).update($)},nt(T,Z,l,B)},Yt=function(l,B){var x=at[l],T=ut(l,B,"hex");return T.create=function($,U,z){return new J(l,B,U).bytepad(["KMAC",z],x).bytepad([$],x)},T.update=function($,U,z,G){return T.create($,z,G).update(U)},nt(T,ut,l,B)},o=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:R,bits:k,createMethod:Gt},{name:"shake",padding:S,bits:Y,createMethod:Zt},{name:"cshake",padding:_,bits:Y,createMethod:ht},{name:"kmac",padding:_,bits:Y,createMethod:Yt}],c={},d=[],g=0;g<o.length;++g)for(var w=o[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,B,x){this.blocks=[],this.s=[],this.padding=B,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,G=0,W=this.s,q,lt;G<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(B)for(q=this.start;G<U&&q<$;++G)T[q>>2]|=l[G]<<F[q++&3];else for(q=this.start;G<U&&q<$;++G)lt=l.charCodeAt(G),lt<128?T[q>>2]|=lt<<F[q++&3]:lt<2048?(T[q>>2]|=(192|lt>>6)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):lt<55296||lt>=57344?(T[q>>2]|=(224|lt>>12)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):(lt=65536+((lt&1023)<<10|l.charCodeAt(++G)&1023),T[q>>2]|=(240|lt>>18)<<F[q++&3],T[q>>2]|=(128|lt>>12&63)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)W[q]^=T[q];Q(W),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,B){var x=l&255,T=1,$=[x];for(l=l>>8,x=l&255;x>0;)$.unshift(x),l=l>>8,x=l&255,++T;return B?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}var T=0,$=l.length;if(B)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,B){for(var x=this.encode(B),T=0;T<l.length;++T)x+=this.encodeString(l[T]);var $=B-x%B,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,B=this.lastByteIndex,x=this.blockCount,T=this.s;if(l[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(l[0]=l[x],B=1;B<x+1;++B)l[B]=0;for(l[x-1]|=2147483648,B=0;B<x;++B)T[B]^=l[B];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",G;U<x;){for($=0;$<l&&U<x;++$,++U)G=B[$],z+=A[G>>4&15]+A[G&15]+A[G>>12&15]+A[G>>8&15]+A[G>>20&15]+A[G>>16&15]+A[G>>28&15]+A[G>>24&15];U%l===0&&(Q(B),$=0)}return T&&(G=B[$],z+=A[G>>4&15]+A[G&15],T>1&&(z+=A[G>>12&15]+A[G>>8&15]),T>2&&(z+=A[G>>20&15]+A[G>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,G;T?G=new ArrayBuffer(x+1<<2):G=new ArrayBuffer(z);for(var W=new Uint32Array(G);U<x;){for($=0;$<l&&U<x;++$,++U)W[U]=B[$];U%l===0&&Q(B)}return T&&(W[$]=B[$],G=G.slice(0,z)),G},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],G,W;U<x;){for($=0;$<l&&U<x;++$,++U)G=U<<2,W=B[$],z[G]=W&255,z[G+1]=W>>8&255,z[G+2]=W>>16&255,z[G+3]=W>>24&255;U%l===0&&Q(B)}return T&&(G=U<<2,W=B[$],z[G]=W&255,T>1&&(z[G+1]=W>>8&255),T>2&&(z[G+2]=W>>16&255)),z};function J(l,B,x){m.call(this,l,B,x)}J.prototype=new m,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var B,x,T,$,U,z,G,W,q,lt,Ct,ct,Ue,xt,dt,Ae,pt,mt,Ke,gt,Rt,Se,ft,vt,Te,yt,wt,Oe,At,bt,Fe,Et,Bt,Qe,Pt,St,qe,Tt,Ot,Ge,Ft,_t,Je,Dt,kt,De,Ut,Mt,Ye,qt,zt,Ve,Lt,Ht,We,$t,Nt,Ne,Ce,xe,Re,Be,Pe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],G=l[3]^l[13]^l[23]^l[33]^l[43],W=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],lt=l[6]^l[16]^l[26]^l[36]^l[46],Ct=l[7]^l[17]^l[27]^l[37]^l[47],ct=l[8]^l[18]^l[28]^l[38]^l[48],Ue=l[9]^l[19]^l[29]^l[39]^l[49],B=ct^(z<<1|G>>>31),x=Ue^(G<<1|z>>>31),l[0]^=B,l[1]^=x,l[10]^=B,l[11]^=x,l[20]^=B,l[21]^=x,l[30]^=B,l[31]^=x,l[40]^=B,l[41]^=x,B=$^(W<<1|q>>>31),x=U^(q<<1|W>>>31),l[2]^=B,l[3]^=x,l[12]^=B,l[13]^=x,l[22]^=B,l[23]^=x,l[32]^=B,l[33]^=x,l[42]^=B,l[43]^=x,B=z^(lt<<1|Ct>>>31),x=G^(Ct<<1|lt>>>31),l[4]^=B,l[5]^=x,l[14]^=B,l[15]^=x,l[24]^=B,l[25]^=x,l[34]^=B,l[35]^=x,l[44]^=B,l[45]^=x,B=W^(ct<<1|Ue>>>31),x=q^(Ue<<1|ct>>>31),l[6]^=B,l[7]^=x,l[16]^=B,l[17]^=x,l[26]^=B,l[27]^=x,l[36]^=B,l[37]^=x,l[46]^=B,l[47]^=x,B=lt^($<<1|U>>>31),x=Ct^(U<<1|$>>>31),l[8]^=B,l[9]^=x,l[18]^=B,l[19]^=x,l[28]^=B,l[29]^=x,l[38]^=B,l[39]^=x,l[48]^=B,l[49]^=x,xt=l[0],dt=l[1],De=l[11]<<4|l[10]>>>28,Ut=l[10]<<4|l[11]>>>28,Oe=l[20]<<3|l[21]>>>29,At=l[21]<<3|l[20]>>>29,xe=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,_t=l[40]<<18|l[41]>>>14,Je=l[41]<<18|l[40]>>>14,Qe=l[2]<<1|l[3]>>>31,Pt=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,pt=l[12]<<12|l[13]>>>20,Mt=l[22]<<10|l[23]>>>22,Ye=l[23]<<10|l[22]>>>22,bt=l[33]<<13|l[32]>>>19,Fe=l[32]<<13|l[33]>>>19,Be=l[42]<<2|l[43]>>>30,Pe=l[43]<<2|l[42]>>>30,Ht=l[5]<<30|l[4]>>>2,We=l[4]<<30|l[5]>>>2,St=l[14]<<6|l[15]>>>26,qe=l[15]<<6|l[14]>>>26,mt=l[25]<<11|l[24]>>>21,Ke=l[24]<<11|l[25]>>>21,qt=l[34]<<15|l[35]>>>17,zt=l[35]<<15|l[34]>>>17,Et=l[45]<<29|l[44]>>>3,Bt=l[44]<<29|l[45]>>>3,vt=l[6]<<28|l[7]>>>4,Te=l[7]<<28|l[6]>>>4,$t=l[17]<<23|l[16]>>>9,Nt=l[16]<<23|l[17]>>>9,Tt=l[26]<<25|l[27]>>>7,Ot=l[27]<<25|l[26]>>>7,gt=l[36]<<21|l[37]>>>11,Rt=l[37]<<21|l[36]>>>11,Ve=l[47]<<24|l[46]>>>8,Lt=l[46]<<24|l[47]>>>8,Dt=l[8]<<27|l[9]>>>5,kt=l[9]<<27|l[8]>>>5,yt=l[18]<<20|l[19]>>>12,wt=l[19]<<20|l[18]>>>12,Ne=l[29]<<7|l[28]>>>25,Ce=l[28]<<7|l[29]>>>25,Ge=l[38]<<8|l[39]>>>24,Ft=l[39]<<8|l[38]>>>24,Se=l[48]<<14|l[49]>>>18,ft=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&mt,l[1]=dt^~pt&Ke,l[10]=vt^~yt&Oe,l[11]=Te^~wt&At,l[20]=Qe^~St&Tt,l[21]=Pt^~qe&Ot,l[30]=Dt^~De&Mt,l[31]=kt^~Ut&Ye,l[40]=Ht^~$t&Ne,l[41]=We^~Nt&Ce,l[2]=Ae^~mt&gt,l[3]=pt^~Ke&Rt,l[12]=yt^~Oe&bt,l[13]=wt^~At&Fe,l[22]=St^~Tt&Ge,l[23]=qe^~Ot&Ft,l[32]=De^~Mt&qt,l[33]=Ut^~Ye&zt,l[42]=$t^~Ne&xe,l[43]=Nt^~Ce&Re,l[4]=mt^~gt&Se,l[5]=Ke^~Rt&ft,l[14]=Oe^~bt&Et,l[15]=At^~Fe&Bt,l[24]=Tt^~Ge&_t,l[25]=Ot^~Ft&Je,l[34]=Mt^~qt&Ve,l[35]=Ye^~zt&Lt,l[44]=Ne^~xe&Be,l[45]=Ce^~Re&Pe,l[6]=gt^~Se&xt,l[7]=Rt^~ft&dt,l[16]=bt^~Et&vt,l[17]=Fe^~Bt&Te,l[26]=Ge^~_t&Qe,l[27]=Ft^~Je&Pt,l[36]=qt^~Ve&Dt,l[37]=zt^~Lt&kt,l[46]=xe^~Be&Ht,l[47]=Re^~Pe&We,l[8]=Se^~xt&Ae,l[9]=ft^~dt&pt,l[18]=Et^~vt&yt,l[19]=Bt^~Te&wt,l[28]=_t^~Qe&St,l[29]=Je^~Pt&qe,l[38]=Ve^~Dt&De,l[39]=Lt^~kt&Ut,l[48]=Be^~Ht&$t,l[49]=Pe^~We&Nt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(e2);var S9=e2.exports;const _9="logger/5.7.0";let mp=!1,vp=!1;const Eu={debug:1,default:2,info:2,warning:3,error:4,off:5};let yp=Eu.default,Bf=null;function N9(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const wp=N9();var E0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(E0||(E0={}));var on;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(on||(on={}));const Ap="0123456789abcdef";class ae{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Eu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(yp>Eu[i])&&console.log.apply(console,r)}debug(...t){this._log(ae.levels.DEBUG,t)}info(...t){this._log(ae.levels.INFO,t)}warn(...t){this._log(ae.levels.WARNING,t)}makeError(t,r,i){if(vp)return this.makeError("censored error",r,{});r||(r=ae.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let S="";for(let _=0;_<A.length;_++)S+=Ap[A[_]>>4],S+=Ap[A[_]&15];n.push(b+"=Uint8Array(0x"+S+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case on.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case on.CALL_EXCEPTION:case on.INSUFFICIENT_FUNDS:case on.MISSING_NEW:case on.NONCE_EXPIRED:case on.REPLACEMENT_UNDERPRICED:case on.TRANSACTION_REPLACED:case on.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,ae.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){wp&&this.throwError("platform missing String.prototype.normalize",ae.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wp})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,ae.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,ae.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ae.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",ae.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bf||(Bf=new ae(_9)),Bf}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),mp){if(!t)return;this.globalLogger().throwError("error censorship permanent",ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vp=!!t,mp=!!r}static setLogLevel(t){const r=Eu[t.toLowerCase()];if(r==null){ae.globalLogger().warn("invalid log level - "+t);return}yp=r}static from(t){return new ae(t)}}ae.errors=on,ae.levels=E0;const C9="bytes/5.7.0",or=new ae(C9);function r2(e){return!!e.toHexString}function qo(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return qo(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function x9(e){return wi(e)&&!(e.length%2)||oa(e)}function bp(e){return typeof e=="number"&&e==e&&e%1===0}function oa(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!bp(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!bp(r)||r<0||r>=256)return!1}return!0}function ir(e,t){if(t||(t={}),typeof e=="number"){or.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),qo(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),r2(e)&&(e=e.toHexString()),wi(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":or.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return qo(new Uint8Array(i))}return oa(e)?qo(new Uint8Array(e)):or.throwArgumentError("invalid arrayify value","value",e)}function R9(e){const t=e.map(n=>ir(n)),r=t.reduce((n,a)=>n+a.length,0),i=new Uint8Array(r);return t.reduce((n,a)=>(i.set(a,n),n+a.length),0),qo(i)}function B9(e,t){e=ir(e),e.length>t&&or.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),qo(r)}function wi(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Pf="0123456789abcdef";function Fr(e,t){if(t||(t={}),typeof e=="number"){or.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=Pf[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),r2(e))return e.toHexString();if(wi(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":or.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(oa(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=Pf[(n&240)>>4]+Pf[n&15]}return r}return or.throwArgumentError("invalid hexlify value","value",e)}function P9(e){if(typeof e!="string")e=Fr(e);else if(!wi(e)||e.length%2)return null;return(e.length-2)/2}function Ep(e,t,r){return typeof e!="string"?e=Fr(e):(!wi(e)||e.length%2)&&or.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Fn(e,t){for(typeof e!="string"?e=Fr(e):wi(e)||or.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&or.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function i2(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(x9(e)){let r=ir(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Fr(r.slice(0,32)),t.s=Fr(r.slice(32,64))):r.length===65?(t.r=Fr(r.slice(0,32)),t.s=Fr(r.slice(32,64)),t.v=r[64]):or.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:or.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Fr(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const n=B9(ir(t._vs),32);t._vs=Fr(n);const a=n[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=a:t.recoveryParam!==a&&or.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const f=Fr(n);t.s==null?t.s=f:t.s!==f&&or.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?or.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const n=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==n&&or.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!wi(t.r)?or.throwArgumentError("signature missing or invalid r","signature",e):t.r=Fn(t.r,32),t.s==null||!wi(t.s)?or.throwArgumentError("signature missing or invalid s","signature",e):t.s=Fn(t.s,32);const r=ir(t.s);r[0]>=128&&or.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=Fr(r);t._vs&&(wi(t._vs)||or.throwArgumentError("signature invalid _vs","signature",e),t._vs=Fn(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&or.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function V0(e){return"0x"+S9.keccak_256(ir(e))}var n2={exports:{}},T9={},O9=Object.freeze({__proto__:null,default:T9}),F9=I9(O9);(function(e){(function(t,r){function i(o,c){if(!o)throw new Error(c||"Assertion failed")}function n(o,c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}function a(o,c,d){if(a.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(o||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=F9.Buffer}catch{}a.isBN=function(o){return o instanceof a?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===a.wordSize&&Array.isArray(o.words)},a.max=function(o,c){return o.cmp(c)>0?o:c},a.min=function(o,c){return o.cmp(c)<0?o:c},a.prototype._init=function(o,c,d){if(typeof o=="number")return this._initNumber(o,c,d);if(typeof o=="object")return this._initArray(o,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var g=0;o[0]==="-"&&(g++,this.negative=1),g<o.length&&(c===16?this._parseHex(o,g,d):(this._parseBase(o,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(o,c,d){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(o,c,d){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=o.length-1,w=0;g>=0;g-=3)E=o[g]|o[g-1]<<8|o[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<o.length;g+=3)E=o[g]|o[g+1]<<8|o[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(o,c){var d=o.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+o)}function b(o,c,d){var g=v(o,d);return d-1>=c&&(g|=v(o,d-1)<<4),g}a.prototype._parseHex=function(o,c,d){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=o.length-1;g>=c;g-=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=o.length-c;for(g=y%2===0?c+1:c;g<o.length;g+=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(o,c,d,g){for(var w=0,E=0,I=Math.min(o.length,d),y=c;y<I;y++){var h=o.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(o,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=o.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(o,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var J=1;for(h=A(o,m,o.length,c),m=0;m<I;m++)J*=c;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red};function S(o,c){o.words=c.words,o.length=c.length,o.negative=c.negative,o.red=c.red}if(a.prototype._move=function(o){S(o,this)},a.prototype.clone=function(){var o=new a(null);return this.copy(o),o},a.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{a.prototype.inspect=_}else a.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(o,c){o=o||10,c=c|0||1;var d;if(o===16||o==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(o===(o|0)&&o>=2&&o<=36){var h=R[o],m=F[o];d="";var J=this.clone();for(J.negative=0;!J.isZero();){var Q=J.modrn(m).toString(o);J=J.idivn(m),J.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(o,c){return this.toArrayLike(f,o,c)}),a.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)};var H=function(o,c){return o.allocUnsafe?o.allocUnsafe(c):new o(c)};a.prototype.toArrayLike=function(o,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(o,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(o,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d++]=I&255,d<o.length&&(o[d++]=I>>8&255),d<o.length&&(o[d++]=I>>16&255),E===6?(d<o.length&&(o[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<o.length)for(o[d++]=g;d<o.length;)o[d++]=0},a.prototype._toArrayLikeBE=function(o,c){for(var d=o.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d--]=I&255,d>=0&&(o[d--]=I>>8&255),d>=0&&(o[d--]=I>>16&255),E===6?(d>=0&&(o[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(o[d--]=g;d>=0;)o[d--]=0},Math.clz32?a.prototype._countBits=function(o){return 32-Math.clz32(o)}:a.prototype._countBits=function(o){var c=o,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function k(o){for(var c=new Array(o.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=o.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(o+=d,d!==26)break}return o},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},a.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this._strip()},a.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},a.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},a.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},a.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&o.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},a.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},a.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},a.prototype.iuxor=function(o){var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},a.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},a.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},a.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,d=o%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(o){return this.clone().inotn(o)},a.prototype.setn=function(o,c){i(typeof o=="number"&&o>=0);var d=o/26|0,g=o%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var d,g;this.length>o.length?(d=this,g=o):(d=o,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},a.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var d=this.cmp(o);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=o):(g=o,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,c,d){d.negative=c.negative^o.negative;var g=o.length+c.length|0;d.length=g,g=g-1|0;var w=o.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var J=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),B=Math.max(0,m-o.length+1);B<=l;B++){var x=m-B|0;w=o.words[x]|0,E=c.words[B]|0,I=w*E+Q,J+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=J|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ot=function(o,c,d){var g=o.words,w=c.words,E=d.words,I=0,y,h,m,J=g[0]|0,Q=J&8191,l=J>>>13,B=g[1]|0,x=B&8191,T=B>>>13,$=g[2]|0,U=$&8191,z=$>>>13,G=g[3]|0,W=G&8191,q=G>>>13,lt=g[4]|0,Ct=lt&8191,ct=lt>>>13,Ue=g[5]|0,xt=Ue&8191,dt=Ue>>>13,Ae=g[6]|0,pt=Ae&8191,mt=Ae>>>13,Ke=g[7]|0,gt=Ke&8191,Rt=Ke>>>13,Se=g[8]|0,ft=Se&8191,vt=Se>>>13,Te=g[9]|0,yt=Te&8191,wt=Te>>>13,Oe=w[0]|0,At=Oe&8191,bt=Oe>>>13,Fe=w[1]|0,Et=Fe&8191,Bt=Fe>>>13,Qe=w[2]|0,Pt=Qe&8191,St=Qe>>>13,qe=w[3]|0,Tt=qe&8191,Ot=qe>>>13,Ge=w[4]|0,Ft=Ge&8191,_t=Ge>>>13,Je=w[5]|0,Dt=Je&8191,kt=Je>>>13,De=w[6]|0,Ut=De&8191,Mt=De>>>13,Ye=w[7]|0,qt=Ye&8191,zt=Ye>>>13,Ve=w[8]|0,Lt=Ve&8191,Ht=Ve>>>13,We=w[9]|0,$t=We&8191,Nt=We>>>13;d.negative=o.negative^c.negative,d.length=19,y=Math.imul(Q,At),h=Math.imul(Q,bt),h=h+Math.imul(l,At)|0,m=Math.imul(l,bt);var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(x,At),h=Math.imul(x,bt),h=h+Math.imul(T,At)|0,m=Math.imul(T,bt),y=y+Math.imul(Q,Et)|0,h=h+Math.imul(Q,Bt)|0,h=h+Math.imul(l,Et)|0,m=m+Math.imul(l,Bt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(U,At),h=Math.imul(U,bt),h=h+Math.imul(z,At)|0,m=Math.imul(z,bt),y=y+Math.imul(x,Et)|0,h=h+Math.imul(x,Bt)|0,h=h+Math.imul(T,Et)|0,m=m+Math.imul(T,Bt)|0,y=y+Math.imul(Q,Pt)|0,h=h+Math.imul(Q,St)|0,h=h+Math.imul(l,Pt)|0,m=m+Math.imul(l,St)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(W,At),h=Math.imul(W,bt),h=h+Math.imul(q,At)|0,m=Math.imul(q,bt),y=y+Math.imul(U,Et)|0,h=h+Math.imul(U,Bt)|0,h=h+Math.imul(z,Et)|0,m=m+Math.imul(z,Bt)|0,y=y+Math.imul(x,Pt)|0,h=h+Math.imul(x,St)|0,h=h+Math.imul(T,Pt)|0,m=m+Math.imul(T,St)|0,y=y+Math.imul(Q,Tt)|0,h=h+Math.imul(Q,Ot)|0,h=h+Math.imul(l,Tt)|0,m=m+Math.imul(l,Ot)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Ct,At),h=Math.imul(Ct,bt),h=h+Math.imul(ct,At)|0,m=Math.imul(ct,bt),y=y+Math.imul(W,Et)|0,h=h+Math.imul(W,Bt)|0,h=h+Math.imul(q,Et)|0,m=m+Math.imul(q,Bt)|0,y=y+Math.imul(U,Pt)|0,h=h+Math.imul(U,St)|0,h=h+Math.imul(z,Pt)|0,m=m+Math.imul(z,St)|0,y=y+Math.imul(x,Tt)|0,h=h+Math.imul(x,Ot)|0,h=h+Math.imul(T,Tt)|0,m=m+Math.imul(T,Ot)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,_t)|0;var Be=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,y=Math.imul(xt,At),h=Math.imul(xt,bt),h=h+Math.imul(dt,At)|0,m=Math.imul(dt,bt),y=y+Math.imul(Ct,Et)|0,h=h+Math.imul(Ct,Bt)|0,h=h+Math.imul(ct,Et)|0,m=m+Math.imul(ct,Bt)|0,y=y+Math.imul(W,Pt)|0,h=h+Math.imul(W,St)|0,h=h+Math.imul(q,Pt)|0,m=m+Math.imul(q,St)|0,y=y+Math.imul(U,Tt)|0,h=h+Math.imul(U,Ot)|0,h=h+Math.imul(z,Tt)|0,m=m+Math.imul(z,Ot)|0,y=y+Math.imul(x,Ft)|0,h=h+Math.imul(x,_t)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Dt)|0,h=h+Math.imul(Q,kt)|0,h=h+Math.imul(l,Dt)|0,m=m+Math.imul(l,kt)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(pt,At),h=Math.imul(pt,bt),h=h+Math.imul(mt,At)|0,m=Math.imul(mt,bt),y=y+Math.imul(xt,Et)|0,h=h+Math.imul(xt,Bt)|0,h=h+Math.imul(dt,Et)|0,m=m+Math.imul(dt,Bt)|0,y=y+Math.imul(Ct,Pt)|0,h=h+Math.imul(Ct,St)|0,h=h+Math.imul(ct,Pt)|0,m=m+Math.imul(ct,St)|0,y=y+Math.imul(W,Tt)|0,h=h+Math.imul(W,Ot)|0,h=h+Math.imul(q,Tt)|0,m=m+Math.imul(q,Ot)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(x,Dt)|0,h=h+Math.imul(x,kt)|0,h=h+Math.imul(T,Dt)|0,m=m+Math.imul(T,kt)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,Mt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,Mt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(gt,At),h=Math.imul(gt,bt),h=h+Math.imul(Rt,At)|0,m=Math.imul(Rt,bt),y=y+Math.imul(pt,Et)|0,h=h+Math.imul(pt,Bt)|0,h=h+Math.imul(mt,Et)|0,m=m+Math.imul(mt,Bt)|0,y=y+Math.imul(xt,Pt)|0,h=h+Math.imul(xt,St)|0,h=h+Math.imul(dt,Pt)|0,m=m+Math.imul(dt,St)|0,y=y+Math.imul(Ct,Tt)|0,h=h+Math.imul(Ct,Ot)|0,h=h+Math.imul(ct,Tt)|0,m=m+Math.imul(ct,Ot)|0,y=y+Math.imul(W,Ft)|0,h=h+Math.imul(W,_t)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Dt)|0,h=h+Math.imul(U,kt)|0,h=h+Math.imul(z,Dt)|0,m=m+Math.imul(z,kt)|0,y=y+Math.imul(x,Ut)|0,h=h+Math.imul(x,Mt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,Mt)|0,y=y+Math.imul(Q,qt)|0,h=h+Math.imul(Q,zt)|0,h=h+Math.imul(l,qt)|0,m=m+Math.imul(l,zt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(ft,At),h=Math.imul(ft,bt),h=h+Math.imul(vt,At)|0,m=Math.imul(vt,bt),y=y+Math.imul(gt,Et)|0,h=h+Math.imul(gt,Bt)|0,h=h+Math.imul(Rt,Et)|0,m=m+Math.imul(Rt,Bt)|0,y=y+Math.imul(pt,Pt)|0,h=h+Math.imul(pt,St)|0,h=h+Math.imul(mt,Pt)|0,m=m+Math.imul(mt,St)|0,y=y+Math.imul(xt,Tt)|0,h=h+Math.imul(xt,Ot)|0,h=h+Math.imul(dt,Tt)|0,m=m+Math.imul(dt,Ot)|0,y=y+Math.imul(Ct,Ft)|0,h=h+Math.imul(Ct,_t)|0,h=h+Math.imul(ct,Ft)|0,m=m+Math.imul(ct,_t)|0,y=y+Math.imul(W,Dt)|0,h=h+Math.imul(W,kt)|0,h=h+Math.imul(q,Dt)|0,m=m+Math.imul(q,kt)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,Mt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,Mt)|0,y=y+Math.imul(x,qt)|0,h=h+Math.imul(x,zt)|0,h=h+Math.imul(T,qt)|0,m=m+Math.imul(T,zt)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var Sr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(yt,At),h=Math.imul(yt,bt),h=h+Math.imul(wt,At)|0,m=Math.imul(wt,bt),y=y+Math.imul(ft,Et)|0,h=h+Math.imul(ft,Bt)|0,h=h+Math.imul(vt,Et)|0,m=m+Math.imul(vt,Bt)|0,y=y+Math.imul(gt,Pt)|0,h=h+Math.imul(gt,St)|0,h=h+Math.imul(Rt,Pt)|0,m=m+Math.imul(Rt,St)|0,y=y+Math.imul(pt,Tt)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(mt,Tt)|0,m=m+Math.imul(mt,Ot)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(dt,Ft)|0,m=m+Math.imul(dt,_t)|0,y=y+Math.imul(Ct,Dt)|0,h=h+Math.imul(Ct,kt)|0,h=h+Math.imul(ct,Dt)|0,m=m+Math.imul(ct,kt)|0,y=y+Math.imul(W,Ut)|0,h=h+Math.imul(W,Mt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,Mt)|0,y=y+Math.imul(U,qt)|0,h=h+Math.imul(U,zt)|0,h=h+Math.imul(z,qt)|0,m=m+Math.imul(z,zt)|0,y=y+Math.imul(x,Lt)|0,h=h+Math.imul(x,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,Nt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(yt,Et),h=Math.imul(yt,Bt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Bt),y=y+Math.imul(ft,Pt)|0,h=h+Math.imul(ft,St)|0,h=h+Math.imul(vt,Pt)|0,m=m+Math.imul(vt,St)|0,y=y+Math.imul(gt,Tt)|0,h=h+Math.imul(gt,Ot)|0,h=h+Math.imul(Rt,Tt)|0,m=m+Math.imul(Rt,Ot)|0,y=y+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,_t)|0,h=h+Math.imul(mt,Ft)|0,m=m+Math.imul(mt,_t)|0,y=y+Math.imul(xt,Dt)|0,h=h+Math.imul(xt,kt)|0,h=h+Math.imul(dt,Dt)|0,m=m+Math.imul(dt,kt)|0,y=y+Math.imul(Ct,Ut)|0,h=h+Math.imul(Ct,Mt)|0,h=h+Math.imul(ct,Ut)|0,m=m+Math.imul(ct,Mt)|0,y=y+Math.imul(W,qt)|0,h=h+Math.imul(W,zt)|0,h=h+Math.imul(q,qt)|0,m=m+Math.imul(q,zt)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(x,$t)|0,h=h+Math.imul(x,Nt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,Nt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(yt,Pt),h=Math.imul(yt,St),h=h+Math.imul(wt,Pt)|0,m=Math.imul(wt,St),y=y+Math.imul(ft,Tt)|0,h=h+Math.imul(ft,Ot)|0,h=h+Math.imul(vt,Tt)|0,m=m+Math.imul(vt,Ot)|0,y=y+Math.imul(gt,Ft)|0,h=h+Math.imul(gt,_t)|0,h=h+Math.imul(Rt,Ft)|0,m=m+Math.imul(Rt,_t)|0,y=y+Math.imul(pt,Dt)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(mt,Dt)|0,m=m+Math.imul(mt,kt)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,Mt)|0,h=h+Math.imul(dt,Ut)|0,m=m+Math.imul(dt,Mt)|0,y=y+Math.imul(Ct,qt)|0,h=h+Math.imul(Ct,zt)|0,h=h+Math.imul(ct,qt)|0,m=m+Math.imul(ct,zt)|0,y=y+Math.imul(W,Lt)|0,h=h+Math.imul(W,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,Nt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(yt,Tt),h=Math.imul(yt,Ot),h=h+Math.imul(wt,Tt)|0,m=Math.imul(wt,Ot),y=y+Math.imul(ft,Ft)|0,h=h+Math.imul(ft,_t)|0,h=h+Math.imul(vt,Ft)|0,m=m+Math.imul(vt,_t)|0,y=y+Math.imul(gt,Dt)|0,h=h+Math.imul(gt,kt)|0,h=h+Math.imul(Rt,Dt)|0,m=m+Math.imul(Rt,kt)|0,y=y+Math.imul(pt,Ut)|0,h=h+Math.imul(pt,Mt)|0,h=h+Math.imul(mt,Ut)|0,m=m+Math.imul(mt,Mt)|0,y=y+Math.imul(xt,qt)|0,h=h+Math.imul(xt,zt)|0,h=h+Math.imul(dt,qt)|0,m=m+Math.imul(dt,zt)|0,y=y+Math.imul(Ct,Lt)|0,h=h+Math.imul(Ct,Ht)|0,h=h+Math.imul(ct,Lt)|0,m=m+Math.imul(ct,Ht)|0,y=y+Math.imul(W,$t)|0,h=h+Math.imul(W,Nt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,Nt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(yt,Ft),h=Math.imul(yt,_t),h=h+Math.imul(wt,Ft)|0,m=Math.imul(wt,_t),y=y+Math.imul(ft,Dt)|0,h=h+Math.imul(ft,kt)|0,h=h+Math.imul(vt,Dt)|0,m=m+Math.imul(vt,kt)|0,y=y+Math.imul(gt,Ut)|0,h=h+Math.imul(gt,Mt)|0,h=h+Math.imul(Rt,Ut)|0,m=m+Math.imul(Rt,Mt)|0,y=y+Math.imul(pt,qt)|0,h=h+Math.imul(pt,zt)|0,h=h+Math.imul(mt,qt)|0,m=m+Math.imul(mt,zt)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(dt,Lt)|0,m=m+Math.imul(dt,Ht)|0,y=y+Math.imul(Ct,$t)|0,h=h+Math.imul(Ct,Nt)|0,h=h+Math.imul(ct,$t)|0,m=m+Math.imul(ct,Nt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(yt,Dt),h=Math.imul(yt,kt),h=h+Math.imul(wt,Dt)|0,m=Math.imul(wt,kt),y=y+Math.imul(ft,Ut)|0,h=h+Math.imul(ft,Mt)|0,h=h+Math.imul(vt,Ut)|0,m=m+Math.imul(vt,Mt)|0,y=y+Math.imul(gt,qt)|0,h=h+Math.imul(gt,zt)|0,h=h+Math.imul(Rt,qt)|0,m=m+Math.imul(Rt,zt)|0,y=y+Math.imul(pt,Lt)|0,h=h+Math.imul(pt,Ht)|0,h=h+Math.imul(mt,Lt)|0,m=m+Math.imul(mt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(dt,$t)|0,m=m+Math.imul(dt,Nt)|0;var jr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(yt,Ut),h=Math.imul(yt,Mt),h=h+Math.imul(wt,Ut)|0,m=Math.imul(wt,Mt),y=y+Math.imul(ft,qt)|0,h=h+Math.imul(ft,zt)|0,h=h+Math.imul(vt,qt)|0,m=m+Math.imul(vt,zt)|0,y=y+Math.imul(gt,Lt)|0,h=h+Math.imul(gt,Ht)|0,h=h+Math.imul(Rt,Lt)|0,m=m+Math.imul(Rt,Ht)|0,y=y+Math.imul(pt,$t)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(mt,$t)|0,m=m+Math.imul(mt,Nt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(yt,qt),h=Math.imul(yt,zt),h=h+Math.imul(wt,qt)|0,m=Math.imul(wt,zt),y=y+Math.imul(ft,Lt)|0,h=h+Math.imul(ft,Ht)|0,h=h+Math.imul(vt,Lt)|0,m=m+Math.imul(vt,Ht)|0,y=y+Math.imul(gt,$t)|0,h=h+Math.imul(gt,Nt)|0,h=h+Math.imul(Rt,$t)|0,m=m+Math.imul(Rt,Nt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(yt,Lt),h=Math.imul(yt,Ht),h=h+Math.imul(wt,Lt)|0,m=Math.imul(wt,Ht),y=y+Math.imul(ft,$t)|0,h=h+Math.imul(ft,Nt)|0,h=h+Math.imul(vt,$t)|0,m=m+Math.imul(vt,Nt)|0;var ui=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,y=Math.imul(yt,$t),h=Math.imul(yt,Nt),h=h+Math.imul(wt,$t)|0,m=Math.imul(wt,Nt);var ci=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,E[0]=Ne,E[1]=Ce,E[2]=xe,E[3]=Re,E[4]=Be,E[5]=Pe,E[6]=Ir,E[7]=ii,E[8]=Sr,E[9]=ni,E[10]=si,E[11]=oi,E[12]=Hr,E[13]=$r,E[14]=jr,E[15]=ai,E[16]=hi,E[17]=ui,E[18]=ci,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ot=Y);function at(o,c,d){d.negative=c.negative^o.negative,d.length=o.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-o.length+1);m<=h;m++){var J=E-m,Q=o.words[J]|0,l=c.words[m]|0,B=Q*l,x=B&67108863;I=I+(B/67108864|0)|0,x=x+y|0,y=x&67108863,I=I+(x>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function et(o,c,d){return at(o,c,d)}a.prototype.mulTo=function(o,c){var d,g=this.length+o.length;return this.length===10&&o.length===10?d=ot(this,o,c):g<63?d=Y(this,o,c):g<1024?d=at(this,o,c):d=et(this,o,c),d},a.prototype.mul=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},a.prototype.mulf=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),et(this,o,c)},a.prototype.imul=function(o){return this.clone().mulTo(o,this)},a.prototype.imuln=function(o){var c=o<0;c&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*o,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(o){return this.clone().imuln(o)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(o){var c=k(o);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},a.prototype.iushrn=function(o,c,d){i(typeof o=="number"&&o>=0);var g;c?g=(c-c%26)/26:g=0;var w=o%26,E=Math.min((o-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var J=this.words[h]|0;this.words[h]=m<<26-w|J>>>w,m=J&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(o,c,d){return i(this.negative===0),this.iushrn(o,c,d)},a.prototype.shln=function(o){return this.clone().ishln(o)},a.prototype.ushln=function(o){return this.clone().iushln(o)},a.prototype.shrn=function(o){return this.clone().ishrn(o)},a.prototype.ushrn=function(o){return this.clone().iushrn(o)},a.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(o){return this.clone().imaskn(o)},a.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},a.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(o){return this.clone().iaddn(o)},a.prototype.subn=function(o){return this.clone().isubn(o)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(o,c,d){var g=o.length+d,w;this._expand(g);var E,I=0;for(w=0;w<o.length;w++){E=(this.words[w+d]|0)+I;var y=(o.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(o,c){var d=this.length-o.length,g=this.clone(),w=o,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var J=g.clone()._ishlnsubmul(w,1,y);J.negative===0&&(g=J,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(o,c,d){if(i(!o.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(o)),{div:g,mod:w}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(o)),{div:E.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new a(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new a(this.modrn(o.words[0]))}:this._wordDiv(o,c)},a.prototype.div=function(o){return this.divmod(o,"div",!1).div},a.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},a.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},a.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(o):c.mod,g=o.ushrn(1),w=o.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=(1<<26)%o,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%o;return c?-g:g},a.prototype.modn=function(o){return this.modrn(o)},a.prototype.idivn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/o|0,d=w%o}return this._strip(),c?this.ineg():this},a.prototype.divn=function(o){return this.clone().idivn(o)},a.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var J=0,Q=1;!(c.words[0]&Q)&&J<26;++J,Q<<=1);if(J>0)for(c.iushrn(J);J-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,B=1;!(d.words[0]&B)&&l<26;++l,B<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var J;return c.cmpn(1)===0?J=g:J=w,J.cmpn(0)<0&&J.iadd(o),J},a.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),d=o.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(o){return this.egcd(o).a.umod(o)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(o){return this.words[0]&o},a.prototype.bincn=function(o){i(typeof o=="number");var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(o=-o),i(o<=67108863,"Number is too big");var g=this.words[0]|0;d=g===o?0:g<o?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=o.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(o){return this.cmpn(o)===1},a.prototype.gt=function(o){return this.cmp(o)===1},a.prototype.gten=function(o){return this.cmpn(o)>=0},a.prototype.gte=function(o){return this.cmp(o)>=0},a.prototype.ltn=function(o){return this.cmpn(o)===-1},a.prototype.lt=function(o){return this.cmp(o)===-1},a.prototype.lten=function(o){return this.cmpn(o)<=0},a.prototype.lte=function(o){return this.cmp(o)<=0},a.prototype.eqn=function(o){return this.cmpn(o)===0},a.prototype.eq=function(o){return this.cmp(o)===0},a.red=function(o){return new ht(o)},a.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(o){return this.red=o,this},a.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},a.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},a.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},a.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},a.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},a.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},a.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},a.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var X={k256:null,p224:null,p192:null,p25519:null};function Z(o,c){this.name=o,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var o=new a(null);return o.words=new Array(Math.ceil(this.n/13)),o},Z.prototype.ireduce=function(o){var c=o,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Z.prototype.split=function(o,c){o.iushrn(this.n,0,c)},Z.prototype.imulK=function(o){return o.imul(this.k)};function ut(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ut,Z),ut.prototype.split=function(o,c){for(var d=4194303,g=Math.min(o.length,9),w=0;w<g;w++)c.words[w]=o.words[w];if(c.length=g,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(c.words[c.length++]=E&d,w=10;w<o.length;w++){var I=o.words[w]|0;o.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,o.words[w-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},ut.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,d=0;d<o.length;d++){var g=o.words[d]|0;c+=g*977,o.words[d]=c&67108863,c=g*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function nt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(nt,Z);function Gt(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,Z);function Zt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Zt,Z),Zt.prototype.imulK=function(o){for(var c=0,d=0;d<o.length;d++){var g=(o.words[d]|0)*19+c,w=g&67108863;g>>>=26,o.words[d]=w,c=g}return c!==0&&(o.words[o.length++]=c),o},a._prime=function(o){if(X[o])return X[o];var c;if(o==="k256")c=new ut;else if(o==="p224")c=new nt;else if(o==="p192")c=new Gt;else if(o==="p25519")c=new Zt;else throw new Error("Unknown prime "+o);return X[o]=c,c};function ht(o){if(typeof o=="string"){var c=a._prime(o);this.m=c.p,this.prime=c}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}ht.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},ht.prototype._verify2=function(o,c){i((o.negative|c.negative)===0,"red works only with positives"),i(o.red&&o.red===c.red,"red works only with red numbers")},ht.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(S(o,o.umod(this.m)._forceRed(this)),o)},ht.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},ht.prototype.add=function(o,c){this._verify2(o,c);var d=o.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},ht.prototype.iadd=function(o,c){this._verify2(o,c);var d=o.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},ht.prototype.sub=function(o,c){this._verify2(o,c);var d=o.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},ht.prototype.isub=function(o,c){this._verify2(o,c);var d=o.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},ht.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},ht.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},ht.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},ht.prototype.isqr=function(o){return this.imul(o,o.clone())},ht.prototype.sqr=function(o){return this.mul(o,o)},ht.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(o,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),J=this.pow(o,g.addn(1).iushrn(1)),Q=this.pow(o,g),l=w;Q.cmp(E)!==0;){for(var B=Q,x=0;B.cmp(E)!==0;x++)B=B.redSqr();i(x<l);var T=this.pow(m,new a(1).iushln(l-x-1));J=J.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=x}return J},ht.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},ht.prototype.pow=function(o,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=o;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],o);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],J=h-1;J>=0;J--){var Q=m>>J&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||J!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},ht.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},ht.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},a.mont=function(o){return new Yt(o)};function Yt(o){ht.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Yt,ht),Yt.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Yt.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Yt.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var d=o.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new a(0)._forceRed(this);var d=o.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,t2)})(n2);var ie=n2.exports;const s2="bignumber/5.7.0";var ku=ie.BN;const os=new ae(s2),Tf={},Mp=9007199254740991;function D9(e){return e!=null&&($e.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||wi(e)||typeof e=="bigint"||oa(e))}let Ip=!1;class $e{constructor(t,r){t!==Tf&&os.throwError("cannot call constructor directly; use BigNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Vr(ge(this).fromTwos(t))}toTwos(t){return Vr(ge(this).toTwos(t))}abs(){return this._hex[0]==="-"?$e.from(this._hex.substring(1)):this}add(t){return Vr(ge(this).add(ge(t)))}sub(t){return Vr(ge(this).sub(ge(t)))}div(t){return $e.from(t).isZero()&&Oi("division-by-zero","div"),Vr(ge(this).div(ge(t)))}mul(t){return Vr(ge(this).mul(ge(t)))}mod(t){const r=ge(t);return r.isNeg()&&Oi("division-by-zero","mod"),Vr(ge(this).umod(r))}pow(t){const r=ge(t);return r.isNeg()&&Oi("negative-power","pow"),Vr(ge(this).pow(r))}and(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Oi("unbound-bitwise-result","and"),Vr(ge(this).and(r))}or(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Oi("unbound-bitwise-result","or"),Vr(ge(this).or(r))}xor(t){const r=ge(t);return(this.isNegative()||r.isNeg())&&Oi("unbound-bitwise-result","xor"),Vr(ge(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Oi("negative-width","mask"),Vr(ge(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Oi("negative-width","shl"),Vr(ge(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Oi("negative-width","shr"),Vr(ge(this).shrn(t))}eq(t){return ge(this).eq(ge(t))}lt(t){return ge(this).lt(ge(t))}lte(t){return ge(this).lte(ge(t))}gt(t){return ge(this).gt(ge(t))}gte(t){return ge(this).gte(ge(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ge(this).isZero()}toNumber(){try{return ge(this).toNumber()}catch{Oi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return os.throwError("this platform does not support BigInt",ae.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Ip||(Ip=!0,os.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?os.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ae.errors.UNEXPECTED_ARGUMENT,{}):os.throwError("BigNumber.toString does not accept parameters",ae.errors.UNEXPECTED_ARGUMENT,{})),ge(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof $e)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new $e(Tf,th(t)):t.match(/^-?[0-9]+$/)?new $e(Tf,th(new ku(t))):os.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Oi("underflow","BigNumber.from",t),(t>=Mp||t<=-Mp)&&Oi("overflow","BigNumber.from",t),$e.from(String(t));const r=t;if(typeof r=="bigint")return $e.from(r.toString());if(oa(r))return $e.from(Fr(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return $e.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(wi(i)||i[0]==="-"&&wi(i.substring(1))))return $e.from(i)}return os.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function th(e){if(typeof e!="string")return th(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&os.throwArgumentError("invalid hex","value",e),e=th(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Vr(e){return $e.from(th(e))}function ge(e){const t=$e.from(e).toHexString();return t[0]==="-"?new ku("-"+t.substring(3),16):new ku(t.substring(2),16)}function Oi(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),os.throwError(e,ae.errors.NUMERIC_FAULT,i)}function k9(e){return new ku(e,36).toString(16)}const kr=new ae(s2),Qa={},o2=$e.from(0),a2=$e.from(-1);function h2(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),kr.throwError(e,ae.errors.NUMERIC_FAULT,n)}let Ga="0";for(;Ga.length<256;)Ga+=Ga;function W0(e){if(typeof e!="number")try{e=$e.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Ga.substring(0,e):kr.throwArgumentError("invalid decimal size","decimals",e)}function Of(e,t){t==null&&(t=0);const r=W0(t);e=$e.from(e);const i=e.lt(o2);i&&(e=e.mul(a2));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function es(e,t){t==null&&(t=0);const r=W0(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&kr.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&kr.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&kr.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&h2("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=$e.from(a),b=$e.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(a2)),A}class zo{constructor(t,r,i,n){t!==Qa&&kr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=W0(n),Object.freeze(this)}static from(t){if(t instanceof zo)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||kr.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&kr.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&kr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&kr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new zo(Qa,r,i,n)}}class br{constructor(t,r,i,n){t!==Qa&&kr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&kr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=es(this._value,this.format.decimals),i=es(t._value,t.format.decimals);return br.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=br.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(Sp.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=br.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(Sp.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&kr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=br.from("1"+Ga.substring(0,t),this.format),n=U9.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&kr.throwArgumentError("invalid byte width","width",t);const r=$e.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Fn(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return br.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!D9(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),br.fromString(Of(t,r),zo.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=zo.from(r),n=es(t,i.decimals);!i.signed&&n.lt(o2)&&h2("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=Fn(a,i.width/8));const f=Of(n,i.decimals);return new br(Qa,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=zo.from(r);if(ir(t).length>i.width/8)throw new Error("overflow");let n=$e.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=Of(n,i.decimals);return new br(Qa,a,f,i)}static from(t,r){if(typeof t=="string")return br.fromString(t,r);if(oa(t))return br.fromBytes(t,r);try{return br.fromValue(t,0,r)}catch(i){if(i.code!==ae.errors.INVALID_ARGUMENT)throw i}return kr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const Sp=br.from(1),U9=br.from("0.5"),q9="strings/5.7.0",u2=new ae(q9);var Uu;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Uu||(Uu={}));var Lo;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Lo||(Lo={}));function z9(e,t,r,i,n){return u2.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function c2(e,t,r,i,n){if(e===Lo.BAD_PREFIX||e===Lo.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===Lo.OVERRUN?r.length-t-1:0}function L9(e,t,r,i,n){return e===Lo.OVERLONG?(i.push(n),0):(i.push(65533),c2(e,t,r))}Object.freeze({error:z9,ignore:c2,replace:L9});function Ff(e,t=Uu.current){t!=Uu.current&&(u2.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const a=e.charCodeAt(i);if(i>=e.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const f=65536+((n&1023)<<10)+(a&1023);r.push(f>>18|240),r.push(f>>12&63|128),r.push(f>>6&63|128),r.push(f&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return ir(r)}function H9(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Df(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function _p(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}_p("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Df("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Df("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Df("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",H9),_p("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const f2="hash/5.7.0";function $9(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return ir(t)}function l2(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function j9(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function K9(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let X=1;X<i;X++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function S(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const _=31,C=Math.pow(2,_),R=C>>>1,F=R>>1,H=C-1;let k=0;for(let X=0;X<_;X++)k=k<<1|S();let Y=[],ot=0,at=C;for(;;){let X=Math.floor(((k-ot+1)*n-1)/at),Z=0,ut=i;for(;ut-Z>1;){let Zt=Z+ut>>>1;X<a[Zt]?ut=Zt:Z=Zt}if(Z==0)break;Y.push(Z);let nt=ot+Math.floor(at*a[Z]/n),Gt=ot+Math.floor(at*a[Z+1]/n)-1;for(;!((nt^Gt)&R);)k=k<<1&H|S(),nt=nt<<1&H,Gt=Gt<<1&H|1;for(;nt&~Gt&F;)k=k&R|k<<1&H>>>1|S(),nt=nt<<1^R,Gt=(Gt^R)<<1|R|1;ot=nt,at=1+Gt-nt}let et=i-4;return Y.map(X=>{switch(X-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return X-1}})}function Q9(e){let t=0;return()=>e[t++]}function G9(e){return Q9(K9(e))}function J9(e){return e&1?~e>>1:e>>1}function Y9(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Np(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function V9(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=J9(t());return r}function qu(e,t){let r=Np(e(),e),i=e(),n=Np(i,e),a=Y9(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function W9(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(Z9(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(tE(r,e))}return j9(l2(t))}function X9(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function d2(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)V9(e,r).forEach((a,f)=>i[f].push(a));return i}function Z9(e,t){let r=1+t(),i=t(),n=X9(t),a=d2(n.length,1+e,t);return l2(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((S,_)=>{let C=_*i;return[b+_*r,A.map(R=>R+C)]})}))}function tE(e,t){let r=1+t();return d2(r,1+e,t).map(i=>[i[0],i.slice(1)])}function eE(e){let t=qu(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=qu(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,S)=>S.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function rE(){return G9($9("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"))}const nu=rE();new Set(qu(nu)),new Set(qu(nu)),W9(nu),eE(nu),new ae(f2);const iE=new Uint8Array(32);iE.fill(0);const nE=`Ethereum Signed Message:
`;function p2(e){return typeof e=="string"&&(e=Ff(e)),V0(R9([Ff(nE),Ff(String(e.length)),e]))}const sE="rlp/5.7.0";new ae(sE);const oE="address/5.7.0",Ha=new ae(oE);function Cp(e){wi(e,20)||Ha.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=ir(V0(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(i[n>>1]&15)>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const aE=9007199254740991;function hE(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const X0={};for(let e=0;e<10;e++)X0[String(e)]=String(e);for(let e=0;e<26;e++)X0[String.fromCharCode(65+e)]=String(10+e);const xp=Math.floor(hE(aE));function uE(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>X0[i]).join("");for(;t.length>=xp;){let i=t.substring(0,xp);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function cE(e){let t=null;if(typeof e!="string"&&Ha.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=Cp(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ha.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==uE(e)&&Ha.throwArgumentError("bad icap checksum","address",e),t=k9(e.substring(4));t.length<40;)t="0"+t;t=Cp("0x"+t)}else Ha.throwArgumentError("invalid address","address",e);return t}const fE="properties/5.7.0";new ae(fE);function Ta(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new ae(f2);const lE=new Uint8Array(32);lE.fill(0),$e.from(-1);const dE=$e.from(0),pE=$e.from(1);$e.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Fn(pE.toHexString(),32),Fn(dE.toHexString(),32);var An={},ye={},ah=g2;function g2(e,t){if(!e)throw new Error(t||"Assertion failed")}g2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var M0={exports:{}};typeof Object.create=="function"?M0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:M0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var gE=ah,mE=M0.exports;ye.inherits=mE;function vE(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function yE(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):vE(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}ye.toArray=yE;function wE(e){for(var t="",r=0;r<e.length;r++)t+=v2(e[r].toString(16));return t}ye.toHex=wE;function m2(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ye.htonl=m2;function AE(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=m2(n)),r+=y2(n.toString(16))}return r}ye.toHex32=AE;function v2(e){return e.length===1?"0"+e:e}ye.zero2=v2;function y2(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ye.zero8=y2;function bE(e,t,r,i){var n=r-t;gE(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}ye.join32=bE;function EE(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}ye.split32=EE;function ME(e,t){return e>>>t|e<<32-t}ye.rotr32=ME;function IE(e,t){return e<<t|e>>>32-t}ye.rotl32=IE;function SE(e,t){return e+t>>>0}ye.sum32=SE;function _E(e,t,r){return e+t+r>>>0}ye.sum32_3=_E;function NE(e,t,r,i){return e+t+r+i>>>0}ye.sum32_4=NE;function CE(e,t,r,i,n){return e+t+r+i+n>>>0}ye.sum32_5=CE;function xE(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}ye.sum64=xE;function RE(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}ye.sum64_hi=RE;function BE(e,t,r,i){var n=t+i;return n>>>0}ye.sum64_lo=BE;function PE(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var S=e+r+n+f+b;return S>>>0}ye.sum64_4_hi=PE;function TE(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}ye.sum64_4_lo=TE;function OE(e,t,r,i,n,a,f,v,b,A){var S=0,_=t;_=_+i>>>0,S+=_<t?1:0,_=_+a>>>0,S+=_<a?1:0,_=_+v>>>0,S+=_<v?1:0,_=_+A>>>0,S+=_<A?1:0;var C=e+r+n+f+b+S;return C>>>0}ye.sum64_5_hi=OE;function FE(e,t,r,i,n,a,f,v,b,A){var S=t+i+a+v+A;return S>>>0}ye.sum64_5_lo=FE;function DE(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}ye.rotr64_hi=DE;function kE(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ye.rotr64_lo=kE;function UE(e,t,r){return e>>>r}ye.shr64_hi=UE;function qE(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ye.shr64_lo=qE;var aa={},Rp=ye,zE=ah;function su(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}aa.BlockHash=su,su.prototype.update=function(e,t){if(e=Rp.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Rp.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},su.prototype.digest=function(e){return this.update(this._pad()),zE(this.pending===null),this._digest(e)},su.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Bo={},$n={},LE=ye,Dn=LE.rotr32;function HE(e,t,r,i){if(e===0)return w2(t,r,i);if(e===1||e===3)return b2(t,r,i);if(e===2)return A2(t,r,i)}$n.ft_1=HE;function w2(e,t,r){return e&t^~e&r}$n.ch32=w2;function A2(e,t,r){return e&t^e&r^t&r}$n.maj32=A2;function b2(e,t,r){return e^t^r}$n.p32=b2;function $E(e){return Dn(e,2)^Dn(e,13)^Dn(e,22)}$n.s0_256=$E;function jE(e){return Dn(e,6)^Dn(e,11)^Dn(e,25)}$n.s1_256=jE;function KE(e){return Dn(e,7)^Dn(e,18)^e>>>3}$n.g0_256=KE;function QE(e){return Dn(e,17)^Dn(e,19)^e>>>10}$n.g1_256=QE;var Yo=ye,GE=aa,JE=$n,kf=Yo.rotl32,Oa=Yo.sum32,YE=Yo.sum32_5,VE=JE.ft_1,E2=GE.BlockHash,WE=[1518500249,1859775393,2400959708,3395469782];function Nn(){if(!(this instanceof Nn))return new Nn;E2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Yo.inherits(Nn,E2);var XE=Nn;Nn.blockSize=512,Nn.outSize=160,Nn.hmacStrength=80,Nn.padLength=64,Nn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=kf(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),S=YE(kf(n,5),VE(A,a,f,v),b,r[i],WE[A]);b=v,v=f,f=kf(a,30),a=n,n=S}this.h[0]=Oa(this.h[0],n),this.h[1]=Oa(this.h[1],a),this.h[2]=Oa(this.h[2],f),this.h[3]=Oa(this.h[3],v),this.h[4]=Oa(this.h[4],b)},Nn.prototype._digest=function(e){return e==="hex"?Yo.toHex32(this.h,"big"):Yo.split32(this.h,"big")};var Vo=ye,ZE=aa,ha=$n,tM=ah,en=Vo.sum32,eM=Vo.sum32_4,rM=Vo.sum32_5,iM=ha.ch32,nM=ha.maj32,sM=ha.s0_256,oM=ha.s1_256,aM=ha.g0_256,hM=ha.g1_256,M2=ZE.BlockHash,uM=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cn(){if(!(this instanceof Cn))return new Cn;M2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=uM,this.W=new Array(64)}Vo.inherits(Cn,M2);var I2=Cn;Cn.blockSize=512,Cn.outSize=256,Cn.hmacStrength=192,Cn.padLength=64,Cn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=eM(hM(r[i-2]),r[i-7],aM(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],S=this.h[6],_=this.h[7];for(tM(this.k.length===r.length),i=0;i<r.length;i++){var C=rM(_,oM(b),iM(b,A,S),this.k[i],r[i]),R=en(sM(n),nM(n,a,f));_=S,S=A,A=b,b=en(v,C),v=f,f=a,a=n,n=en(C,R)}this.h[0]=en(this.h[0],n),this.h[1]=en(this.h[1],a),this.h[2]=en(this.h[2],f),this.h[3]=en(this.h[3],v),this.h[4]=en(this.h[4],b),this.h[5]=en(this.h[5],A),this.h[6]=en(this.h[6],S),this.h[7]=en(this.h[7],_)},Cn.prototype._digest=function(e){return e==="hex"?Vo.toHex32(this.h,"big"):Vo.split32(this.h,"big")};var I0=ye,S2=I2;function cs(){if(!(this instanceof cs))return new cs;S2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}I0.inherits(cs,S2);var cM=cs;cs.blockSize=512,cs.outSize=224,cs.hmacStrength=192,cs.padLength=64,cs.prototype._digest=function(e){return e==="hex"?I0.toHex32(this.h.slice(0,7),"big"):I0.split32(this.h.slice(0,7),"big")};var ti=ye,fM=aa,lM=ah,kn=ti.rotr64_hi,Un=ti.rotr64_lo,_2=ti.shr64_hi,N2=ti.shr64_lo,Ss=ti.sum64,Uf=ti.sum64_hi,qf=ti.sum64_lo,dM=ti.sum64_4_hi,pM=ti.sum64_4_lo,gM=ti.sum64_5_hi,mM=ti.sum64_5_lo,C2=fM.BlockHash,vM=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function un(){if(!(this instanceof un))return new un;C2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=vM,this.W=new Array(160)}ti.inherits(un,C2);var x2=un;un.blockSize=1024,un.outSize=512,un.hmacStrength=192,un.padLength=128,un.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=CM(r[i-4],r[i-3]),a=xM(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=_M(r[i-30],r[i-29]),A=NM(r[i-30],r[i-29]),S=r[i-32],_=r[i-31];r[i]=dM(n,a,f,v,b,A,S,_),r[i+1]=pM(n,a,f,v,b,A,S,_)}},un.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],S=this.h[7],_=this.h[8],C=this.h[9],R=this.h[10],F=this.h[11],H=this.h[12],k=this.h[13],Y=this.h[14],ot=this.h[15];lM(this.k.length===r.length);for(var at=0;at<r.length;at+=2){var et=Y,X=ot,Z=IM(_,C),ut=SM(_,C),nt=yM(_,C,R,F,H),Gt=wM(_,C,R,F,H,k),Zt=this.k[at],ht=this.k[at+1],Yt=r[at],o=r[at+1],c=gM(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o),d=mM(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o);et=EM(i,n),X=MM(i,n),Z=AM(i,n,a,f,v),ut=bM(i,n,a,f,v,b);var g=Uf(et,X,Z,ut),w=qf(et,X,Z,ut);Y=H,ot=k,H=R,k=F,R=_,F=C,_=Uf(A,S,c,d),C=qf(S,S,c,d),A=v,S=b,v=a,b=f,a=i,f=n,i=Uf(c,d,g,w),n=qf(c,d,g,w)}Ss(this.h,0,i,n),Ss(this.h,2,a,f),Ss(this.h,4,v,b),Ss(this.h,6,A,S),Ss(this.h,8,_,C),Ss(this.h,10,R,F),Ss(this.h,12,H,k),Ss(this.h,14,Y,ot)},un.prototype._digest=function(e){return e==="hex"?ti.toHex32(this.h,"big"):ti.split32(this.h,"big")};function yM(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function wM(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function AM(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function bM(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function EM(e,t){var r=kn(e,t,28),i=kn(t,e,2),n=kn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function MM(e,t){var r=Un(e,t,28),i=Un(t,e,2),n=Un(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function IM(e,t){var r=kn(e,t,14),i=kn(e,t,18),n=kn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function SM(e,t){var r=Un(e,t,14),i=Un(e,t,18),n=Un(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function _M(e,t){var r=kn(e,t,1),i=kn(e,t,8),n=_2(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function NM(e,t){var r=Un(e,t,1),i=Un(e,t,8),n=N2(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function CM(e,t){var r=kn(e,t,19),i=kn(t,e,29),n=_2(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function xM(e,t){var r=Un(e,t,19),i=Un(t,e,29),n=N2(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var S0=ye,R2=x2;function fs(){if(!(this instanceof fs))return new fs;R2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}S0.inherits(fs,R2);var RM=fs;fs.blockSize=1024,fs.outSize=384,fs.hmacStrength=192,fs.padLength=128,fs.prototype._digest=function(e){return e==="hex"?S0.toHex32(this.h.slice(0,12),"big"):S0.split32(this.h.slice(0,12),"big")},Bo.sha1=XE,Bo.sha224=cM,Bo.sha256=I2,Bo.sha384=RM,Bo.sha512=x2;var B2={},io=ye,BM=aa,ou=io.rotl32,Bp=io.sum32,Fa=io.sum32_3,Pp=io.sum32_4,P2=BM.BlockHash;function bn(){if(!(this instanceof bn))return new bn;P2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}io.inherits(bn,P2),B2.ripemd160=bn,bn.blockSize=512,bn.outSize=160,bn.hmacStrength=192,bn.padLength=64,bn.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,S=a,_=f,C=0;C<80;C++){var R=Bp(ou(Pp(r,Tp(C,i,n,a),e[OM[C]+t],PM(C)),DM[C]),f);r=f,f=a,a=ou(n,10),n=i,i=R,R=Bp(ou(Pp(v,Tp(79-C,b,A,S),e[FM[C]+t],TM(C)),kM[C]),_),v=_,_=S,S=ou(A,10),A=b,b=R}R=Fa(this.h[1],n,S),this.h[1]=Fa(this.h[2],a,_),this.h[2]=Fa(this.h[3],f,v),this.h[3]=Fa(this.h[4],r,b),this.h[4]=Fa(this.h[0],i,A),this.h[0]=R},bn.prototype._digest=function(e){return e==="hex"?io.toHex32(this.h,"little"):io.split32(this.h,"little")};function Tp(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function PM(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function TM(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var OM=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],FM=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],DM=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kM=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],UM=ye,qM=ah;function Ho(e,t,r){if(!(this instanceof Ho))return new Ho(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(UM.toArray(t,r))}var zM=Ho;Ho.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),qM(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Ho.prototype.update=function(e,t){return this.inner.update(e,t),this},Ho.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ye,t.common=aa,t.sha=Bo,t.ripemd=B2,t.hmac=zM,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(An);function ua(e,t,r){return r={path:t,exports:{},require:function(i,n){return LM(i,n??r.path)}},e(r,r.exports),r.exports}function LM(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Z0=T2;function T2(e,t){if(!e)throw new Error(t||"Assertion failed")}T2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var dn=ua(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var S=f.charCodeAt(A),_=S>>8,C=S&255;_?b.push(_,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),bi=ua(function(e,t){var r=t;r.assert=Z0,r.toArray=dn.toArray,r.zero2=dn.zero2,r.toHex=dn.toHex,r.encode=dn.encode;function i(b,A,S){var _=new Array(Math.max(b.bitLength(),S)+1);_.fill(0);for(var C=1<<A+1,R=b.clone(),F=0;F<_.length;F++){var H,k=R.andln(C-1);R.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,R.isubn(H)):H=0,_[F]=H,R.iushrn(1)}return _}r.getNAF=i;function n(b,A){var S=[[],[]];b=b.clone(),A=A.clone();for(var _=0,C=0,R;b.cmpn(-_)>0||A.cmpn(-C)>0;){var F=b.andln(3)+_&3,H=A.andln(3)+C&3;F===3&&(F=-1),H===3&&(H=-1);var k;F&1?(R=b.andln(7)+_&7,(R===3||R===5)&&H===2?k=-F:k=F):k=0,S[0].push(k);var Y;H&1?(R=A.andln(7)+C&7,(R===3||R===5)&&F===2?Y=-H:Y=H):Y=0,S[1].push(Y),2*_===k+1&&(_=1-_),2*C===Y+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return S}r.getJSF=n;function a(b,A,S){var _="_"+A;b.prototype[A]=function(){return this[_]!==void 0?this[_]:this[_]=S.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new ie(b,"hex","le")}r.intFromLE=v}),au=bi.getNAF,HM=bi.getJSF,zu=bi.assert;function Rs(e,t){this.type=e,this.p=new ie(t.p,16),this.red=t.prime?ie.red(t.prime):ie.mont(this.p),this.zero=new ie(0).toRed(this.red),this.one=new ie(1).toRed(this.red),this.two=new ie(2).toRed(this.red),this.n=t.n&&new ie(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ho=Rs;Rs.prototype.point=function(){throw new Error("Not implemented")},Rs.prototype.validate=function(){throw new Error("Not implemented")},Rs.prototype._fixedNafMul=function(e,t){zu(e.precomputed);var r=e._getDoubles(),i=au(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),S=this.jpoint(null,null,null),_=n;_>0;_--){for(f=0;f<a.length;f++)v=a[f],v===_?S=S.mixedAdd(r.points[f]):v===-_&&(S=S.mixedAdd(r.points[f].neg()));A=A.add(S)}return A.toP()},Rs.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=au(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];zu(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Rs.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,S,_;for(A=0;A<i;A++){_=t[A];var C=_._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var R=A-1,F=A;if(a[R]!==1||a[F]!==1){v[R]=au(r[R],a[R],this._bitLength),v[F]=au(r[F],a[F],this._bitLength),b=Math.max(v[R].length,b),b=Math.max(v[F].length,b);continue}var H=[t[R],null,null,t[F]];t[R].y.cmp(t[F].y)===0?(H[1]=t[R].add(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg())):t[R].y.cmp(t[F].y.redNeg())===0?(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].add(t[F].neg())):(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=HM(r[R],r[F]);for(b=Math.max(Y[0].length,b),v[R]=new Array(b),v[F]=new Array(b),S=0;S<b;S++){var ot=Y[0][S]|0,at=Y[1][S]|0;v[R][S]=k[(ot+1)*3+(at+1)],v[F][S]=0,f[R]=H}}var et=this.jpoint(null,null,null),X=this._wnafT4;for(A=b;A>=0;A--){for(var Z=0;A>=0;){var ut=!0;for(S=0;S<i;S++)X[S]=v[S][A]|0,X[S]!==0&&(ut=!1);if(!ut)break;Z++,A--}if(A>=0&&Z++,et=et.dblp(Z),A<0)break;for(S=0;S<i;S++){var nt=X[S];nt!==0&&(nt>0?_=f[S][nt-1>>1]:nt<0&&(_=f[S][-nt-1>>1].neg()),_.type==="affine"?et=et.mixedAdd(_):et=et.add(_))}}for(A=0;A<i;A++)f[A]=null;return n?et:et.toP()};function Fi(e,t){this.curve=e,this.type=t,this.precomputed=null}Rs.BasePoint=Fi,Fi.prototype.eq=function(){throw new Error("Not implemented")},Fi.prototype.validate=function(){return this.curve.validate(this)},Rs.prototype.decodePoint=function(e,t){e=bi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?zu(e[e.length-1]%2===0):e[0]===7&&zu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},Fi.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Fi.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Fi.prototype.encode=function(e,t){return bi.encode(this._encode(t),e)},Fi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Fi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Fi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},Fi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},Fi.prototype._getBeta=function(){return null},Fi.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var tl=ua(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),$M=bi.assert;function Qi(e){ho.call(this,"short",e),this.a=new ie(e.a,16).toRed(this.red),this.b=new ie(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tl(Qi,ho);var jM=Qi;Qi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new ie(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new ie(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],$M(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new ie(f.a,16),b:new ie(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},Qi.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ie.mont(e),r=new ie(2).toRed(t).redInvm(),i=r.redNeg(),n=new ie(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},Qi.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new ie(1),a=new ie(0),f=new ie(0),v=new ie(1),b,A,S,_,C,R,F,H=0,k,Y;r.cmpn(0)!==0;){var ot=i.div(r);k=i.sub(ot.mul(r)),Y=f.sub(ot.mul(n));var at=v.sub(ot.mul(a));if(!S&&k.cmp(t)<0)b=F.neg(),A=n,S=k.neg(),_=Y;else if(S&&++H===2)break;F=k,i=r,r=k,f=n,n=Y,v=a,a=at}C=k.neg(),R=Y;var et=S.sqr().add(_.sqr()),X=C.sqr().add(R.sqr());return X.cmp(et)>=0&&(C=b,R=A),S.negative&&(S=S.neg(),_=_.neg()),C.negative&&(C=C.neg(),R=R.neg()),[{a:S,b:_},{a:C,b:R}]},Qi.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),S=e.sub(f).sub(v),_=b.add(A).neg();return{k1:S,k2:_}},Qi.prototype.pointFromX=function(e,t){e=new ie(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Qi.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Qi.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),S=0;S<a*2;S++)i[S]=null,n[S]=null;return A};function lr(e,t,r,i){ho.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ie(t,16),this.y=new ie(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tl(lr,ho.BasePoint),Qi.prototype.point=function(e,t,r){return new lr(this,e,t,r)},Qi.prototype.pointFromJSON=function(e,t){return lr.fromJSON(this,e,t)},lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},lr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},lr.prototype.isInfinity=function(){return this.inf},lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},lr.prototype.getX=function(){return this.x.fromRed()},lr.prototype.getY=function(){return this.y.fromRed()},lr.prototype.mul=function(e){return e=new ie(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},lr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},lr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},lr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yr(e,t,r,i){ho.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ie(0)):(this.x=new ie(t,16),this.y=new ie(r,16),this.z=new ie(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tl(yr,ho.BasePoint),Qi.prototype.jpoint=function(e,t,r){return new yr(this,e,t,r)},yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),S=A.redMul(v),_=i.redMul(A),C=b.redSqr().redIAdd(S).redISub(_).redISub(_),R=b.redMul(_.redISub(C)).redISub(a.redMul(S)),F=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,R,F)},yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),S=r.redMul(b),_=v.redSqr().redIAdd(A).redISub(S).redISub(S),C=v.redMul(S.redISub(_)).redISub(n.redMul(A)),R=this.z.redMul(f);return this.curve.jpoint(_,C,R)},yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var S=a.redSqr(),_=A.redSqr(),C=_.redSqr(),R=S.redAdd(S).redIAdd(S).redIAdd(i.redMul(b)),F=a.redMul(_),H=R.redSqr().redISub(F.redAdd(F)),k=F.redISub(H),Y=R.redMul(k);Y=Y.redIAdd(Y).redISub(C);var ot=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ot,A=Y}return this.curve.jpoint(a,A.redMul(n),v)},yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},yr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),_=this.y.redSqr(),C=_.redSqr(),R=this.x.redAdd(_).redSqr().redISub(S).redISub(C);R=R.redIAdd(R);var F=S.redAdd(S).redIAdd(S),H=F.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(R).redISub(R),t=F.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},yr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),_=this.y.redSqr(),C=this.x.redMul(_),R=this.x.redSub(S).redMul(this.x.redAdd(S));R=R.redAdd(R).redIAdd(R);var F=C.redIAdd(C);F=F.redIAdd(F);var H=F.redAdd(F);e=R.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(S);var k=_.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(F.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),S=v.redSqr().redISub(A.redAdd(A)),_=A.redISub(S),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=v.redMul(_).redISub(C),F=r.redAdd(r).redMul(i);return this.curve.jpoint(S,R,F)},yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),S=t.redMul(A);S=S.redIAdd(S),S=S.redIAdd(S);var _=this.x.redMul(v).redISub(S);_=_.redIAdd(_),_=_.redIAdd(_);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(_,C,R)},yr.prototype.mul=function(e,t){return e=new ie(e,t),this.curve._wnafMul(this,e)},yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Mu=ua(function(e,t){var r=t;r.base=ho,r.short=jM,r.mont=null,r.edwards=null}),Iu=ua(function(e,t){var r=t,i=bi.assert;function n(v){v.type==="short"?this.curve=new Mu.short(v):v.type==="edwards"?this.curve=new Mu.edwards(v):this.curve=new Mu.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:An.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:An.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:An.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:An.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:An.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:An.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:An.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:An.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function Bs(e){if(!(this instanceof Bs))return new Bs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=dn.toArray(e.entropy,e.entropyEnc||"hex"),r=dn.toArray(e.nonce,e.nonceEnc||"hex"),i=dn.toArray(e.pers,e.persEnc||"hex");Z0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Op=Bs;Bs.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Bs.prototype._hmac=function(){return new An.hmac(this.hash,this.K)},Bs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Bs.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=dn.toArray(e,t),r=dn.toArray(r,i),Z0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Bs.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=dn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,dn.encode(a,t)};var zf=bi.assert;function xr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Lf=xr;xr.fromPublic=function(e,t,r){return t instanceof xr?t:new xr(e,{pub:t,pubEnc:r})},xr.fromPrivate=function(e,t,r){return t instanceof xr?t:new xr(e,{priv:t,privEnc:r})},xr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},xr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},xr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},xr.prototype._importPrivate=function(e,t){this.priv=new ie(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},xr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?zf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&zf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},xr.prototype.derive=function(e){return e.validate()||zf(e.validate(),"public point not validated"),e.mul(this.priv).getX()},xr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},xr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},xr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var KM=bi.assert;function tc(e,t){if(e instanceof tc)return e;this._importDER(e,t)||(KM(e.r&&e.s,"Signature without r or s"),this.r=new ie(e.r,16),this.s=new ie(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var hu=tc;function QM(){this.place=0}function Hf(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function Fp(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}tc.prototype._importDER=function(e,t){e=bi.toArray(e,t);var r=new QM;if(e[r.place++]!==48)return!1;var i=Hf(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Hf(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=Hf(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new ie(a),this.s=new ie(v),this.recoveryParam=null,!0};function $f(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}tc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Fp(t),r=Fp(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];$f(i,t.length),i=i.concat(t),i.push(2),$f(i,r.length);var n=i.concat(r),a=[48];return $f(a,n.length),a=a.concat(n),bi.encode(a,e)};var GM=function(){throw new Error("unsupported")},O2=bi.assert;function Hi(e){if(!(this instanceof Hi))return new Hi(e);typeof e=="string"&&(O2(Object.prototype.hasOwnProperty.call(Iu,e),"Unknown curve "+e),e=Iu[e]),e instanceof Iu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var JM=Hi;Hi.prototype.keyPair=function(e){return new Lf(this,e)},Hi.prototype.keyFromPrivate=function(e,t){return Lf.fromPrivate(this,e,t)},Hi.prototype.keyFromPublic=function(e,t){return Lf.fromPublic(this,e,t)},Hi.prototype.genKeyPair=function(e){e||(e={});for(var t=new Op({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||GM(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ie(2));;){var n=new ie(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Hi.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Hi.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ie(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new Op({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new ie(1)),A=0;;A++){var S=i.k?i.k(A):new ie(v.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(b)>=0)){var _=this.g.mul(S);if(!_.isInfinity()){var C=_.getX(),R=C.umod(this.n);if(R.cmpn(0)!==0){var F=S.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(F=F.umod(this.n),F.cmpn(0)!==0){var H=(_.getY().isOdd()?1:0)|(C.cmp(R)!==0?2:0);return i.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),H^=1),new hu({r:R,s:F,recoveryParam:H})}}}}}},Hi.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ie(e,16)),r=this.keyFromPublic(r,i),t=new hu(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},Hi.prototype.recoverPubKey=function(e,t,r,i){O2((3&r)===r,"The recovery param is more than two bits"),t=new hu(t,i);var n=this.n,a=new ie(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var S=t.r.invm(n),_=n.sub(a).mul(S).umod(n),C=v.mul(S).umod(n);return this.g.mulAdd(_,f,C)},Hi.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new hu(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var YM=ua(function(e,t){var r=t;r.version="6.5.4",r.utils=bi,r.rand=function(){throw new Error("unsupported")},r.curve=Mu,r.curves=Iu,r.ec=JM,r.eddsa=null}),VM=YM.ec;const WM="signing-key/5.7.0",_0=new ae(WM);let jf=null;function xn(){return jf||(jf=new VM("secp256k1")),jf}class XM{constructor(t){Ta(this,"curve","secp256k1"),Ta(this,"privateKey",Fr(t)),P9(this.privateKey)!==32&&_0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=xn().keyFromPrivate(ir(this.privateKey));Ta(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ta(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ta(this,"_isSigningKey",!0)}_addPoint(t){const r=xn().keyFromPublic(ir(this.publicKey)),i=xn().keyFromPublic(ir(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=xn().keyFromPrivate(ir(this.privateKey)),i=ir(t);i.length!==32&&_0.throwArgumentError("bad digest length","digest",t);const n=r.sign(i,{canonical:!0});return i2({recoveryParam:n.recoveryParam,r:Fn("0x"+n.r.toString(16),32),s:Fn("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const r=xn().keyFromPrivate(ir(this.privateKey)),i=xn().keyFromPublic(ir(F2(t)));return Fn("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function ZM(e,t){const r=i2(t),i={r:ir(r.r),s:ir(r.s)};return"0x"+xn().recoverPubKey(ir(e),i,r.recoveryParam).encode("hex",!1)}function F2(e,t){const r=ir(e);if(r.length===32){const i=new XM(r);return t?"0x"+xn().keyFromPrivate(r).getPublic(!0,"hex"):i.publicKey}else{if(r.length===33)return t?Fr(r):"0x"+xn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+xn().keyFromPublic(r).getPublic(!0,"hex"):Fr(r)}return _0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const tI="transactions/5.7.0";new ae(tI);var Dp;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Dp||(Dp={}));function eI(e){const t=F2(e);return cE(Ep(V0(Ep(t,1)),12))}function rI(e,t){return eI(ZM(ir(e),t))}const iI="https://rpc.walletconnect.com/v1";async function nI(e,t,r,i,n,a){switch(r.t){case"eip191":return sI(e,t,r.s);case"eip1271":return await oI(e,t,r.s,i,n,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function sI(e,t,r){return rI(p2(t),r).toLowerCase()===e.toLowerCase()}async function oI(e,t,r,i,n,a){try{const f="0x1626ba7e",v="0000000000000000000000000000000000000000000000000000000000000040",b="0000000000000000000000000000000000000000000000000000000000000041",A=r.substring(2),S=p2(t).substring(2),_=f+S+v+b+A,C=await fetch(`${a||iI}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:aI(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:_},"latest"]})}),{result:R}=await C.json();return R?R.slice(0,f.length).toLowerCase()===f.toLowerCase():!1}catch(f){return console.error("isValidEip1271Signature: ",f),!1}}function aI(){return Date.now()+Math.floor(Math.random()*1e3)}var hI=Object.defineProperty,uI=Object.defineProperties,cI=Object.getOwnPropertyDescriptors,kp=Object.getOwnPropertySymbols,fI=Object.prototype.hasOwnProperty,lI=Object.prototype.propertyIsEnumerable,Up=(e,t,r)=>t in e?hI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dI=(e,t)=>{for(var r in t||(t={}))fI.call(t,r)&&Up(e,r,t[r]);if(kp)for(var r of kp(t))lI.call(t,r)&&Up(e,r,t[r]);return e},pI=(e,t)=>uI(e,cI(t));const gI="did:pkh:",el=e=>e?.split(":"),D2=e=>{const t=e&&el(e);if(t)return e.includes(gI)?t[3]:t[1]},qp=e=>{const t=e&&el(e);if(t)return t[2]+":"+t[3]},Lu=e=>{const t=e&&el(e);if(t)return t.pop()};async function zp(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,a=k2(n,n.iss),f=Lu(n.iss);return await nI(f,a,i,D2(n.iss),r)}const k2=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=Lu(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const a=`URI: ${e.aud||e.uri}`,f=`Version: ${e.version}`,v=`Chain ID: ${D2(t)}`,b=`Nonce: ${e.nonce}`,A=`Issued At: ${e.iat}`,S=e.resources?`Resources:${e.resources.map(C=>`
- ${C}`).join("")}`:void 0,_=Su(e.resources);if(_){const C=eh(_);n=II(n,C)}return[r,i,"",n,"",a,f,v,b,A,S].filter(C=>C!=null).join(`
`)};function mI(e){return hm.Buffer.from(JSON.stringify(e)).toString("base64")}function vI(e){return JSON.parse(hm.Buffer.from(e,"base64").toString("utf-8"))}function so(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(n=>{const a=i[n];if(!Array.isArray(a))throw new Error(`Ability limits ${n} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);a.forEach(f=>{if(typeof f!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${f}`)})})})}function yI(e,t,r,i={}){return r?.sort((n,a)=>n.localeCompare(a)),{att:{[e]:wI(t,r,i)}}}function wI(e,t,r={}){t=t?.sort((n,a)=>n.localeCompare(a));const i=t.map(n=>({[`${e}/${n}`]:[r]}));return Object.assign({},...i)}function U2(e){return so(e),`urn:recap:${mI(e).replace(/=/g,"")}`}function eh(e){const t=vI(e.replace("urn:recap:",""));return so(t),t}function AI(e,t,r){const i=yI(e,t,r);return U2(i)}function bI(e){return e&&e.includes("urn:recap:")}function EI(e,t){const r=eh(e),i=eh(t),n=MI(r,i);return U2(n)}function MI(e,t){so(e),so(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((n,a)=>n.localeCompare(a)),i={att:{}};return r.forEach(n=>{var a,f;Object.keys(((a=e.att)==null?void 0:a[n])||{}).concat(Object.keys(((f=t.att)==null?void 0:f[n])||{})).sort((v,b)=>v.localeCompare(b)).forEach(v=>{var b,A;i.att[n]=pI(dI({},i.att[n]),{[v]:((b=e.att[n])==null?void 0:b[v])||((A=t.att[n])==null?void 0:A[v])})})}),i}function II(e="",t){so(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach(v=>{const b=Object.keys(t.att[v]).map(_=>({ability:_.split("/")[0],action:_.split("/")[1]}));b.sort((_,C)=>_.action.localeCompare(C.action));const A={};b.forEach(_=>{A[_.ability]||(A[_.ability]=[]),A[_.ability].push(_.action)});const S=Object.keys(A).map(_=>(n++,`(${n}) '${_}': '${A[_].join("', '")}' for '${v}'.`));i.push(S.join(", ").replace(".,","."))});const a=i.join(" "),f=`${r}${a}`;return`${e?e+" ":""}${f}`}function Lp(e){var t;const r=eh(e);so(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function Hp(e){const t=eh(e);so(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(n=>{var a;(a=n?.[0])!=null&&a.chains&&r.push(n[0].chains)})}),[...new Set(r.flat())]}function Su(e){if(!e)return;const t=e?.[e.length-1];return bI(t)?t:void 0}const q2="base10",zr="base16",N0="base64pad",rl="utf8",z2=0,ks=1,SI=0,$p=1,C0=12,il=32;function _I(){const e=um.generateKeyPair();return{privateKey:Yi(e.secretKey,zr),publicKey:Yi(e.publicKey,zr)}}function x0(){const e=cm.randomBytes(il);return Yi(e,zr)}function NI(e,t){const r=um.sharedKey(fn(e,zr),fn(t,zr),!0),i=new X8($0.SHA256,r).expand(il);return Yi(i,zr)}function _u(e){const t=$0.hash(fn(e,zr));return Yi(t,zr)}function to(e){const t=$0.hash(fn(e,rl));return Yi(t,zr)}function CI(e){return fn(`${e}`,q2)}function hh(e){return Number(Yi(e,q2))}function xI(e){const t=CI(typeof e.type<"u"?e.type:z2);if(hh(t)===ks&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?fn(e.senderPublicKey,zr):void 0,i=typeof e.iv<"u"?fn(e.iv,zr):cm.randomBytes(C0),n=new fm.ChaCha20Poly1305(fn(e.symKey,zr)).seal(i,fn(e.message,rl));return BI({type:t,sealed:n,iv:i,senderPublicKey:r})}function RI(e){const t=new fm.ChaCha20Poly1305(fn(e.symKey,zr)),{sealed:r,iv:i}=Hu(e.encoded),n=t.open(i,r);if(n===null)throw new Error("Failed to decrypt");return Yi(n,rl)}function BI(e){if(hh(e.type)===ks){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Yi(U1([e.type,e.senderPublicKey,e.iv,e.sealed]),N0)}return Yi(U1([e.type,e.iv,e.sealed]),N0)}function Hu(e){const t=fn(e,N0),r=t.slice(SI,$p),i=$p;if(hh(r)===ks){const v=i+il,b=v+C0,A=t.slice(i,v),S=t.slice(v,b),_=t.slice(b);return{type:r,sealed:_,iv:S,senderPublicKey:A}}const n=i+C0,a=t.slice(i,n),f=t.slice(n);return{type:r,sealed:f,iv:a}}function PI(e,t){const r=Hu(e);return L2({type:hh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Yi(r.senderPublicKey,zr):void 0,receiverPublicKey:t?.receiverPublicKey})}function L2(e){const t=e?.type||z2;if(t===ks){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function jp(e){return e.type===ks&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}const TI="irn";function R0(e){return e?.relay||{protocol:TI}}function Nu(e){const t=e4[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var OI=Object.defineProperty,FI=Object.defineProperties,DI=Object.getOwnPropertyDescriptors,Kp=Object.getOwnPropertySymbols,kI=Object.prototype.hasOwnProperty,UI=Object.prototype.propertyIsEnumerable,Qp=(e,t,r)=>t in e?OI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gp=(e,t)=>{for(var r in t||(t={}))kI.call(t,r)&&Qp(e,r,t[r]);if(Kp)for(var r of Kp(t))UI.call(t,r)&&Qp(e,r,t[r]);return e},qI=(e,t)=>FI(e,DI(t));function zI(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(n=>{if(n.startsWith(i)){const a=n.replace(i,""),f=e[n];r[a]=f}}),r}function Jp(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),a=typeof r<"u"?e.substring(r):"",f=Tu.parse(a),v=typeof f.methods=="string"?f.methods.split(","):void 0;return{protocol:i,topic:LI(n[0]),version:parseInt(n[1],10),symKey:f.symKey,relay:zI(f),methods:v,expiryTimestamp:f.expiryTimestamp?parseInt(f.expiryTimestamp,10):void 0}}function LI(e){return e.startsWith("//")?e.substring(2):e}function HI(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(n=>{const a=r+t+n;e[n]&&(i[a]=e[n])}),i}function $I(e){return`${e.protocol}:${e.topic}@${e.version}?`+Tu.stringify(Gp(qI(Gp({symKey:e.symKey},HI(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function ca(e){const t=[];return e.forEach(r=>{const[i,n]=r.split(":");t.push(`${i}:${n}`)}),t}function jI(e){const t=[];return Object.values(e).forEach(r=>{t.push(...ca(r.accounts))}),t}function KI(e,t){const r=[];return Object.values(e).forEach(i=>{ca(i.accounts).includes(t)&&r.push(...i.methods)}),r}function QI(e,t){const r=[];return Object.values(e).forEach(i=>{ca(i.accounts).includes(t)&&r.push(...i.events)}),r}function GI(e){const t={};return e?.forEach(r=>{const[i,n]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${n}`)}),t}function Yp(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=GI(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=b9(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const JI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},YI={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function It(e,t){const{message:r,code:i}=YI[e];return{message:t?`${r} ${t}`:r,code:i}}function Le(e,t){const{message:r,code:i}=JI[e];return{message:t?`${r} ${t}`:r,code:i}}function uh(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function $u(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Ur(e){return typeof e>"u"}function ar(e,t){return t&&Ur(e)?!0:typeof e=="string"&&!!e.trim().length}function nl(e,t){return t&&Ur(e)?!0:typeof e=="number"&&!isNaN(e)}function VI(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let a=!0;return Zs(n,i)?(i.forEach(f=>{const{accounts:v,methods:b,events:A}=e.namespaces[f],S=ca(v),_=r[f];(!Zs(Ym(f,_),S)||!Zs(_.methods,b)||!Zs(_.events,A))&&(a=!1)}),a):!1}function ju(e){return ar(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function WI(e){if(ar(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&ju(r)}}return!1}function XI(e){if(ar(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function ZI(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function tS(e){return e?.topic}function eS(e,t){let r=null;return ar(e?.publicKey,!1)||(r=It("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function Vp(e){let t=!0;return uh(e)?e.length&&(t=e.every(r=>ar(r,!1))):t=!1,t}function rS(e,t,r){let i=null;return uh(t)&&t.length?t.forEach(n=>{i||ju(n)||(i=Le("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):ju(e)||(i=Le("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function iS(e,t,r){let i=null;return Object.entries(e).forEach(([n,a])=>{if(i)return;const f=rS(n,Ym(n,a),`${t} ${r}`);f&&(i=f)}),i}function nS(e,t){let r=null;return uh(e)?e.forEach(i=>{r||WI(i)||(r=Le("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=Le("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function sS(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=nS(i?.accounts,`${t} namespace`);n&&(r=n)}),r}function oS(e,t){let r=null;return Vp(e?.methods)?Vp(e?.events)||(r=Le("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Le("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function H2(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=oS(i,`${t}, namespace`);n&&(r=n)}),r}function aS(e,t,r){let i=null;if(e&&$u(e)){const n=H2(e,t);n&&(i=n);const a=iS(e,t,r);a&&(i=a)}else i=It("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function Kf(e,t){let r=null;if(e&&$u(e)){const i=H2(e,t);i&&(r=i);const n=sS(e,t);n&&(r=n)}else r=It("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function $2(e){return ar(e.protocol,!0)}function hS(e,t){let r=!1;return t&&!e?r=!0:e&&uh(e)&&e.length&&e.forEach(i=>{r=$2(i)}),r}function uS(e){return typeof e=="number"}function Xr(e){return typeof e<"u"&&typeof e!==null}function cS(e){return!(!e||typeof e!="object"||!e.code||!nl(e.code,!1)||!e.message||!ar(e.message,!1))}function fS(e){return!(Ur(e)||!ar(e.method,!1))}function lS(e){return!(Ur(e)||Ur(e.result)&&Ur(e.error)||!nl(e.id,!1)||!ar(e.jsonrpc,!1))}function dS(e){return!(Ur(e)||!ar(e.name,!1))}function Wp(e,t){return!(!ju(t)||!jI(e).includes(t))}function pS(e,t,r){return ar(r,!1)?KI(e,t).includes(r):!1}function gS(e,t,r){return ar(r,!1)?QI(e,t).includes(r):!1}function Xp(e,t,r){let i=null;const n=mS(e),a=vS(t),f=Object.keys(n),v=Object.keys(a),b=Zp(Object.keys(e)),A=Zp(Object.keys(t)),S=b.filter(_=>!A.includes(_));return S.length&&(i=It("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${S.toString()}
      Received: ${Object.keys(t).toString()}`)),Zs(f,v)||(i=It("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${f.toString()}
      Approved: ${v.toString()}`)),Object.keys(t).forEach(_=>{if(!_.includes(":")||i)return;const C=ca(t[_].accounts);C.includes(_)||(i=It("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${_}
        Required: ${_}
        Approved: ${C.toString()}`))}),f.forEach(_=>{i||(Zs(n[_].methods,a[_].methods)?Zs(n[_].events,a[_].events)||(i=It("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${_}`)):i=It("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${_}`))}),i}function mS(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}function Zp(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function vS(e){const t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:ca(e[r].accounts)?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(a=>a.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}),t}function yS(e,t){return nl(e,!1)&&e<=t.max&&e>=t.min}function tg(){const e=oh();return new Promise(t=>{switch(e){case yi.browser:t(wS());break;case yi.reactNative:t(AS());break;case yi.node:t(bS());break;default:t(!0)}})}function wS(){return sa()&&navigator?.onLine}async function AS(){return na()&&typeof Ie<"u"&&Ie!=null&&Ie.NetInfo?(await(Ie==null?void 0:Ie.NetInfo.fetch()))?.isConnected:!0}function bS(){return!0}function ES(e){switch(oh()){case yi.browser:MS(e);break;case yi.reactNative:IS(e);break}}function MS(e){!na()&&sa()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function IS(e){na()&&typeof Ie<"u"&&Ie!=null&&Ie.NetInfo&&Ie?.NetInfo.addEventListener(t=>e(t?.isConnected))}const Qf={};class Da{static get(t){return Qf[t]}static set(t,r){Qf[t]=r}static delete(t){delete Qf[t]}}class SS extends lm{constructor(t){super(t),this.events=new Lr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(eo(t.method,t.params||[],t.id||Os().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(a){n(a)}this.events.on(`${t.id}`,a=>{ji(a)?n(a.error):i(a.result)});try{await this.connection.send(t,r)}catch(a){n(a)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ih(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}function _S(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var a=e.charAt(n),f=a.charCodeAt(0);if(r[f]!==255)throw new TypeError(a+" is ambiguous");r[f]=n}var v=e.length,b=e.charAt(0),A=Math.log(v)/Math.log(256),S=Math.log(256)/Math.log(v);function _(F){if(F instanceof Uint8Array||(ArrayBuffer.isView(F)?F=new Uint8Array(F.buffer,F.byteOffset,F.byteLength):Array.isArray(F)&&(F=Uint8Array.from(F))),!(F instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(F.length===0)return"";for(var H=0,k=0,Y=0,ot=F.length;Y!==ot&&F[Y]===0;)Y++,H++;for(var at=(ot-Y)*S+1>>>0,et=new Uint8Array(at);Y!==ot;){for(var X=F[Y],Z=0,ut=at-1;(X!==0||Z<k)&&ut!==-1;ut--,Z++)X+=256*et[ut]>>>0,et[ut]=X%v>>>0,X=X/v>>>0;if(X!==0)throw new Error("Non-zero carry");k=Z,Y++}for(var nt=at-k;nt!==at&&et[nt]===0;)nt++;for(var Gt=b.repeat(H);nt<at;++nt)Gt+=e.charAt(et[nt]);return Gt}function C(F){if(typeof F!="string")throw new TypeError("Expected String");if(F.length===0)return new Uint8Array;var H=0;if(F[H]!==" "){for(var k=0,Y=0;F[H]===b;)k++,H++;for(var ot=(F.length-H)*A+1>>>0,at=new Uint8Array(ot);F[H];){var et=r[F.charCodeAt(H)];if(et===255)return;for(var X=0,Z=ot-1;(et!==0||X<Y)&&Z!==-1;Z--,X++)et+=v*at[Z]>>>0,at[Z]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");Y=X,H++}if(F[H]!==" "){for(var ut=ot-Y;ut!==ot&&at[ut]===0;)ut++;for(var nt=new Uint8Array(k+(ot-ut)),Gt=k;ut!==ot;)nt[Gt++]=at[ut++];return nt}}}function R(F){var H=C(F);if(H)return H;throw new Error(`Non-${t} character`)}return{encode:_,decodeUnsafe:C,decode:R}}var NS=_S,CS=NS;const j2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},xS=e=>new TextEncoder().encode(e),RS=e=>new TextDecoder().decode(e);class BS{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class PS{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return K2(this,t)}}class TS{constructor(t){this.decoders=t}or(t){return K2(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const K2=(e,t)=>new TS({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class OS{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new BS(t,r,i),this.decoder=new PS(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ec=({name:e,prefix:t,encode:r,decode:i})=>new OS(e,t,r,i),ch=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=CS(r,t);return ec({prefix:e,name:t,encode:i,decode:a=>j2(n(a))})},FS=(e,t,r,i)=>{const n={};for(let S=0;S<t.length;++S)n[t[S]]=S;let a=e.length;for(;e[a-1]==="=";)--a;const f=new Uint8Array(a*r/8|0);let v=0,b=0,A=0;for(let S=0;S<a;++S){const _=n[e[S]];if(_===void 0)throw new SyntaxError(`Non-${i} character`);b=b<<r|_,v+=r,v>=8&&(v-=8,f[A++]=255&b>>v)}if(v>=r||255&b<<8-v)throw new SyntaxError("Unexpected end of data");return f},DS=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let a="",f=0,v=0;for(let b=0;b<e.length;++b)for(v=v<<8|e[b],f+=8;f>r;)f-=r,a+=t[n&v>>f];if(f&&(a+=t[n&v<<r-f]),i)for(;a.length*r&7;)a+="=";return a},Mr=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>ec({prefix:t,name:e,encode(n){return DS(n,i,r)},decode(n){return FS(n,i,r,e)}}),kS=ec({prefix:"\0",name:"identity",encode:e=>RS(e),decode:e=>xS(e)});var US=Object.freeze({__proto__:null,identity:kS});const qS=Mr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var zS=Object.freeze({__proto__:null,base2:qS});const LS=Mr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var HS=Object.freeze({__proto__:null,base8:LS});const $S=ch({prefix:"9",name:"base10",alphabet:"0123456789"});var jS=Object.freeze({__proto__:null,base10:$S});const KS=Mr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),QS=Mr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var GS=Object.freeze({__proto__:null,base16:KS,base16upper:QS});const JS=Mr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),YS=Mr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),VS=Mr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WS=Mr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),XS=Mr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZS=Mr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),t_=Mr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),e_=Mr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),r_=Mr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var i_=Object.freeze({__proto__:null,base32:JS,base32upper:YS,base32pad:VS,base32padupper:WS,base32hex:XS,base32hexupper:ZS,base32hexpad:t_,base32hexpadupper:e_,base32z:r_});const n_=ch({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),s_=ch({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var o_=Object.freeze({__proto__:null,base36:n_,base36upper:s_});const a_=ch({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),h_=ch({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var u_=Object.freeze({__proto__:null,base58btc:a_,base58flickr:h_});const c_=Mr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),f_=Mr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),l_=Mr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),d_=Mr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var p_=Object.freeze({__proto__:null,base64:c_,base64pad:f_,base64url:l_,base64urlpad:d_});const Q2=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),g_=Q2.reduce((e,t,r)=>(e[r]=t,e),[]),m_=Q2.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function v_(e){return e.reduce((t,r)=>(t+=g_[r],t),"")}function y_(e){const t=[];for(const r of e){const i=m_[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const w_=ec({prefix:"\u{1F680}",name:"base256emoji",encode:v_,decode:y_});var A_=Object.freeze({__proto__:null,base256emoji:w_}),b_=G2,eg=128,E_=127,M_=~E_,I_=Math.pow(2,31);function G2(e,t,r){t=t||[],r=r||0;for(var i=r;e>=I_;)t[r++]=e&255|eg,e/=128;for(;e&M_;)t[r++]=e&255|eg,e>>>=7;return t[r]=e|0,G2.bytes=r-i+1,t}var S_=B0,__=128,rg=127;function B0(e,i){var r=0,i=i||0,n=0,a=i,f,v=e.length;do{if(a>=v)throw B0.bytes=0,new RangeError("Could not decode varint");f=e[a++],r+=n<28?(f&rg)<<n:(f&rg)*Math.pow(2,n),n+=7}while(f>=__);return B0.bytes=a-i,r}var N_=Math.pow(2,7),C_=Math.pow(2,14),x_=Math.pow(2,21),R_=Math.pow(2,28),B_=Math.pow(2,35),P_=Math.pow(2,42),T_=Math.pow(2,49),O_=Math.pow(2,56),F_=Math.pow(2,63),D_=function(e){return e<N_?1:e<C_?2:e<x_?3:e<R_?4:e<B_?5:e<P_?6:e<T_?7:e<O_?8:e<F_?9:10},k_={encode:b_,decode:S_,encodingLength:D_},J2=k_;const ig=(e,t,r=0)=>(J2.encode(e,t,r),t),ng=e=>J2.encodingLength(e),P0=(e,t)=>{const r=t.byteLength,i=ng(e),n=i+ng(r),a=new Uint8Array(n+r);return ig(e,a,0),ig(r,a,i),a.set(t,n),new U_(e,r,t,a)};class U_{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const Y2=({name:e,code:t,encode:r})=>new q_(e,t,r);class q_{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?P0(this.code,r):r.then(i=>P0(this.code,i))}else throw Error("Unknown type, must be binary type")}}const V2=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),z_=Y2({name:"sha2-256",code:18,encode:V2("SHA-256")}),L_=Y2({name:"sha2-512",code:19,encode:V2("SHA-512")});var H_=Object.freeze({__proto__:null,sha256:z_,sha512:L_});const W2=0,$_="identity",X2=j2,j_=e=>P0(W2,X2(e)),K_={code:W2,name:$_,encode:X2,digest:j_};var Q_=Object.freeze({__proto__:null,identity:K_});new TextEncoder,new TextDecoder;const sg={...US,...zS,...HS,...jS,...GS,...i_,...o_,...u_,...p_,...A_};({...H_,...Q_});function Z2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function G_(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Z2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tv(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const og=tv("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Gf=tv("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=G_(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),J_={utf8:og,"utf-8":og,hex:sg.base16,latin1:Gf,ascii:Gf,binary:Gf,...sg};function Y_(e,t="utf8"){const r=J_[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Z2(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const ev="wc",V_=2,sl="core",Us=`${ev}@2:${sl}:`,W_={name:sl,logger:"error"},X_={database:":memory:"},Z_="crypto",ag="client_ed25519_seed",tN=Qt.ONE_DAY,eN="keychain",rN="0.3",iN="messages",nN="0.3",sN=Qt.SIX_HOURS,oN="publisher",rv="irn",aN="error",iv="wss://relay.walletconnect.com",hg="wss://relay.walletconnect.org",hN="relayer",vi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},uN="_subscription",Di={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},cN=Qt.ONE_SECOND,fN="2.12.2",lN=1e4,dN="0.3",pN="WALLETCONNECT_CLIENT_ID",En={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},gN="subscription",mN="0.3",vN=Qt.FIVE_SECONDS*1e3,yN="pairing",wN="0.3",ka={wc_pairingDelete:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Qt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Qt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:0}}},Oo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},rn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},AN="history",bN="0.3",EN="expirer",zi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},MN="0.3",Jf="verify-api",Fo="https://verify.walletconnect.com",T0="https://verify.walletconnect.org",IN=[Fo,T0],SN="echo",_N="https://echo.walletconnect.com";class NN{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=eN,this.version=rN,this.initialized=!1,this.storagePrefix=Us,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:a}=It("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(a)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=ri(r,this.name)}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Vm(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Wm(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class CN{constructor(t,r,i){this.core=t,this.logger=r,this.name=Z_,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),a=q1(n);return n4(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=_I();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const a=await this.getClientSeed(),f=q1(a),v=x0();return await s4(v,n,tN,f)},this.generateSharedKey=(n,a,f)=>{this.isInitialized();const v=this.getPrivateKey(n),b=NI(v,a);return this.setSymKey(b,f)},this.setSymKey=async(n,a)=>{this.isInitialized();const f=a||_u(n);return await this.keychain.set(f,n),f},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,a,f)=>{this.isInitialized();const v=L2(f),b=Va(a);if(jp(v)){const C=v.senderPublicKey,R=v.receiverPublicKey;n=await this.generateSharedKey(C,R)}const A=this.getSymKey(n),{type:S,senderPublicKey:_}=v;return xI({type:S,symKey:A,message:b,senderPublicKey:_})},this.decode=async(n,a,f)=>{this.isInitialized();const v=PI(a,f);if(jp(v)){const b=v.receiverPublicKey,A=v.senderPublicKey;n=await this.generateSharedKey(b,A)}try{const b=this.getSymKey(n),A=RI({symKey:b,encoded:a});return Yu(A)}catch(b){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(b)}},this.getPayloadType=n=>{const a=Hu(n);return hh(a.type)},this.getPayloadSenderPublicKey=n=>{const a=Hu(n);return a.senderPublicKey?Yi(a.senderPublicKey,zr):void 0},this.core=t,this.logger=ri(r,this.name),this.keychain=i||new NN(this.core,this.logger)}get context(){return Mi(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(ag)}catch{t=x0(),await this.keychain.set(ag,t)}return Y_(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xN extends V7{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=iN,this.version=nN,this.initialized=!1,this.storagePrefix=Us,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const a=to(n);let f=this.messages.get(i);return typeof f>"u"&&(f={}),typeof f[a]<"u"||(f[a]=n,this.messages.set(i,f),await this.persist()),a},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const a=this.get(i),f=to(n);return typeof a[f]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=ri(t,this.name),this.core=r}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Vm(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Wm(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class RN extends W7{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Lr.exports.EventEmitter,this.name=oN,this.queue=new Map,this.publishTimeout=Qt.toMiliseconds(Qt.ONE_MINUTE),this.failedPublishTimeout=Qt.toMiliseconds(Qt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,n,a)=>{var f;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:a}});const v=a?.ttl||sN,b=R0(a),A=a?.prompt||!1,S=a?.tag||0,_=a?.id||Os().toString(),C={topic:i,message:n,opts:{ttl:v,relay:b,prompt:A,tag:S,id:_}},R=`Failed to publish payload, please try again. id:${_} tag:${S}`,F=Date.now();let H,k=1;try{for(;H===void 0;){if(Date.now()-F>this.publishTimeout)throw new Error(R);this.logger.trace({id:_,attempts:k},`publisher.publish - attempt ${k}`),H=await await Za(this.rpcPublish(i,n,v,b,A,S,_).catch(Y=>this.logger.warn(Y)),this.publishTimeout,R),k++,H||await new Promise(Y=>setTimeout(Y,this.failedPublishTimeout))}this.relayer.events.emit(vi.publish,C),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:_,topic:i,message:n,opts:a}})}catch(Y){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Y),(f=a?.internal)!=null&&f.throwOnFailedPublish)throw Y;this.queue.set(_,C)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=t,this.logger=ri(r,this.name),this.registerEventListeners()}get context(){return Mi(this.logger)}rpcPublish(t,r,i,n,a,f,v){var b,A,S,_;const C={method:Nu(n.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:a,tag:f},id:v};return Ur((b=C.params)==null?void 0:b.prompt)&&((A=C.params)==null||delete A.prompt),Ur((S=C.params)==null?void 0:S.tag)&&((_=C.params)==null||delete _.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:C}),this.relayer.request(C)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:n}=t;await this.publish(r,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(ia.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vi.connection_stalled);return}this.checkQueue()}),this.relayer.on(vi.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class BN{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const n=i.filter(a=>a!==r);if(!n.length){this.map.delete(t);return}this.map.set(t,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var PN=Object.defineProperty,TN=Object.defineProperties,ON=Object.getOwnPropertyDescriptors,ug=Object.getOwnPropertySymbols,FN=Object.prototype.hasOwnProperty,DN=Object.prototype.propertyIsEnumerable,cg=(e,t,r)=>t in e?PN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ua=(e,t)=>{for(var r in t||(t={}))FN.call(t,r)&&cg(e,r,t[r]);if(ug)for(var r of ug(t))DN.call(t,r)&&cg(e,r,t[r]);return e},Yf=(e,t)=>TN(e,ON(t));class kN extends t9{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new BN,this.events=new Lr.exports.EventEmitter,this.name=gN,this.version=mN,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Us,this.subscribeTimeout=Qt.toMiliseconds(Qt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const a=R0(n),f={topic:i,relay:a};this.pending.set(i,f);const v=await this.rpcSubscribe(i,a);return typeof v=="string"&&(this.onSubscribe(v,f),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),v}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((a,f)=>{const v=new Qt.Watch;v.start(n);const b=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(b),v.stop(n),a(!0)),v.elapsed(n)>=vN&&(clearInterval(b),v.stop(n),f(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=ri(r,this.name),this.clientId=""}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async n=>await this.unsubscribeById(t,n,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const n=R0(i);await this.rpcUnsubscribe(t,r,n);const a=Le("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,r){const i={method:Nu(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Za(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)?to(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vi.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:Nu(r.protocol).batchSubscribe,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await Za(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(vi.connection_stalled)}}rpcUnsubscribe(t,r,i){const n={method:Nu(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,r){this.setSubscription(t,Yf(Ua({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Ua({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Ua({},r)),this.topicMap.set(r.topic,t),this.events.emit(En.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=It("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(En.deleted,Yf(Ua({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(En.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(En.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=It("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);uh(r)&&this.onBatchSubscribe(r.map((i,n)=>Yf(Ua({},t[n]),{id:i})))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(ia.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(En.created,async t=>{const r=En.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(En.deleted,async t=>{const r=En.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var UN=Object.defineProperty,fg=Object.getOwnPropertySymbols,qN=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable,lg=(e,t,r)=>t in e?UN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,LN=(e,t)=>{for(var r in t||(t={}))qN.call(t,r)&&lg(e,r,t[r]);if(fg)for(var r of fg(t))zN.call(t,r)&&lg(e,r,t[r]);return e};class HN extends X7{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Lr.exports.EventEmitter,this.name=hN,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Qt.toMiliseconds(Qt.THIRTY_SECONDS+Qt.ONE_SECOND),this.request=async r=>{var i,n;this.logger.debug("Publishing Request Payload");const a=r.id||Os().toString();await this.toEstablishConnection();try{const f=this.provider.request(r);this.requestsInFlight.set(a,{promise:f,request:r}),this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const v=await new Promise(async(b,A)=>{const S=()=>{A(new Error(`relayer.request - publish interrupted, id: ${a}`))};this.provider.on(Di.disconnect,S);const _=await f;this.provider.off(Di.disconnect,S),b(_)});return this.logger.trace({id:a,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - published"),v}catch(f){throw this.logger.debug(`Failed to Publish Request: ${a}`),f}finally{this.requestsInFlight.delete(a)}},this.resetPingTimeout=()=>{if(Xa())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,n;(n=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit(vi.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(vi.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Di.payload,this.onPayloadHandler),this.provider.on(Di.connect,this.onConnectHandler),this.provider.on(Di.disconnect,this.onDisconnectHandler),this.provider.on(Di.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?ri(t.logger,this.name):j0(Wu({level:t.logger||aN})),this.messages=new xN(this.logger,t.core),this.subscriber=new kN(this,this.logger),this.publisher=new RN(this,this.logger),this.relayUrl=t?.relayUrl||iv,this.projectId=t.projectId,this.bundleId=l9(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${hg}...`),await this.restartTransport(hg)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},lN)}get context(){return Mi(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",a;const f=v=>{v.topic===t&&(this.subscriber.off(En.created,f),a())};return await Promise.all([new Promise(v=>{a=v,this.subscriber.on(En.created,f)}),new Promise(async v=>{n=await this.subscriber.subscribe(t,r)||n,v()})]),n}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Za(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect(),await this.createProvider()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const n=()=>{this.provider.off(Di.disconnect,n),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Di.disconnect,n),await Za(this.provider.connect(),Qt.toMiliseconds(Qt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await tg())throw new Error("No internet connection detected. Please restart your network and try again.")}startPingTimeout(){var t,r,i,n,a;if(Xa())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((a=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||a.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(f){this.logger.warn(f)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new SS(new o4(y9({sdkVersion:fN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const n=this.messages.has(r,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),K0(t)){if(!t.method.endsWith(uN))return;const r=t.params,{topic:i,message:n,publishedAt:a}=r.data,f={topic:i,message:n,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(LN({type:"event",event:r.id},f)),this.events.emit(r.id,f),await this.acknowledgePayload(t),await this.onMessageEvent(f)}else ih(t)&&this.events.emit(vi.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(vi.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Xu(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Di.payload,this.onPayloadHandler),this.provider.off(Di.connect,this.onConnectHandler),this.provider.off(Di.disconnect,this.onDisconnectHandler),this.provider.off(Di.error,this.onProviderErrorHandler)}async registerEventListeners(){let t=await tg();ES(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.events.emit(vi.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},Qt.toMiliseconds(cN))}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var $N=Object.defineProperty,dg=Object.getOwnPropertySymbols,jN=Object.prototype.hasOwnProperty,KN=Object.prototype.propertyIsEnumerable,pg=(e,t,r)=>t in e?$N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gg=(e,t)=>{for(var r in t||(t={}))jN.call(t,r)&&pg(e,r,t[r]);if(dg)for(var r of dg(t))KN.call(t,r)&&pg(e,r,t[r]);return e};class uo extends Z7{constructor(t,r,i,n=Us,a=void 0){super(t,r,i,n),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=dN,this.cached=[],this.initialized=!1,this.storagePrefix=Us,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(f=>{this.getKey&&f!==null&&!Ur(f)?this.map.set(this.getKey(f),f):ZI(f)?this.map.set(f.id,f):tS(f)&&this.map.set(f.topic,f)}),this.cached=[],this.initialized=!0)},this.set=async(f,v)=>{this.isInitialized(),this.map.has(f)?await this.update(f,v):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:f,value:v}),this.map.set(f,v),await this.persist())},this.get=f=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:f}),this.getData(f)),this.getAll=f=>(this.isInitialized(),f?this.values.filter(v=>Object.keys(f).every(b=>r4(v[b],f[b]))):this.values),this.update=async(f,v)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:f,update:v});const b=gg(gg({},this.getData(f)),v);this.map.set(f,b),await this.persist()},this.delete=async(f,v)=>{this.isInitialized(),this.map.has(f)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:f,reason:v}),this.map.delete(f),this.addToRecentlyDeleted(f),await this.persist())},this.logger=ri(r,this.name),this.storagePrefix=n,this.getKey=a}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:n}=It("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}const{message:i}=It("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=It("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class QN{constructor(t,r){this.core=t,this.logger=r,this.name=yN,this.version=wN,this.events=new Lr.exports,this.initialized=!1,this.storagePrefix=Us,this.ignoredPayloadTypes=[ks],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=x0(),a=await this.core.crypto.setSymKey(n),f=Br(Qt.FIVE_MINUTES),v={protocol:rv},b={topic:a,expiry:f,relay:v,active:!1},A=$I({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:n,relay:v,expiryTimestamp:f,methods:i?.methods});return await this.pairings.set(a,b),await this.core.relayer.subscribe(a),this.core.expirer.set(a,f),{topic:a,uri:A}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);const{topic:n,symKey:a,relay:f,expiryTimestamp:v,methods:b}=Jp(i.uri);let A;if(this.pairings.keys.includes(n)&&(A=this.pairings.get(n),A.active))throw new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);const S=v||Br(Qt.FIVE_MINUTES),_={topic:n,relay:f,expiry:S,active:!1,methods:b};return await this.pairings.set(n,_),this.core.expirer.set(n,S),i.activatePairing&&await this.activate({topic:n}),this.events.emit(Oo.create,_),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(a,n),await this.core.relayer.subscribe(n,{relay:f}),_},this.activate=async({topic:i})=>{this.isInitialized();const n=Br(Qt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const a=await this.sendRequest(n,"wc_pairingPing",{}),{done:f,resolve:v,reject:b}=Xs();this.events.once(le("pairing_ping",a),({error:A})=>{A?b(A):v()}),await f()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",Le("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,a)=>{const f=eo(n,a),v=await this.core.crypto.encode(i,f),b=ka[n].req;return this.core.history.set(i,f),this.core.relayer.publish(i,v,b),f.id},this.sendResult=async(i,n,a)=>{const f=Xu(i,a),v=await this.core.crypto.encode(n,f),b=await this.core.history.get(n,i),A=ka[b.request.method].res;await this.core.relayer.publish(n,v,A),await this.core.history.resolve(f)},this.sendError=async(i,n,a)=>{const f=Q0(i,a),v=await this.core.crypto.encode(n,f),b=await this.core.history.get(n,i),A=ka[b.request.method]?ka[b.request.method].res:ka.unregistered_method.res;await this.core.relayer.publish(n,v,A),await this.core.history.resolve(f)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Le("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>Ns(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:a}=i;switch(a.method){case"wc_pairingPing":return this.onPairingPingRequest(n,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,a);default:return this.onUnknownRpcMethodRequest(n,a)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:a}=i,f=(await this.core.history.get(n,a.id)).request.method;switch(f){case"wc_pairingPing":return this.onPairingPingResponse(n,a);default:return this.onUnknownRpcMethodResponse(f)}},this.onPairingPingRequest=async(i,n)=>{const{id:a}=n;try{this.isValidPing({topic:i}),await this.sendResult(a,i,!0),this.events.emit(Oo.ping,{id:a,topic:i})}catch(f){await this.sendError(a,i,f),this.logger.error(f)}},this.onPairingPingResponse=(i,n)=>{const{id:a}=n;setTimeout(()=>{ns(n)?this.events.emit(le("pairing_ping",a),{}):ji(n)&&this.events.emit(le("pairing_ping",a),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:a}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(Oo.delete,{id:a,topic:i})}catch(f){await this.sendError(a,i,f),this.logger.error(f)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:a,method:f}=n;try{if(this.registeredMethods.includes(f))return;const v=Le("WC_METHOD_UNSUPPORTED",f);await this.sendError(a,i,v),this.logger.error(v)}catch(v){await this.sendError(a,i,v),this.logger.error(v)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(Le("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{var n;if(!Xr(i)){const{message:f}=It("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(f)}if(!XI(i.uri)){const{message:f}=It("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(f)}const a=Jp(i.uri);if(!((n=a?.relay)!=null&&n.protocol)){const{message:f}=It("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(f)}if(!(a!=null&&a.symKey)){const{message:f}=It("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(f)}if(a!=null&&a.expiryTimestamp&&Qt.toMiliseconds(a?.expiryTimestamp)<Date.now()){const{message:f}=It("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(f)}},this.isValidPing=async i=>{if(!Xr(i)){const{message:a}=It("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(a)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!Xr(i)){const{message:a}=It("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(a)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!ar(i,!1)){const{message:n}=It("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=It("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(Ns(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=It("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=t,this.logger=ri(r,this.name),this.pairings=new uo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mi(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(vi.message,async t=>{const{topic:r,message:i}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const n=await this.core.crypto.decode(r,i);try{K0(n)?(this.core.history.set(r,n),this.onRelayEventRequest({topic:r,payload:n})):ih(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:r,payload:n}),this.core.history.delete(r,n.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(zi.expired,async t=>{const{topic:r}=Zm(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Oo.expire,{topic:r}))})}}class GN extends Y7{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Lr.exports.EventEmitter,this.name=AN,this.version=bN,this.cached=[],this.initialized=!1,this.storagePrefix=Us,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:a}),this.records.has(n.id))return;const f={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:a,expiry:Br(Qt.THIRTY_DAYS)};this.records.set(f.id,f),this.persist(),this.events.emit(rn.created,f)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=ji(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(rn.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(a=>{if(a.topic===i){if(typeof n<"u"&&a.id!==n)return;this.records.delete(a.id),this.events.emit(rn.deleted,a)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=ri(r,this.name)}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:eo(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=It("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(rn.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=It("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(rn.created,t=>{const r=rn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(rn.updated,t=>{const r=rn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(rn.deleted,t=>{const r=rn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(ia.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{Qt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(rn.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class JN extends e9{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Lr.exports.EventEmitter,this.name=EN,this.version=MN,this.cached=[],this.initialized=!1,this.storagePrefix=Us,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const a=this.formatTarget(i),f={target:a,expiry:n};this.expirations.set(a,f),this.checkExpiry(a,f),this.events.emit(zi.created,{target:a,expiration:f})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),a=this.getExpiration(n);this.expirations.delete(n),this.events.emit(zi.deleted,{target:n,expiration:a})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=ri(r,this.name)}get context(){return Mi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return w9(t);if(typeof t=="number")return A9(t);const{message:r}=It("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(zi.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=It("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=It("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;Qt.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(zi.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(ia.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(zi.created,t=>{const r=zi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(zi.expired,t=>{const r=zi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(zi.deleted,t=>{const r=zi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}}}class YN extends r9{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Jf,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async i=>{if(this.verifyDisabled||na()||!sa())return;const n=this.getVerifyUrl(i?.verifyUrl);this.verifyUrl!==n&&this.removeIframe(),this.verifyUrl=n;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a)}if(!this.initialized){this.removeIframe(),this.verifyUrl=T0;try{await this.createIframe()}catch(a){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(a),this.verifyDisabled=!0}}},this.register=async i=>{this.initialized?this.sendPost(i.attestationId):(this.addToQueue(i.attestationId),await this.init())},this.resolve=async i=>{if(this.isDevEnv)return"";const n=this.getVerifyUrl(i?.verifyUrl);let a;try{a=await this.fetchAttestation(i.attestationId,n)}catch(f){this.logger.info(`failed to resolve attestation: ${i.attestationId} from url: ${n}`),this.logger.info(f),a=await this.fetchAttestation(i.attestationId,T0)}return a},this.fetchAttestation=async(i,n)=>{this.logger.info(`resolving attestation: ${i} from url: ${n}`);const a=this.startAbortTimer(Qt.ONE_SECOND*2),f=await fetch(`${n}/attestation/${i}`,{signal:this.abortController.signal});return clearTimeout(a),f.status===200?await f.json():void 0},this.addToQueue=i=>{this.queue.push(i)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(i=>this.sendPost(i)),this.queue=[])},this.sendPost=i=>{var n;try{if(!this.iframe)return;(n=this.iframe.contentWindow)==null||n.postMessage(i,"*"),this.logger.info(`postMessage sent: ${i} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let i;const n=a=>{a.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",n),i())};await Promise.race([new Promise(a=>{const f=document.getElementById(Jf);if(f)return this.iframe=f,this.onInit(),a();window.addEventListener("message",n);const v=document.createElement("iframe");v.id=Jf,v.src=`${this.verifyUrl}/${this.projectId}`,v.style.display="none",document.body.append(v),this.iframe=v,i=a}),new Promise((a,f)=>setTimeout(()=>{window.removeEventListener("message",n),f("verify iframe load timeout")},Qt.toMiliseconds(Qt.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=i=>{let n=i||Fo;return IN.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${Fo}`),n=Fo),n},this.logger=ri(r,this.name),this.verifyUrl=Fo,this.abortController=new AbortController,this.isDevEnv=Xa()&&{}.IS_VITEST}get context(){return Mi(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Qt.toMiliseconds(t))}}class VN extends i9{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=SN,this.registerDeviceToken=async i=>{const{clientId:n,token:a,notificationType:f,enableEncrypted:v=!1}=i,b=`${_N}/${this.projectId}/clients`;await a4(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:f,token:a,always_raw:v})})},this.logger=ri(r,this.context)}}var WN=Object.defineProperty,mg=Object.getOwnPropertySymbols,XN=Object.prototype.hasOwnProperty,ZN=Object.prototype.propertyIsEnumerable,vg=(e,t,r)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yg=(e,t)=>{for(var r in t||(t={}))XN.call(t,r)&&vg(e,r,t[r]);if(mg)for(var r of mg(t))ZN.call(t,r)&&vg(e,r,t[r]);return e};class ol extends J7{constructor(t){var r;super(t),this.protocol=ev,this.version=V_,this.name=sl,this.events=new Lr.exports.EventEmitter,this.initialized=!1,this.on=(f,v)=>this.events.on(f,v),this.once=(f,v)=>this.events.once(f,v),this.off=(f,v)=>this.events.off(f,v),this.removeListener=(f,v)=>this.events.removeListener(f,v),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||iv,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Wu({level:typeof t?.logger=="string"&&t.logger?t.logger:W_.logger}),{logger:n,chunkLoggerController:a}=i4({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var f,v;(f=this.logChunkController)!=null&&f.downloadLogsBlobInBrowser&&((v=this.logChunkController)==null||v.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ri(n,this.name),this.heartbeat=new ia.HeartBeat,this.crypto=new CN(this,this.logger,t?.keychain),this.history=new GN(this,this.logger),this.expirer=new JN(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new $7(yg(yg({},X_),t?.storageOptions)),this.relayer=new HN({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new QN(this,this.logger),this.verify=new YN(this.projectId||"",this.logger),this.echoClient=new VN(this.projectId||"",this.logger)}static async init(t){const r=new ol(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(pN,i),r}get context(){return Mi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const tC=ol,nv="wc",sv=2,ov="client",al=`${nv}@${sv}:${ov}:`,Vf={name:ov,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},wg="WALLETCONNECT_DEEPLINK_CHOICE",eC="proposal",av="Proposal expired",rC="session",Co=Qt.SEVEN_DAYS,iC="engine",ki={wc_sessionPropose:{req:{ttl:Qt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Qt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Qt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Qt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Qt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Qt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Qt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Qt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Qt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Qt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Qt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Qt.ONE_HOUR,prompt:!1,tag:1117}}},Wf={min:Qt.FIVE_MINUTES,max:Qt.SEVEN_DAYS},rs={idle:"IDLE",active:"ACTIVE"},nC="request",sC=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],oC="wc",aC="auth",hC="authKeys",uC="pairingTopics",cC="requests",rc=`${oC}@${1.5}:${aC}:`,Cu=`${rc}:PUB_KEY`;var fC=Object.defineProperty,lC=Object.defineProperties,dC=Object.getOwnPropertyDescriptors,Ag=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable,bg=(e,t,r)=>t in e?fC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dr=(e,t)=>{for(var r in t||(t={}))pC.call(t,r)&&bg(e,r,t[r]);if(Ag)for(var r of Ag(t))gC.call(t,r)&&bg(e,r,t[r]);return e},xo=(e,t)=>lC(e,dC(t));class mC extends s9{constructor(t){super(t),this.name=iC,this.events=new Lr.exports,this.initialized=!1,this.requestQueue={state:rs.idle,queue:[]},this.sessionRequestQueue={state:rs.idle,queue:[]},this.requestQueueDelay=Qt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(ki)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Qt.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const i=xo(dr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:a,optionalNamespaces:f,sessionProperties:v,relays:b}=i;let A=n,S,_=!1;try{A&&(_=this.client.core.pairing.pairings.get(A).active)}catch(et){throw this.client.logger.error(`connect() -> pairing.get(${A}) failed`),et}if(!A||!_){const{topic:et,uri:X}=await this.client.core.pairing.create();A=et,S=X}if(!A){const{message:et}=It("NO_MATCHING_KEY",`connect() pairing topic: ${A}`);throw new Error(et)}const C=await this.client.core.crypto.generateKeyPair(),R=ki.wc_sessionPropose.req.ttl||Qt.FIVE_MINUTES,F=Br(R),H=dr({requiredNamespaces:a,optionalNamespaces:f,relays:b??[{protocol:rv}],proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:F},v&&{sessionProperties:v}),{reject:k,resolve:Y,done:ot}=Xs(R,av);this.events.once(le("session_connect"),async({error:et,session:X})=>{if(et)k(et);else if(X){X.self.publicKey=C;const Z=xo(dr({},X),{requiredNamespaces:H.requiredNamespaces,optionalNamespaces:H.optionalNamespaces});await this.client.session.set(X.topic,Z),await this.setExpiry(X.topic,X.expiry),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:X.peer.metadata}),Y(Z)}});const at=await this.sendRequest({topic:A,method:"wc_sessionPropose",params:H,throwOnFailedPublish:!0});return await this.setProposal(at,dr({id:at},H)),{uri:S,approval:ot}},this.pair=async r=>{await this.isInitialized();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{await this.isInitialized();try{await this.isValidApprove(r)}catch(ot){throw this.client.logger.error("approve() -> isValidApprove() failed"),ot}const{id:i,relayProtocol:n,namespaces:a,sessionProperties:f,sessionConfig:v}=r;let b;try{b=this.client.proposal.get(i)}catch(ot){throw this.client.logger.error(`approve() -> proposal.get(${i}) failed`),ot}let{pairingTopic:A,proposer:S,requiredNamespaces:_,optionalNamespaces:C}=b;A=A||"";const R=await this.client.core.crypto.generateKeyPair(),F=S.publicKey,H=await this.client.core.crypto.generateSharedKey(R,F),k=dr(dr({relay:{protocol:n??"irn"},namespaces:a,pairingTopic:A,controller:{publicKey:R,metadata:this.client.metadata},expiry:Br(Co)},f&&{sessionProperties:f}),v&&{sessionConfig:v});await this.client.core.relayer.subscribe(H);const Y=xo(dr({},k),{topic:H,requiredNamespaces:_,optionalNamespaces:C,pairingTopic:A,acknowledged:!1,self:k.controller,peer:{publicKey:S.publicKey,metadata:S.metadata},controller:R});await this.client.session.set(H,Y);try{await this.sendResult({id:i,topic:A,result:{relay:{protocol:n??"irn"},responderPublicKey:R},throwOnFailedPublish:!0}),await this.sendRequest({topic:H,method:"wc_sessionSettle",params:k,throwOnFailedPublish:!0})}catch(ot){throw this.client.logger.error(ot),this.client.session.delete(H,Le("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(H),ot}return await this.client.core.pairing.updateMetadata({topic:A,metadata:S.metadata}),await this.client.proposal.delete(i,Le("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:A}),await this.setExpiry(H,Br(Co)),{topic:H,acknowledged:()=>new Promise(ot=>setTimeout(()=>ot(this.client.session.get(H)),500))}},this.reject=async r=>{await this.isInitialized();try{await this.isValidReject(r)}catch(f){throw this.client.logger.error("reject() -> isValidReject() failed"),f}const{id:i,reason:n}=r;let a;try{a=this.client.proposal.get(i).pairingTopic}catch(f){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),f}a&&(await this.sendError({id:i,topic:a,error:n}),await this.client.proposal.delete(i,Le("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized();try{await this.isValidUpdate(r)}catch(_){throw this.client.logger.error("update() -> isValidUpdate() failed"),_}const{topic:i,namespaces:n}=r,{done:a,resolve:f,reject:v}=Xs(),b=No(),A=Os().toString(),S=this.client.session.get(i).namespaces;return this.events.once(le("session_update",b),({error:_})=>{_?v(_):f()}),await this.client.session.update(i,{namespaces:n}),this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:b,relayRpcId:A}).catch(_=>{this.client.logger.error(_),this.client.session.update(i,{namespaces:S}),v(_)}),{acknowledged:a}},this.extend=async r=>{await this.isInitialized();try{await this.isValidExtend(r)}catch(b){throw this.client.logger.error("extend() -> isValidExtend() failed"),b}const{topic:i}=r,n=No(),{done:a,resolve:f,reject:v}=Xs();return this.events.once(le("session_extend",n),({error:b})=>{b?v(b):f()}),await this.setExpiry(i,Br(Co)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(b=>{v(b)}),{acknowledged:a}},this.request=async r=>{await this.isInitialized();try{await this.isValidRequest(r)}catch(R){throw this.client.logger.error("request() -> isValidRequest() failed"),R}const{chainId:i,request:n,topic:a,expiry:f=ki.wc_sessionRequest.req.ttl}=r,v=this.client.session.get(a),b=No(),A=Os().toString(),{done:S,resolve:_,reject:C}=Xs(f,"Request expired. Please try again.");return this.events.once(le("session_request",b),({error:R,result:F})=>{R?C(R):_(F)}),await Promise.all([new Promise(async R=>{await this.sendRequest({clientRpcId:b,relayRpcId:A,topic:a,method:"wc_sessionRequest",params:{request:xo(dr({},n),{expiryTimestamp:Br(f)}),chainId:i},expiry:f,throwOnFailedPublish:!0}).catch(F=>C(F)),this.client.events.emit("session_request_sent",{topic:a,request:n,chainId:i,id:b}),R()}),new Promise(async R=>{var F;if(!((F=v.sessionConfig)!=null&&F.disableDeepLink)){const H=await M9(this.client.core.storage,wg);E9({id:b,topic:a,wcDeepLink:H})}R()}),S()]).then(R=>R[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:n}=r,{id:a}=n;ns(n)?await this.sendResult({id:a,topic:i,result:n.result,throwOnFailedPublish:!0}):ji(n)&&await this.sendError({id:a,topic:i,error:n.error}),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized();try{await this.isValidPing(r)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=r;if(this.client.session.keys.includes(i)){const n=No(),a=Os().toString(),{done:f,resolve:v,reject:b}=Xs();this.events.once(le("session_ping",n),({error:A})=>{A?b(A):v()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:a}),f()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:i,event:n,chainId:a}=r,f=Os().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:a},throwOnFailedPublish:!0,relayRpcId:f})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Le("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=It("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>VI(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async r=>{this.isInitialized(),this.isValidAuthenticate(r);const{chains:i,statement:n="",uri:a,domain:f,nonce:v,type:b,exp:A,nbf:S,methods:_=[]}=r,C=[...r.resources||[]],{topic:R,uri:F}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:R,uri:F}});const H=await this.client.core.crypto.generateKeyPair(),k=_u(H);if(await Promise.all([this.client.auth.authKeys.set(Cu,{responseTopic:k,publicKey:H}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:R})]),await this.client.core.relayer.subscribe(k),this.client.logger.info(`sending request to new pairing topic: ${R}`),_.length>0){const{namespace:Yt}=Rf(i[0]);let o=AI(Yt,"request",_);Su(C)&&(o=EI(o,C.pop())),C.push(o)}const Y=Br(ki.wc_sessionPropose.req.ttl),ot={authPayload:{type:b??"caip122",chains:i,statement:n,aud:a,domain:f,version:"1",nonce:v,iat:new Date().toISOString(),exp:A,nbf:S,resources:C},requester:{publicKey:H,metadata:this.client.metadata},expiryTimestamp:Y},at={eip155:{chains:i,methods:[...new Set(["personal_sign",..._])],events:["chainChanged","accountsChanged"]}},et={requiredNamespaces:{},optionalNamespaces:at,relays:[{protocol:"irn"}],proposer:{publicKey:H,metadata:this.client.metadata},expiryTimestamp:Y},{done:X,resolve:Z,reject:ut}=Xs(ki.wc_sessionAuthenticate.req.ttl,"Request expired"),nt=async({error:Yt,session:o})=>{if(this.events.off(le("session_request",Zt),Gt),Yt)ut(Yt);else if(o){o.self.publicKey=H,await this.client.session.set(o.topic,o),await this.setExpiry(o.topic,o.expiry),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:o.peer.metadata});const c=this.client.session.get(o.topic);Z({session:c})}},Gt=async Yt=>{if(Yt.error){const I=Le("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Yt.error.code===I.code?void 0:(this.events.off(le("session_connect"),nt),ut(Yt.error.message))}this.events.off(le("session_connect"),nt);const{cacaos:o,responder:c}=Yt.result,d=[],g=[];for(const I of o){await zp({cacao:I,projectId:this.client.core.projectId})||(this.client.logger.error(I,"Signature verification failed"),ut(Le("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:y}=I,h=Su(y.resources),m=[qp(y.iss)],J=Lu(y.iss);if(h){const Q=Lp(h),l=Hp(h);d.push(...Q),m.push(...l)}for(const Q of m)g.push(`${Q}:${J}`)}const w=await this.client.core.crypto.generateSharedKey(H,c.publicKey);let E;d.length>0&&(E={topic:w,acknowledged:!0,self:{publicKey:H,metadata:this.client.metadata},peer:c,controller:c.publicKey,expiry:Br(Co),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:R,namespaces:Yp([...new Set(d)],[...new Set(g)])},await this.client.core.relayer.subscribe(w),await this.client.session.set(w,E),E=this.client.session.get(w)),Z({auths:o,session:E})},Zt=No(),ht=No();this.events.once(le("session_connect"),nt),this.events.once(le("session_request",Zt),Gt);try{await Promise.all([this.sendRequest({topic:R,method:"wc_sessionAuthenticate",params:ot,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:Zt}),this.sendRequest({topic:R,method:"wc_sessionPropose",params:et,expiry:ki.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:ht})])}catch(Yt){throw this.events.off(le("session_connect"),nt),this.events.off(le("session_request",Zt),Gt),Yt}return await this.setProposal(ht,dr({id:ht},et)),await this.client.auth.requests.set(Zt,{authPayload:ot.authPayload,requester:ot.requester,expiryTimestamp:Y,id:Zt,pairingTopic:R,verifyContext:{}}),{uri:F,response:X}},this.approveSessionAuthenticate=async r=>{this.isInitialized();const{id:i,auths:n}=r,a=this.getPendingAuthRequest(i);if(!a)throw new Error(`Could not find pending auth request with id ${i}`);const f=a.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),b=_u(f),A={type:ks,receiverPublicKey:f,senderPublicKey:v},S=[],_=[];for(const F of n){if(!await zp({cacao:F,projectId:this.client.core.projectId})){const at=Le("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:b,error:at,encodeOpts:A}),new Error(at.message)}const{p:H}=F,k=Su(H.resources),Y=[qp(H.iss)],ot=Lu(H.iss);if(k){const at=Lp(k),et=Hp(k);S.push(...at),Y.push(...et)}for(const at of Y)_.push(`${at}:${ot}`)}const C=await this.client.core.crypto.generateSharedKey(v,f);let R;return S?.length>0&&(R={topic:C,acknowledged:!0,self:{publicKey:v,metadata:this.client.metadata},peer:{publicKey:f,metadata:a.requester.metadata},controller:f,expiry:Br(Co),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:"",namespaces:Yp([...new Set(S)],[...new Set(_)])},await this.client.core.relayer.subscribe(C),await this.client.session.set(C,R)),await this.sendResult({topic:b,id:i,result:{cacaos:n,responder:{publicKey:v,metadata:this.client.metadata}},encodeOpts:A,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(i,{message:"fullfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),{session:R}},this.rejectSessionAuthenticate=async r=>{await this.isInitialized();const{id:i,reason:n}=r,a=this.getPendingAuthRequest(i);if(!a)throw new Error(`Could not find pending auth request with id ${i}`);const f=a.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),b=_u(f),A={type:ks,receiverPublicKey:f,senderPublicKey:v};await this.sendError({id:i,topic:b,error:n,encodeOpts:A}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Le("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:n}=r;return k2(i,n)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(a=>{var f,v;return((f=a.peerMetadata)==null?void 0:f.url)&&((v=a.peerMetadata)==null?void 0:v.url)===r.peer.metadata.url&&a.topic&&a.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{const{topic:i,expirerHasDeleted:n=!1,emitEvent:a=!0,id:f=0}=r,{self:v}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Le("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(v.publicKey)&&await this.client.core.crypto.deleteKeyPair(v.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),n||this.client.core.expirer.del(i),this.client.core.storage.removeItem(wg).catch(b=>this.client.logger.warn(b)),this.getPendingSessionRequests().forEach(b=>{b.topic===i&&this.deletePendingSessionRequest(b.id,Le("USER_DISCONNECTED"))}),a&&this.client.events.emit("session_delete",{id:f,topic:i})},this.deleteProposal=async(r,i)=>{await Promise.all([this.client.proposal.delete(r,Le("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==r),n&&(this.sessionRequestQueue.state=rs.idle,this.client.events.emit("session_request_expire",{id:r}))},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:i}),this.client.core.expirer.set(r,i)},this.setProposal=async(r,i)=>{await this.client.proposal.set(r,i),this.client.core.expirer.set(r,Br(ki.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async r=>{const{id:i,topic:n,params:a,verifyContext:f}=r,v=a.request.expiryTimestamp||Br(ki.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(i,{id:i,topic:n,params:a,verifyContext:f}),v&&this.client.core.expirer.set(i,v)},this.sendRequest=async r=>{const{topic:i,method:n,params:a,expiry:f,relayRpcId:v,clientRpcId:b,throwOnFailedPublish:A}=r,S=eo(n,a,b);if(sa()&&sC.includes(n)){const R=to(JSON.stringify(S));this.client.core.verify.register({attestationId:R})}let _;try{_=await this.client.core.crypto.encode(i,S)}catch(R){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),R}const C=ki[n].req;return f&&(C.ttl=f),v&&(C.id=v),this.client.core.history.set(i,S),A?(C.internal=xo(dr({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,_,C)):this.client.core.relayer.publish(i,_,C).catch(R=>this.client.logger.error(R)),S.id},this.sendResult=async r=>{const{id:i,topic:n,result:a,throwOnFailedPublish:f,encodeOpts:v}=r,b=Xu(i,a);let A;try{A=await this.client.core.crypto.encode(n,b,v)}catch(C){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),C}let S;try{S=await this.client.core.history.get(n,i)}catch(C){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),C}const _=ki[S.request.method].res;f?(_.internal=xo(dr({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,A,_)):this.client.core.relayer.publish(n,A,_).catch(C=>this.client.logger.error(C)),await this.client.core.history.resolve(b)},this.sendError=async r=>{const{id:i,topic:n,error:a,encodeOpts:f}=r,v=Q0(i,a);let b;try{b=await this.client.core.crypto.encode(n,v,f)}catch(_){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),_}let A;try{A=await this.client.core.history.get(n,i)}catch(_){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),_}const S=ki[A.request.method].res;this.client.core.relayer.publish(n,b,S),await this.client.core.history.resolve(v)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(n=>{let a=!1;Ns(n.expiry)&&(a=!0),this.client.core.crypto.keychain.has(n.topic)||(a=!0),a&&r.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{Ns(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...r.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===rs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=rs.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(i=>setTimeout(i,300))}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=rs.idle},this.processRequest=r=>{const{topic:i,payload:n}=r,a=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:a}))switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:n}=r,a=(await this.client.core.history.get(i,n.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:n}=It("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:n}=r,a=this.expectedPairingMethodMap.get(i);return!a||a.includes(n)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(r,i)=>{const{params:n,id:a}=i;try{this.isValidConnect(dr({},i.params));const f=n.expiryTimestamp||Br(ki.wc_sessionPropose.req.ttl),v=dr({id:a,pairingTopic:r,expiryTimestamp:f},n);await this.setProposal(a,v);const b=to(JSON.stringify(i)),A=await this.getVerifyContext(b,v.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:v,verifyContext:A})}catch(f){await this.sendError({id:a,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionProposeResponse=async(r,i)=>{const{id:n}=i;if(ns(i)){const{result:a}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const f=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:f});const v=f.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:v});const b=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:b});const A=await this.client.core.crypto.generateSharedKey(v,b);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:A});const S=await this.client.core.relayer.subscribe(A);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:S}),await this.client.core.pairing.activate({topic:r})}else if(ji(i)){await this.client.proposal.delete(n,Le("USER_DISCONNECTED"));const a=le("session_connect");if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(le("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:n,params:a}=i;try{this.isValidSessionSettleRequest(a);const{relay:f,controller:v,expiry:b,namespaces:A,sessionProperties:S,pairingTopic:_,sessionConfig:C}=i.params,R=dr(dr({topic:r,relay:f,expiry:b,namespaces:A,acknowledged:!0,pairingTopic:_,requiredNamespaces:{},optionalNamespaces:{},controller:v.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:v.publicKey,metadata:v.metadata}},S&&{sessionProperties:S}),C&&{sessionConfig:C});await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0});const F=le("session_connect");if(this.events.listenerCount(F)===0)throw new Error(`emitting ${F} without any listeners 997`);this.events.emit(le("session_connect"),{session:R}),this.cleanupDuplicatePairings(R)}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionSettleResponse=async(r,i)=>{const{id:n}=i;ns(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(le("session_approve",n),{})):ji(i)&&(await this.client.session.delete(r,Le("USER_DISCONNECTED")),this.events.emit(le("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:n,id:a}=i;try{const f=`${r}_session_update`,v=Da.get(f);if(v&&this.isRequestOutOfSync(v,a)){this.client.logger.info(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:r,error:Le("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(dr({topic:r},n));try{Da.set(f,a),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult({id:a,topic:r,result:!0,throwOnFailedPublish:!0})}catch(b){throw Da.delete(f),b}this.client.events.emit("session_update",{id:a,topic:r,params:n})}catch(f){await this.sendError({id:a,topic:r,error:f}),this.client.logger.error(f)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:n}=i,a=le("session_update",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ns(i)?this.events.emit(le("session_update",n),{}):ji(i)&&this.events.emit(le("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Br(Co)),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:r})}catch(a){await this.sendError({id:n,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionExtendResponse=(r,i)=>{const{id:n}=i,a=le("session_extend",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ns(i)?this.events.emit(le("session_extend",n),{}):ji(i)&&this.events.emit(le("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:r})}catch(a){await this.sendError({id:n,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionPingResponse=(r,i)=>{const{id:n}=i,a=le("session_ping",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);setTimeout(()=>{ns(i)?this.events.emit(le("session_ping",n),{}):ji(i)&&this.events.emit(le("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(vi.publish,async()=>{a(await this.deleteSession({topic:r,id:n}))})}),this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Le("USER_DISCONNECTED")})])}catch(a){this.client.logger.error(a)}},this.onSessionRequest=async(r,i)=>{const{id:n,params:a}=i;try{await this.isValidRequest(dr({topic:r},a));const f=to(JSON.stringify(eo("wc_sessionRequest",a,n))),v=this.client.session.get(r),b=await this.getVerifyContext(f,v.peer.metadata),A={id:n,topic:r,params:a,verifyContext:b};await this.setPendingSessionRequest(A),this.addSessionRequestToSessionRequestQueue(A),this.processSessionRequestQueue()}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionRequestResponse=(r,i)=>{const{id:n}=i,a=le("session_request",n);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ns(i)?this.events.emit(le("session_request",n),{result:i.result}):ji(i)&&this.events.emit(le("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:n,params:a}=i;try{const f=`${r}_session_event_${a.event.name}`,v=Da.get(f);if(v&&this.isRequestOutOfSync(v,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(dr({topic:r},a)),this.client.events.emit("session_event",{id:n,topic:r,params:a}),Da.set(f,n)}catch(f){await this.sendError({id:n,topic:r,error:f}),this.client.logger.error(f)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),ns(i)?this.events.emit(le("session_request",n),{result:i.result}):ji(i)&&this.events.emit(le("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async(r,i)=>{const{requester:n,authPayload:a,expiryTimestamp:f}=i.params,v=to(JSON.stringify(i)),b=await this.getVerifyContext(v,this.client.metadata),A={requester:n,pairingTopic:r,id:i.id,authPayload:a,verifyContext:b,expiryTimestamp:f};await this.client.auth.requests.set(i.id,A),this.client.events.emit("session_authenticate",{topic:r,params:i.params,id:i.id})},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=rs.idle,this.processSessionRequestQueue()},Qt.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(a=>a.topic===r&&a.request.method==="wc_sessionRequest").forEach(a=>{const f=a.request.id,v=le("session_request",f);if(this.events.listenerCount(v)===0)throw new Error(`emitting ${v} without any listeners`);this.events.emit(le("session_request",a.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===rs.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=rs.active,this.client.events.emit("session_request",r)}catch(i){this.client.logger.error(i)}},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===r.topic);i&&this.onSessionProposeRequest(r.topic,eo("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id))},this.isValidConnect=async r=>{if(!Xr(r)){const{message:b}=It("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(b)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:a,sessionProperties:f,relays:v}=r;if(Ur(i)||await this.isValidPairingTopic(i),!hS(v,!0)){const{message:b}=It("MISSING_OR_INVALID",`connect() relays: ${v}`);throw new Error(b)}!Ur(n)&&$u(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!Ur(a)&&$u(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Ur(f)||this.validateSessionProps(f,"sessionProperties")},this.validateNamespaces=(r,i)=>{const n=aS(r,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async r=>{if(!Xr(r))throw new Error(It("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:n,relayProtocol:a,sessionProperties:f}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const v=this.client.proposal.get(i),b=Kf(n,"approve()");if(b)throw new Error(b.message);const A=Xp(v.requiredNamespaces,n,"approve()");if(A)throw new Error(A.message);if(!ar(a,!0)){const{message:S}=It("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(S)}Ur(f)||this.validateSessionProps(f,"sessionProperties")},this.isValidReject=async r=>{if(!Xr(r)){const{message:a}=It("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(a)}const{id:i,reason:n}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!cS(n)){const{message:a}=It("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidSessionSettleRequest=r=>{if(!Xr(r)){const{message:A}=It("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(A)}const{relay:i,controller:n,namespaces:a,expiry:f}=r;if(!$2(i)){const{message:A}=It("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(A)}const v=eS(n,"onSessionSettleRequest()");if(v)throw new Error(v.message);const b=Kf(a,"onSessionSettleRequest()");if(b)throw new Error(b.message);if(Ns(f)){const{message:A}=It("EXPIRED","onSessionSettleRequest()");throw new Error(A)}},this.isValidUpdate=async r=>{if(!Xr(r)){const{message:b}=It("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(b)}const{topic:i,namespaces:n}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const a=this.client.session.get(i),f=Kf(n,"update()");if(f)throw new Error(f.message);const v=Xp(a.requiredNamespaces,n,"update()");if(v)throw new Error(v.message)},this.isValidExtend=async r=>{if(!Xr(r)){const{message:n}=It("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Xr(r)){const{message:b}=It("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(b)}const{topic:i,request:n,chainId:a,expiry:f}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:v}=this.client.session.get(i);if(!Wp(v,a)){const{message:b}=It("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(b)}if(!fS(n)){const{message:b}=It("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(b)}if(!pS(v,a,n.method)){const{message:b}=It("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(b)}if(f&&!yS(f,Wf)){const{message:b}=It("MISSING_OR_INVALID",`request() expiry: ${f}. Expiry must be a number (in seconds) between ${Wf.min} and ${Wf.max}`);throw new Error(b)}},this.isValidRespond=async r=>{var i;if(!Xr(r)){const{message:f}=It("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(f)}const{topic:n,response:a}=r;try{await this.isValidSessionTopic(n)}catch(f){throw(i=r?.response)!=null&&i.id&&this.cleanupAfterResponse(r),f}if(!lS(a)){const{message:f}=It("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(f)}},this.isValidPing=async r=>{if(!Xr(r)){const{message:n}=It("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Xr(r)){const{message:v}=It("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(v)}const{topic:i,event:n,chainId:a}=r;await this.isValidSessionTopic(i);const{namespaces:f}=this.client.session.get(i);if(!Wp(f,a)){const{message:v}=It("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(v)}if(!dS(n)){const{message:v}=It("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}if(!gS(f,a,n.name)){const{message:v}=It("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}},this.isValidDisconnect=async r=>{if(!Xr(r)){const{message:n}=It("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:n,domain:a,nonce:f}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!ar(n,!1))throw new Error("uri is required parameter");if(!ar(a,!1))throw new Error("domain is required parameter");if(!ar(f,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(b=>Rf(b).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:v}=Rf(i[0]);if(v!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(r,i)=>{const n={verified:{verifyUrl:i.verifyUrl||Fo,validation:"UNKNOWN",origin:i.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:r,verifyUrl:i.verifyUrl});a&&(n.verified.origin=a.origin,n.verified.isScam=a.isScam,n.verified.validation=a.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(a){this.client.logger.info(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(n=>{if(!ar(n,!1)){const{message:a}=It("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(a)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const a=this.recentlyDeletedLimit/2;for(const f of this.recentlyDeletedMap.keys()){if(n++>=a)break;this.recentlyDeletedMap.delete(f)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:n}=It("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(n)}}}async isInitialized(){if(!this.initialized){const{message:t}=It("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vi.message,async t=>{const{topic:r,message:i}=t,{publicKey:n}=this.client.auth.authKeys.keys.includes(Cu)?this.client.auth.authKeys.get(Cu):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,i,{receiverPublicKey:n});try{K0(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):ih(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a})}catch(f){this.client.logger.error(f)}})}registerExpirerEvents(){this.client.core.expirer.on(zi.expired,async t=>{const{topic:r,id:i}=Zm(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,It("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(Oo.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Oo.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!ar(t,!1)){const{message:r}=It("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=It("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Ns(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=It("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!ar(t,!1)){const{message:r}=It("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=It("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Ns(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=It("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=It("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(ar(t,!1)){const{message:r}=It("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=It("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!uS(t)){const{message:r}=It("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=It("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Ns(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=It("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class vC extends uo{constructor(t,r){super(t,r,eC,al),this.core=t,this.logger=r}}class yC extends uo{constructor(t,r){super(t,r,rC,al),this.core=t,this.logger=r}}class wC extends uo{constructor(t,r){super(t,r,nC,al,i=>i.id),this.core=t,this.logger=r}}class AC extends uo{constructor(t,r){super(t,r,hC,rc,()=>Cu),this.core=t,this.logger=r}}class bC extends uo{constructor(t,r){super(t,r,uC,rc),this.core=t,this.logger=r}}class EC extends uo{constructor(t,r){super(t,r,cC,rc,i=>i.id),this.core=t,this.logger=r}}class MC{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new AC(this.core,this.logger),this.pairingTopics=new bC(this.core,this.logger),this.requests=new EC(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class hl extends n9{constructor(t){super(t),this.protocol=nv,this.version=sv,this.name=Vf.name,this.events=new Lr.exports.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async i=>{try{return await this.engine.authenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=t?.name||Vf.name,this.metadata=t?.metadata||p9();const r=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:j0(Wu({level:t?.logger||Vf.logger}));this.core=t?.core||new tC(t),this.logger=ri(r,this.name),this.session=new yC(this.core,this.logger),this.proposal=new vC(this.core,this.logger),this.pendingRequest=new wC(this.core,this.logger),this.engine=new mC(this),this.auth=new MC(this.core,this.logger)}static async init(t){const r=new hl(t);return await r.initialize(),r}get context(){return Mi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const IC=":";function SC(e){const[t,r]=e.split(IC);return{namespace:t,reference:r}}function Xf(e=[],t=[]){return[...new Set([...e,...t])]}var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie<"u"?Ie:typeof self<"u"?self:{};function _C(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var uv={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var a=!i&&typeof self=="object",f=!n.JS_SHA3_NO_NODE_JS&&typeof Ji.exports=="object"&&Ji.exports.versions&&Ji.exports.versions.node;f?n=hv:a&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,b=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",A="0123456789abcdef".split(""),S=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],C=[1,256,65536,16777216],R=[6,1536,393216,100663296],F=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],Y=[128,256],ot=["hex","buffer","arrayBuffer","array","digest"],at={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),b&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});for(var et=function(l,B,x){return function(T){return new m(l,B,l).update(T)[x]()}},X=function(l,B,x){return function(T,$){return new m(l,B,$).update(T)[x]()}},Z=function(l,B,x){return function(T,$,U,z){return c["cshake"+l].update(T,$,U,z)[x]()}},ut=function(l,B,x){return function(T,$,U,z){return c["kmac"+l].update(T,$,U,z)[x]()}},nt=function(l,B,x,T){for(var $=0;$<ot.length;++$){var U=ot[$];l[U]=B(x,T,U)}return l},Gt=function(l,B){var x=et(l,B,"hex");return x.create=function(){return new m(l,B,l)},x.update=function(T){return x.create().update(T)},nt(x,et,l,B)},Zt=function(l,B){var x=X(l,B,"hex");return x.create=function(T){return new m(l,B,T)},x.update=function(T,$){return x.create($).update(T)},nt(x,X,l,B)},ht=function(l,B){var x=at[l],T=Z(l,B,"hex");return T.create=function($,U,z){return!U&&!z?c["shake"+l].create($):new m(l,B,$).bytepad([U,z],x)},T.update=function($,U,z,G){return T.create(U,z,G).update($)},nt(T,Z,l,B)},Yt=function(l,B){var x=at[l],T=ut(l,B,"hex");return T.create=function($,U,z){return new J(l,B,U).bytepad(["KMAC",z],x).bytepad([$],x)},T.update=function($,U,z,G){return T.create($,z,G).update(U)},nt(T,ut,l,B)},o=[{name:"keccak",padding:C,bits:k,createMethod:Gt},{name:"sha3",padding:R,bits:k,createMethod:Gt},{name:"shake",padding:S,bits:Y,createMethod:Zt},{name:"cshake",padding:_,bits:Y,createMethod:ht},{name:"kmac",padding:_,bits:Y,createMethod:Yt}],c={},d=[],g=0;g<o.length;++g)for(var w=o[g],E=w.bits,I=0;I<E.length;++I){var y=w.name+"_"+E[I];if(d.push(y),c[y]=w.createMethod(E[I],w.padding),w.name!=="sha3"){var h=w.name+E[I];d.push(h),c[h]=c[y]}}function m(l,B,x){this.blocks=[],this.s=[],this.padding=B,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(l<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}m.prototype.update=function(l){if(this.finalized)throw new Error(r);var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}for(var T=this.blocks,$=this.byteCount,U=l.length,z=this.blockCount,G=0,W=this.s,q,lt;G<U;){if(this.reset)for(this.reset=!1,T[0]=this.block,q=1;q<z+1;++q)T[q]=0;if(B)for(q=this.start;G<U&&q<$;++G)T[q>>2]|=l[G]<<F[q++&3];else for(q=this.start;G<U&&q<$;++G)lt=l.charCodeAt(G),lt<128?T[q>>2]|=lt<<F[q++&3]:lt<2048?(T[q>>2]|=(192|lt>>6)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):lt<55296||lt>=57344?(T[q>>2]|=(224|lt>>12)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]):(lt=65536+((lt&1023)<<10|l.charCodeAt(++G)&1023),T[q>>2]|=(240|lt>>18)<<F[q++&3],T[q>>2]|=(128|lt>>12&63)<<F[q++&3],T[q>>2]|=(128|lt>>6&63)<<F[q++&3],T[q>>2]|=(128|lt&63)<<F[q++&3]);if(this.lastByteIndex=q,q>=$){for(this.start=q-$,this.block=T[z],q=0;q<z;++q)W[q]^=T[q];Q(W),this.reset=!0}else this.start=q}return this},m.prototype.encode=function(l,B){var x=l&255,T=1,$=[x];for(l=l>>8,x=l&255;x>0;)$.unshift(x),l=l>>8,x=l&255,++T;return B?$.push(T):$.unshift(T),this.update($),$.length},m.prototype.encodeString=function(l){var B,x=typeof l;if(x!=="string"){if(x==="object"){if(l===null)throw new Error(t);if(b&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!b||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);B=!0}var T=0,$=l.length;if(B)T=$;else for(var U=0;U<l.length;++U){var z=l.charCodeAt(U);z<128?T+=1:z<2048?T+=2:z<55296||z>=57344?T+=3:(z=65536+((z&1023)<<10|l.charCodeAt(++U)&1023),T+=4)}return T+=this.encode(T*8),this.update(l),T},m.prototype.bytepad=function(l,B){for(var x=this.encode(B),T=0;T<l.length;++T)x+=this.encodeString(l[T]);var $=B-x%B,U=[];return U.length=$,this.update(U),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,B=this.lastByteIndex,x=this.blockCount,T=this.s;if(l[B>>2]|=this.padding[B&3],this.lastByteIndex===this.byteCount)for(l[0]=l[x],B=1;B<x+1;++B)l[B]=0;for(l[x-1]|=2147483648,B=0;B<x;++B)T[B]^=l[B];Q(T)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z="",G;U<x;){for($=0;$<l&&U<x;++$,++U)G=B[$],z+=A[G>>4&15]+A[G&15]+A[G>>12&15]+A[G>>8&15]+A[G>>20&15]+A[G>>16&15]+A[G>>28&15]+A[G>>24&15];U%l===0&&(Q(B),$=0)}return T&&(G=B[$],z+=A[G>>4&15]+A[G&15],T>1&&(z+=A[G>>12&15]+A[G>>8&15]),T>2&&(z+=A[G>>20&15]+A[G>>16&15])),z},m.prototype.arrayBuffer=function(){this.finalize();var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=this.outputBits>>3,G;T?G=new ArrayBuffer(x+1<<2):G=new ArrayBuffer(z);for(var W=new Uint32Array(G);U<x;){for($=0;$<l&&U<x;++$,++U)W[U]=B[$];U%l===0&&Q(B)}return T&&(W[$]=B[$],G=G.slice(0,z)),G},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var l=this.blockCount,B=this.s,x=this.outputBlocks,T=this.extraBytes,$=0,U=0,z=[],G,W;U<x;){for($=0;$<l&&U<x;++$,++U)G=U<<2,W=B[$],z[G]=W&255,z[G+1]=W>>8&255,z[G+2]=W>>16&255,z[G+3]=W>>24&255;U%l===0&&Q(B)}return T&&(G=U<<2,W=B[$],z[G]=W&255,T>1&&(z[G+1]=W>>8&255),T>2&&(z[G+2]=W>>16&255)),z};function J(l,B,x){m.call(this,l,B,x)}J.prototype=new m,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var Q=function(l){var B,x,T,$,U,z,G,W,q,lt,Ct,ct,Ue,xt,dt,Ae,pt,mt,Ke,gt,Rt,Se,ft,vt,Te,yt,wt,Oe,At,bt,Fe,Et,Bt,Qe,Pt,St,qe,Tt,Ot,Ge,Ft,_t,Je,Dt,kt,De,Ut,Mt,Ye,qt,zt,Ve,Lt,Ht,We,$t,Nt,Ne,Ce,xe,Re,Be,Pe;for(T=0;T<48;T+=2)$=l[0]^l[10]^l[20]^l[30]^l[40],U=l[1]^l[11]^l[21]^l[31]^l[41],z=l[2]^l[12]^l[22]^l[32]^l[42],G=l[3]^l[13]^l[23]^l[33]^l[43],W=l[4]^l[14]^l[24]^l[34]^l[44],q=l[5]^l[15]^l[25]^l[35]^l[45],lt=l[6]^l[16]^l[26]^l[36]^l[46],Ct=l[7]^l[17]^l[27]^l[37]^l[47],ct=l[8]^l[18]^l[28]^l[38]^l[48],Ue=l[9]^l[19]^l[29]^l[39]^l[49],B=ct^(z<<1|G>>>31),x=Ue^(G<<1|z>>>31),l[0]^=B,l[1]^=x,l[10]^=B,l[11]^=x,l[20]^=B,l[21]^=x,l[30]^=B,l[31]^=x,l[40]^=B,l[41]^=x,B=$^(W<<1|q>>>31),x=U^(q<<1|W>>>31),l[2]^=B,l[3]^=x,l[12]^=B,l[13]^=x,l[22]^=B,l[23]^=x,l[32]^=B,l[33]^=x,l[42]^=B,l[43]^=x,B=z^(lt<<1|Ct>>>31),x=G^(Ct<<1|lt>>>31),l[4]^=B,l[5]^=x,l[14]^=B,l[15]^=x,l[24]^=B,l[25]^=x,l[34]^=B,l[35]^=x,l[44]^=B,l[45]^=x,B=W^(ct<<1|Ue>>>31),x=q^(Ue<<1|ct>>>31),l[6]^=B,l[7]^=x,l[16]^=B,l[17]^=x,l[26]^=B,l[27]^=x,l[36]^=B,l[37]^=x,l[46]^=B,l[47]^=x,B=lt^($<<1|U>>>31),x=Ct^(U<<1|$>>>31),l[8]^=B,l[9]^=x,l[18]^=B,l[19]^=x,l[28]^=B,l[29]^=x,l[38]^=B,l[39]^=x,l[48]^=B,l[49]^=x,xt=l[0],dt=l[1],De=l[11]<<4|l[10]>>>28,Ut=l[10]<<4|l[11]>>>28,Oe=l[20]<<3|l[21]>>>29,At=l[21]<<3|l[20]>>>29,xe=l[31]<<9|l[30]>>>23,Re=l[30]<<9|l[31]>>>23,_t=l[40]<<18|l[41]>>>14,Je=l[41]<<18|l[40]>>>14,Qe=l[2]<<1|l[3]>>>31,Pt=l[3]<<1|l[2]>>>31,Ae=l[13]<<12|l[12]>>>20,pt=l[12]<<12|l[13]>>>20,Mt=l[22]<<10|l[23]>>>22,Ye=l[23]<<10|l[22]>>>22,bt=l[33]<<13|l[32]>>>19,Fe=l[32]<<13|l[33]>>>19,Be=l[42]<<2|l[43]>>>30,Pe=l[43]<<2|l[42]>>>30,Ht=l[5]<<30|l[4]>>>2,We=l[4]<<30|l[5]>>>2,St=l[14]<<6|l[15]>>>26,qe=l[15]<<6|l[14]>>>26,mt=l[25]<<11|l[24]>>>21,Ke=l[24]<<11|l[25]>>>21,qt=l[34]<<15|l[35]>>>17,zt=l[35]<<15|l[34]>>>17,Et=l[45]<<29|l[44]>>>3,Bt=l[44]<<29|l[45]>>>3,vt=l[6]<<28|l[7]>>>4,Te=l[7]<<28|l[6]>>>4,$t=l[17]<<23|l[16]>>>9,Nt=l[16]<<23|l[17]>>>9,Tt=l[26]<<25|l[27]>>>7,Ot=l[27]<<25|l[26]>>>7,gt=l[36]<<21|l[37]>>>11,Rt=l[37]<<21|l[36]>>>11,Ve=l[47]<<24|l[46]>>>8,Lt=l[46]<<24|l[47]>>>8,Dt=l[8]<<27|l[9]>>>5,kt=l[9]<<27|l[8]>>>5,yt=l[18]<<20|l[19]>>>12,wt=l[19]<<20|l[18]>>>12,Ne=l[29]<<7|l[28]>>>25,Ce=l[28]<<7|l[29]>>>25,Ge=l[38]<<8|l[39]>>>24,Ft=l[39]<<8|l[38]>>>24,Se=l[48]<<14|l[49]>>>18,ft=l[49]<<14|l[48]>>>18,l[0]=xt^~Ae&mt,l[1]=dt^~pt&Ke,l[10]=vt^~yt&Oe,l[11]=Te^~wt&At,l[20]=Qe^~St&Tt,l[21]=Pt^~qe&Ot,l[30]=Dt^~De&Mt,l[31]=kt^~Ut&Ye,l[40]=Ht^~$t&Ne,l[41]=We^~Nt&Ce,l[2]=Ae^~mt&gt,l[3]=pt^~Ke&Rt,l[12]=yt^~Oe&bt,l[13]=wt^~At&Fe,l[22]=St^~Tt&Ge,l[23]=qe^~Ot&Ft,l[32]=De^~Mt&qt,l[33]=Ut^~Ye&zt,l[42]=$t^~Ne&xe,l[43]=Nt^~Ce&Re,l[4]=mt^~gt&Se,l[5]=Ke^~Rt&ft,l[14]=Oe^~bt&Et,l[15]=At^~Fe&Bt,l[24]=Tt^~Ge&_t,l[25]=Ot^~Ft&Je,l[34]=Mt^~qt&Ve,l[35]=Ye^~zt&Lt,l[44]=Ne^~xe&Be,l[45]=Ce^~Re&Pe,l[6]=gt^~Se&xt,l[7]=Rt^~ft&dt,l[16]=bt^~Et&vt,l[17]=Fe^~Bt&Te,l[26]=Ge^~_t&Qe,l[27]=Ft^~Je&Pt,l[36]=qt^~Ve&Dt,l[37]=zt^~Lt&kt,l[46]=xe^~Be&Ht,l[47]=Re^~Pe&We,l[8]=Se^~xt&Ae,l[9]=ft^~dt&pt,l[18]=Et^~vt&yt,l[19]=Bt^~Te&wt,l[28]=_t^~Qe&St,l[29]=Je^~Pt&qe,l[38]=Ve^~Dt&De,l[39]=Lt^~kt&Ut,l[48]=Be^~Ht&$t,l[49]=Pe^~We&Nt,l[0]^=H[T],l[1]^=H[T+1]};if(v)e.exports=c;else for(g=0;g<d.length;++g)n[d[g]]=c[d[g]]})()})(uv);uv.exports;const NC="logger/5.7.0";let Eg=!1,Mg=!1;const xu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ig=xu.default,Zf=null;function CC(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Sg=CC();var O0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(O0||(O0={}));var an;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(an||(an={}));const _g="0123456789abcdef";class he{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();xu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Ig>xu[i])&&console.log.apply(console,r)}debug(...t){this._log(he.levels.DEBUG,t)}info(...t){this._log(he.levels.INFO,t)}warn(...t){this._log(he.levels.WARNING,t)}makeError(t,r,i){if(Mg)return this.makeError("censored error",r,{});r||(r=he.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(b=>{const A=i[b];try{if(A instanceof Uint8Array){let S="";for(let _=0;_<A.length;_++)S+=_g[A[_]>>4],S+=_g[A[_]&15];n.push(b+"=Uint8Array(0x"+S+")")}else n.push(b+"="+JSON.stringify(A))}catch{n.push(b+"="+JSON.stringify(i[b].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const a=t;let f="";switch(r){case an.NUMERIC_FAULT:{f="NUMERIC_FAULT";const b=t;switch(b){case"overflow":case"underflow":case"division-by-zero":f+="-"+b;break;case"negative-power":case"negative-width":f+="-unsupported";break;case"unbound-bitwise-result":f+="-unbound-result";break}break}case an.CALL_EXCEPTION:case an.INSUFFICIENT_FUNDS:case an.MISSING_NEW:case an.NONCE_EXPIRED:case an.REPLACEMENT_UNDERPRICED:case an.TRANSACTION_REPLACED:case an.UNPREDICTABLE_GAS_LIMIT:f=r;break}f&&(t+=" [ See: https://links.ethers.org/v5-errors-"+f+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=a,v.code=r,Object.keys(i).forEach(function(b){v[b]=i[b]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,he.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){Sg&&this.throwError("platform missing String.prototype.normalize",he.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Sg})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,he.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,he.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,he.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,he.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",he.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",he.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",he.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Zf||(Zf=new he(NC)),Zf}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",he.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Eg){if(!t)return;this.globalLogger().throwError("error censorship permanent",he.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Mg=!!t,Eg=!!r}static setLogLevel(t){const r=xu[t.toLowerCase()];if(r==null){he.globalLogger().warn("invalid log level - "+t);return}Ig=r}static from(t){return new he(t)}}he.errors=an,he.levels=O0;const xC="bytes/5.7.0",Ds=new he(xC);function cv(e){return!!e.toHexString}function Ru(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ru(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ng(e){return typeof e=="number"&&e==e&&e%1===0}function fh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Ng(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Ng(r)||r<0||r>=256)return!1}return!0}function fv(e,t){if(t||(t={}),typeof e=="number"){Ds.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Ru(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),cv(e)&&(e=e.toHexString()),Wo(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Ds.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return Ru(new Uint8Array(i))}return fh(e)?Ru(new Uint8Array(e)):Ds.throwArgumentError("invalid arrayify value","value",e)}function Wo(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const t0="0123456789abcdef";function lv(e,t){if(t||(t={}),typeof e=="number"){Ds.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=t0[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),cv(e))return e.toHexString();if(Wo(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Ds.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(fh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=t0[(n&240)>>4]+t0[n&15]}return r}return Ds.throwArgumentError("invalid hexlify value","value",e)}function Ku(e,t){for(typeof e!="string"?e=lv(e):Wo(e)||Ds.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Ds.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var dv={exports:{}},RC={},BC=Object.freeze({__proto__:null,default:RC}),PC=_C(BC);(function(e){(function(t,r){function i(o,c){if(!o)throw new Error(c||"Assertion failed")}function n(o,c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}function a(o,c,d){if(a.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(o||0,c||10,d||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=PC.Buffer}catch{}a.isBN=function(o){return o instanceof a?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===a.wordSize&&Array.isArray(o.words)},a.max=function(o,c){return o.cmp(c)>0?o:c},a.min=function(o,c){return o.cmp(c)<0?o:c},a.prototype._init=function(o,c,d){if(typeof o=="number")return this._initNumber(o,c,d);if(typeof o=="object")return this._initArray(o,c,d);c==="hex"&&(c=16),i(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var g=0;o[0]==="-"&&(g++,this.negative=1),g<o.length&&(c===16?this._parseHex(o,g,d):(this._parseBase(o,c,g),d==="le"&&this._initArray(this.toArray(),c,d)))},a.prototype._initNumber=function(o,c,d){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},a.prototype._initArray=function(o,c,d){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,E,I=0;if(d==="be")for(g=o.length-1,w=0;g>=0;g-=3)E=o[g]|o[g-1]<<8|o[g-2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(g=0,w=0;g<o.length;g+=3)E=o[g]|o[g+1]<<8|o[g+2]<<16,this.words[w]|=E<<I&67108863,this.words[w+1]=E>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this._strip()};function v(o,c){var d=o.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+o)}function b(o,c,d){var g=v(o,d);return d-1>=c&&(g|=v(o,d-1)<<4),g}a.prototype._parseHex=function(o,c,d){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w=0,E=0,I;if(d==="be")for(g=o.length-1;g>=c;g-=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8;else{var y=o.length-c;for(g=y%2===0?c+1:c;g<o.length;g+=2)I=b(o,c,g)<<w,this.words[E]|=I&67108863,w>=18?(w-=18,E+=1,this.words[E]|=I>>>26):w+=8}this._strip()};function A(o,c,d,g){for(var w=0,E=0,I=Math.min(o.length,d),y=c;y<I;y++){var h=o.charCodeAt(y)-48;w*=g,h>=49?E=h-49+10:h>=17?E=h-17+10:E=h,i(h>=0&&E<g,"Invalid character"),w+=E}return w}a.prototype._parseBase=function(o,c,d){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=c)g++;g--,w=w/c|0;for(var E=o.length-d,I=E%g,y=Math.min(E,E-I)+d,h=0,m=d;m<y;m+=g)h=A(o,m,m+g,c),this.imuln(w),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(I!==0){var J=1;for(h=A(o,m,o.length,c),m=0;m<I;m++)J*=c;this.imuln(J),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},a.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red};function S(o,c){o.words=c.words,o.length=c.length,o.negative=c.negative,o.red=c.red}if(a.prototype._move=function(o){S(o,this)},a.prototype.clone=function(){var o=new a(null);return this.copy(o),o},a.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{a.prototype.inspect=_}else a.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(o,c){o=o||10,c=c|0||1;var d;if(o===16||o==="hex"){d="";for(var g=0,w=0,E=0;E<this.length;E++){var I=this.words[E],y=((I<<g|w)&16777215).toString(16);w=I>>>24-g&16777215,g+=2,g>=26&&(g-=26,E--),w!==0||E!==this.length-1?d=C[6-y.length]+y+d:d=y+d}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(o===(o|0)&&o>=2&&o<=36){var h=R[o],m=F[o];d="";var J=this.clone();for(J.negative=0;!J.isZero();){var Q=J.modrn(m).toString(o);J=J.idivn(m),J.isZero()?d=Q+d:d=C[h-Q.length]+Q+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(o,c){return this.toArrayLike(f,o,c)}),a.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)};var H=function(o,c){return o.allocUnsafe?o.allocUnsafe(c):new o(c)};a.prototype.toArrayLike=function(o,c,d){this._strip();var g=this.byteLength(),w=d||Math.max(1,g);i(g<=w,"byte array longer than desired length"),i(w>0,"Requested array length <= 0");var E=H(o,w),I=c==="le"?"LE":"BE";return this["_toArrayLike"+I](E,g),E},a.prototype._toArrayLikeLE=function(o,c){for(var d=0,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d++]=I&255,d<o.length&&(o[d++]=I>>8&255),d<o.length&&(o[d++]=I>>16&255),E===6?(d<o.length&&(o[d++]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d<o.length)for(o[d++]=g;d<o.length;)o[d++]=0},a.prototype._toArrayLikeBE=function(o,c){for(var d=o.length-1,g=0,w=0,E=0;w<this.length;w++){var I=this.words[w]<<E|g;o[d--]=I&255,d>=0&&(o[d--]=I>>8&255),d>=0&&(o[d--]=I>>16&255),E===6?(d>=0&&(o[d--]=I>>24&255),g=0,E=0):(g=I>>>24,E+=2)}if(d>=0)for(o[d--]=g;d>=0;)o[d--]=0},Math.clz32?a.prototype._countBits=function(o){return 32-Math.clz32(o)}:a.prototype._countBits=function(o){var c=o,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},a.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},a.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function k(o){for(var c=new Array(o.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=o.words[g]>>>w&1}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(o+=d,d!==26)break}return o},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},a.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this._strip()},a.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},a.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},a.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},a.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&o.words[d];return this.length=c.length,this._strip()},a.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},a.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},a.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},a.prototype.iuxor=function(o){var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var g=0;g<d.length;g++)this.words[g]=c.words[g]^d.words[g];if(this!==c)for(;g<c.length;g++)this.words[g]=c.words[g];return this.length=c.length,this._strip()},a.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},a.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},a.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},a.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,d=o%26;this._expand(c),d>0&&c--;for(var g=0;g<c;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},a.prototype.notn=function(o){return this.clone().inotn(o)},a.prototype.setn=function(o,c){i(typeof o=="number"&&o>=0);var d=o/26|0,g=o%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},a.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var d,g;this.length>o.length?(d=this,g=o):(d=o,g=this);for(var w=0,E=0;E<g.length;E++)c=(d.words[E]|0)+(g.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;for(;w!==0&&E<d.length;E++)c=(d.words[E]|0)+w,this.words[E]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;E<d.length;E++)this.words[E]=d.words[E];return this},a.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},a.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var d=this.cmp(o);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,w;d>0?(g=this,w=o):(g=o,w=this);for(var E=0,I=0;I<w.length;I++)c=(g.words[I]|0)-(w.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;for(;E!==0&&I<g.length;I++)c=(g.words[I]|0)+E,E=c>>26,this.words[I]=c&67108863;if(E===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(o){return this.clone().isub(o)};function Y(o,c,d){d.negative=c.negative^o.negative;var g=o.length+c.length|0;d.length=g,g=g-1|0;var w=o.words[0]|0,E=c.words[0]|0,I=w*E,y=I&67108863,h=I/67108864|0;d.words[0]=y;for(var m=1;m<g;m++){for(var J=h>>>26,Q=h&67108863,l=Math.min(m,c.length-1),B=Math.max(0,m-o.length+1);B<=l;B++){var x=m-B|0;w=o.words[x]|0,E=c.words[B]|0,I=w*E+Q,J+=I/67108864|0,Q=I&67108863}d.words[m]=Q|0,h=J|0}return h!==0?d.words[m]=h|0:d.length--,d._strip()}var ot=function(o,c,d){var g=o.words,w=c.words,E=d.words,I=0,y,h,m,J=g[0]|0,Q=J&8191,l=J>>>13,B=g[1]|0,x=B&8191,T=B>>>13,$=g[2]|0,U=$&8191,z=$>>>13,G=g[3]|0,W=G&8191,q=G>>>13,lt=g[4]|0,Ct=lt&8191,ct=lt>>>13,Ue=g[5]|0,xt=Ue&8191,dt=Ue>>>13,Ae=g[6]|0,pt=Ae&8191,mt=Ae>>>13,Ke=g[7]|0,gt=Ke&8191,Rt=Ke>>>13,Se=g[8]|0,ft=Se&8191,vt=Se>>>13,Te=g[9]|0,yt=Te&8191,wt=Te>>>13,Oe=w[0]|0,At=Oe&8191,bt=Oe>>>13,Fe=w[1]|0,Et=Fe&8191,Bt=Fe>>>13,Qe=w[2]|0,Pt=Qe&8191,St=Qe>>>13,qe=w[3]|0,Tt=qe&8191,Ot=qe>>>13,Ge=w[4]|0,Ft=Ge&8191,_t=Ge>>>13,Je=w[5]|0,Dt=Je&8191,kt=Je>>>13,De=w[6]|0,Ut=De&8191,Mt=De>>>13,Ye=w[7]|0,qt=Ye&8191,zt=Ye>>>13,Ve=w[8]|0,Lt=Ve&8191,Ht=Ve>>>13,We=w[9]|0,$t=We&8191,Nt=We>>>13;d.negative=o.negative^c.negative,d.length=19,y=Math.imul(Q,At),h=Math.imul(Q,bt),h=h+Math.imul(l,At)|0,m=Math.imul(l,bt);var Ne=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,y=Math.imul(x,At),h=Math.imul(x,bt),h=h+Math.imul(T,At)|0,m=Math.imul(T,bt),y=y+Math.imul(Q,Et)|0,h=h+Math.imul(Q,Bt)|0,h=h+Math.imul(l,Et)|0,m=m+Math.imul(l,Bt)|0;var Ce=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,y=Math.imul(U,At),h=Math.imul(U,bt),h=h+Math.imul(z,At)|0,m=Math.imul(z,bt),y=y+Math.imul(x,Et)|0,h=h+Math.imul(x,Bt)|0,h=h+Math.imul(T,Et)|0,m=m+Math.imul(T,Bt)|0,y=y+Math.imul(Q,Pt)|0,h=h+Math.imul(Q,St)|0,h=h+Math.imul(l,Pt)|0,m=m+Math.imul(l,St)|0;var xe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(xe>>>26)|0,xe&=67108863,y=Math.imul(W,At),h=Math.imul(W,bt),h=h+Math.imul(q,At)|0,m=Math.imul(q,bt),y=y+Math.imul(U,Et)|0,h=h+Math.imul(U,Bt)|0,h=h+Math.imul(z,Et)|0,m=m+Math.imul(z,Bt)|0,y=y+Math.imul(x,Pt)|0,h=h+Math.imul(x,St)|0,h=h+Math.imul(T,Pt)|0,m=m+Math.imul(T,St)|0,y=y+Math.imul(Q,Tt)|0,h=h+Math.imul(Q,Ot)|0,h=h+Math.imul(l,Tt)|0,m=m+Math.imul(l,Ot)|0;var Re=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,y=Math.imul(Ct,At),h=Math.imul(Ct,bt),h=h+Math.imul(ct,At)|0,m=Math.imul(ct,bt),y=y+Math.imul(W,Et)|0,h=h+Math.imul(W,Bt)|0,h=h+Math.imul(q,Et)|0,m=m+Math.imul(q,Bt)|0,y=y+Math.imul(U,Pt)|0,h=h+Math.imul(U,St)|0,h=h+Math.imul(z,Pt)|0,m=m+Math.imul(z,St)|0,y=y+Math.imul(x,Tt)|0,h=h+Math.imul(x,Ot)|0,h=h+Math.imul(T,Tt)|0,m=m+Math.imul(T,Ot)|0,y=y+Math.imul(Q,Ft)|0,h=h+Math.imul(Q,_t)|0,h=h+Math.imul(l,Ft)|0,m=m+Math.imul(l,_t)|0;var Be=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,y=Math.imul(xt,At),h=Math.imul(xt,bt),h=h+Math.imul(dt,At)|0,m=Math.imul(dt,bt),y=y+Math.imul(Ct,Et)|0,h=h+Math.imul(Ct,Bt)|0,h=h+Math.imul(ct,Et)|0,m=m+Math.imul(ct,Bt)|0,y=y+Math.imul(W,Pt)|0,h=h+Math.imul(W,St)|0,h=h+Math.imul(q,Pt)|0,m=m+Math.imul(q,St)|0,y=y+Math.imul(U,Tt)|0,h=h+Math.imul(U,Ot)|0,h=h+Math.imul(z,Tt)|0,m=m+Math.imul(z,Ot)|0,y=y+Math.imul(x,Ft)|0,h=h+Math.imul(x,_t)|0,h=h+Math.imul(T,Ft)|0,m=m+Math.imul(T,_t)|0,y=y+Math.imul(Q,Dt)|0,h=h+Math.imul(Q,kt)|0,h=h+Math.imul(l,Dt)|0,m=m+Math.imul(l,kt)|0;var Pe=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y=Math.imul(pt,At),h=Math.imul(pt,bt),h=h+Math.imul(mt,At)|0,m=Math.imul(mt,bt),y=y+Math.imul(xt,Et)|0,h=h+Math.imul(xt,Bt)|0,h=h+Math.imul(dt,Et)|0,m=m+Math.imul(dt,Bt)|0,y=y+Math.imul(Ct,Pt)|0,h=h+Math.imul(Ct,St)|0,h=h+Math.imul(ct,Pt)|0,m=m+Math.imul(ct,St)|0,y=y+Math.imul(W,Tt)|0,h=h+Math.imul(W,Ot)|0,h=h+Math.imul(q,Tt)|0,m=m+Math.imul(q,Ot)|0,y=y+Math.imul(U,Ft)|0,h=h+Math.imul(U,_t)|0,h=h+Math.imul(z,Ft)|0,m=m+Math.imul(z,_t)|0,y=y+Math.imul(x,Dt)|0,h=h+Math.imul(x,kt)|0,h=h+Math.imul(T,Dt)|0,m=m+Math.imul(T,kt)|0,y=y+Math.imul(Q,Ut)|0,h=h+Math.imul(Q,Mt)|0,h=h+Math.imul(l,Ut)|0,m=m+Math.imul(l,Mt)|0;var Ir=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,y=Math.imul(gt,At),h=Math.imul(gt,bt),h=h+Math.imul(Rt,At)|0,m=Math.imul(Rt,bt),y=y+Math.imul(pt,Et)|0,h=h+Math.imul(pt,Bt)|0,h=h+Math.imul(mt,Et)|0,m=m+Math.imul(mt,Bt)|0,y=y+Math.imul(xt,Pt)|0,h=h+Math.imul(xt,St)|0,h=h+Math.imul(dt,Pt)|0,m=m+Math.imul(dt,St)|0,y=y+Math.imul(Ct,Tt)|0,h=h+Math.imul(Ct,Ot)|0,h=h+Math.imul(ct,Tt)|0,m=m+Math.imul(ct,Ot)|0,y=y+Math.imul(W,Ft)|0,h=h+Math.imul(W,_t)|0,h=h+Math.imul(q,Ft)|0,m=m+Math.imul(q,_t)|0,y=y+Math.imul(U,Dt)|0,h=h+Math.imul(U,kt)|0,h=h+Math.imul(z,Dt)|0,m=m+Math.imul(z,kt)|0,y=y+Math.imul(x,Ut)|0,h=h+Math.imul(x,Mt)|0,h=h+Math.imul(T,Ut)|0,m=m+Math.imul(T,Mt)|0,y=y+Math.imul(Q,qt)|0,h=h+Math.imul(Q,zt)|0,h=h+Math.imul(l,qt)|0,m=m+Math.imul(l,zt)|0;var ii=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,y=Math.imul(ft,At),h=Math.imul(ft,bt),h=h+Math.imul(vt,At)|0,m=Math.imul(vt,bt),y=y+Math.imul(gt,Et)|0,h=h+Math.imul(gt,Bt)|0,h=h+Math.imul(Rt,Et)|0,m=m+Math.imul(Rt,Bt)|0,y=y+Math.imul(pt,Pt)|0,h=h+Math.imul(pt,St)|0,h=h+Math.imul(mt,Pt)|0,m=m+Math.imul(mt,St)|0,y=y+Math.imul(xt,Tt)|0,h=h+Math.imul(xt,Ot)|0,h=h+Math.imul(dt,Tt)|0,m=m+Math.imul(dt,Ot)|0,y=y+Math.imul(Ct,Ft)|0,h=h+Math.imul(Ct,_t)|0,h=h+Math.imul(ct,Ft)|0,m=m+Math.imul(ct,_t)|0,y=y+Math.imul(W,Dt)|0,h=h+Math.imul(W,kt)|0,h=h+Math.imul(q,Dt)|0,m=m+Math.imul(q,kt)|0,y=y+Math.imul(U,Ut)|0,h=h+Math.imul(U,Mt)|0,h=h+Math.imul(z,Ut)|0,m=m+Math.imul(z,Mt)|0,y=y+Math.imul(x,qt)|0,h=h+Math.imul(x,zt)|0,h=h+Math.imul(T,qt)|0,m=m+Math.imul(T,zt)|0,y=y+Math.imul(Q,Lt)|0,h=h+Math.imul(Q,Ht)|0,h=h+Math.imul(l,Lt)|0,m=m+Math.imul(l,Ht)|0;var Sr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,y=Math.imul(yt,At),h=Math.imul(yt,bt),h=h+Math.imul(wt,At)|0,m=Math.imul(wt,bt),y=y+Math.imul(ft,Et)|0,h=h+Math.imul(ft,Bt)|0,h=h+Math.imul(vt,Et)|0,m=m+Math.imul(vt,Bt)|0,y=y+Math.imul(gt,Pt)|0,h=h+Math.imul(gt,St)|0,h=h+Math.imul(Rt,Pt)|0,m=m+Math.imul(Rt,St)|0,y=y+Math.imul(pt,Tt)|0,h=h+Math.imul(pt,Ot)|0,h=h+Math.imul(mt,Tt)|0,m=m+Math.imul(mt,Ot)|0,y=y+Math.imul(xt,Ft)|0,h=h+Math.imul(xt,_t)|0,h=h+Math.imul(dt,Ft)|0,m=m+Math.imul(dt,_t)|0,y=y+Math.imul(Ct,Dt)|0,h=h+Math.imul(Ct,kt)|0,h=h+Math.imul(ct,Dt)|0,m=m+Math.imul(ct,kt)|0,y=y+Math.imul(W,Ut)|0,h=h+Math.imul(W,Mt)|0,h=h+Math.imul(q,Ut)|0,m=m+Math.imul(q,Mt)|0,y=y+Math.imul(U,qt)|0,h=h+Math.imul(U,zt)|0,h=h+Math.imul(z,qt)|0,m=m+Math.imul(z,zt)|0,y=y+Math.imul(x,Lt)|0,h=h+Math.imul(x,Ht)|0,h=h+Math.imul(T,Lt)|0,m=m+Math.imul(T,Ht)|0,y=y+Math.imul(Q,$t)|0,h=h+Math.imul(Q,Nt)|0,h=h+Math.imul(l,$t)|0,m=m+Math.imul(l,Nt)|0;var ni=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(yt,Et),h=Math.imul(yt,Bt),h=h+Math.imul(wt,Et)|0,m=Math.imul(wt,Bt),y=y+Math.imul(ft,Pt)|0,h=h+Math.imul(ft,St)|0,h=h+Math.imul(vt,Pt)|0,m=m+Math.imul(vt,St)|0,y=y+Math.imul(gt,Tt)|0,h=h+Math.imul(gt,Ot)|0,h=h+Math.imul(Rt,Tt)|0,m=m+Math.imul(Rt,Ot)|0,y=y+Math.imul(pt,Ft)|0,h=h+Math.imul(pt,_t)|0,h=h+Math.imul(mt,Ft)|0,m=m+Math.imul(mt,_t)|0,y=y+Math.imul(xt,Dt)|0,h=h+Math.imul(xt,kt)|0,h=h+Math.imul(dt,Dt)|0,m=m+Math.imul(dt,kt)|0,y=y+Math.imul(Ct,Ut)|0,h=h+Math.imul(Ct,Mt)|0,h=h+Math.imul(ct,Ut)|0,m=m+Math.imul(ct,Mt)|0,y=y+Math.imul(W,qt)|0,h=h+Math.imul(W,zt)|0,h=h+Math.imul(q,qt)|0,m=m+Math.imul(q,zt)|0,y=y+Math.imul(U,Lt)|0,h=h+Math.imul(U,Ht)|0,h=h+Math.imul(z,Lt)|0,m=m+Math.imul(z,Ht)|0,y=y+Math.imul(x,$t)|0,h=h+Math.imul(x,Nt)|0,h=h+Math.imul(T,$t)|0,m=m+Math.imul(T,Nt)|0;var si=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(yt,Pt),h=Math.imul(yt,St),h=h+Math.imul(wt,Pt)|0,m=Math.imul(wt,St),y=y+Math.imul(ft,Tt)|0,h=h+Math.imul(ft,Ot)|0,h=h+Math.imul(vt,Tt)|0,m=m+Math.imul(vt,Ot)|0,y=y+Math.imul(gt,Ft)|0,h=h+Math.imul(gt,_t)|0,h=h+Math.imul(Rt,Ft)|0,m=m+Math.imul(Rt,_t)|0,y=y+Math.imul(pt,Dt)|0,h=h+Math.imul(pt,kt)|0,h=h+Math.imul(mt,Dt)|0,m=m+Math.imul(mt,kt)|0,y=y+Math.imul(xt,Ut)|0,h=h+Math.imul(xt,Mt)|0,h=h+Math.imul(dt,Ut)|0,m=m+Math.imul(dt,Mt)|0,y=y+Math.imul(Ct,qt)|0,h=h+Math.imul(Ct,zt)|0,h=h+Math.imul(ct,qt)|0,m=m+Math.imul(ct,zt)|0,y=y+Math.imul(W,Lt)|0,h=h+Math.imul(W,Ht)|0,h=h+Math.imul(q,Lt)|0,m=m+Math.imul(q,Ht)|0,y=y+Math.imul(U,$t)|0,h=h+Math.imul(U,Nt)|0,h=h+Math.imul(z,$t)|0,m=m+Math.imul(z,Nt)|0;var oi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,y=Math.imul(yt,Tt),h=Math.imul(yt,Ot),h=h+Math.imul(wt,Tt)|0,m=Math.imul(wt,Ot),y=y+Math.imul(ft,Ft)|0,h=h+Math.imul(ft,_t)|0,h=h+Math.imul(vt,Ft)|0,m=m+Math.imul(vt,_t)|0,y=y+Math.imul(gt,Dt)|0,h=h+Math.imul(gt,kt)|0,h=h+Math.imul(Rt,Dt)|0,m=m+Math.imul(Rt,kt)|0,y=y+Math.imul(pt,Ut)|0,h=h+Math.imul(pt,Mt)|0,h=h+Math.imul(mt,Ut)|0,m=m+Math.imul(mt,Mt)|0,y=y+Math.imul(xt,qt)|0,h=h+Math.imul(xt,zt)|0,h=h+Math.imul(dt,qt)|0,m=m+Math.imul(dt,zt)|0,y=y+Math.imul(Ct,Lt)|0,h=h+Math.imul(Ct,Ht)|0,h=h+Math.imul(ct,Lt)|0,m=m+Math.imul(ct,Ht)|0,y=y+Math.imul(W,$t)|0,h=h+Math.imul(W,Nt)|0,h=h+Math.imul(q,$t)|0,m=m+Math.imul(q,Nt)|0;var Hr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,y=Math.imul(yt,Ft),h=Math.imul(yt,_t),h=h+Math.imul(wt,Ft)|0,m=Math.imul(wt,_t),y=y+Math.imul(ft,Dt)|0,h=h+Math.imul(ft,kt)|0,h=h+Math.imul(vt,Dt)|0,m=m+Math.imul(vt,kt)|0,y=y+Math.imul(gt,Ut)|0,h=h+Math.imul(gt,Mt)|0,h=h+Math.imul(Rt,Ut)|0,m=m+Math.imul(Rt,Mt)|0,y=y+Math.imul(pt,qt)|0,h=h+Math.imul(pt,zt)|0,h=h+Math.imul(mt,qt)|0,m=m+Math.imul(mt,zt)|0,y=y+Math.imul(xt,Lt)|0,h=h+Math.imul(xt,Ht)|0,h=h+Math.imul(dt,Lt)|0,m=m+Math.imul(dt,Ht)|0,y=y+Math.imul(Ct,$t)|0,h=h+Math.imul(Ct,Nt)|0,h=h+Math.imul(ct,$t)|0,m=m+Math.imul(ct,Nt)|0;var $r=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(yt,Dt),h=Math.imul(yt,kt),h=h+Math.imul(wt,Dt)|0,m=Math.imul(wt,kt),y=y+Math.imul(ft,Ut)|0,h=h+Math.imul(ft,Mt)|0,h=h+Math.imul(vt,Ut)|0,m=m+Math.imul(vt,Mt)|0,y=y+Math.imul(gt,qt)|0,h=h+Math.imul(gt,zt)|0,h=h+Math.imul(Rt,qt)|0,m=m+Math.imul(Rt,zt)|0,y=y+Math.imul(pt,Lt)|0,h=h+Math.imul(pt,Ht)|0,h=h+Math.imul(mt,Lt)|0,m=m+Math.imul(mt,Ht)|0,y=y+Math.imul(xt,$t)|0,h=h+Math.imul(xt,Nt)|0,h=h+Math.imul(dt,$t)|0,m=m+Math.imul(dt,Nt)|0;var jr=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(yt,Ut),h=Math.imul(yt,Mt),h=h+Math.imul(wt,Ut)|0,m=Math.imul(wt,Mt),y=y+Math.imul(ft,qt)|0,h=h+Math.imul(ft,zt)|0,h=h+Math.imul(vt,qt)|0,m=m+Math.imul(vt,zt)|0,y=y+Math.imul(gt,Lt)|0,h=h+Math.imul(gt,Ht)|0,h=h+Math.imul(Rt,Lt)|0,m=m+Math.imul(Rt,Ht)|0,y=y+Math.imul(pt,$t)|0,h=h+Math.imul(pt,Nt)|0,h=h+Math.imul(mt,$t)|0,m=m+Math.imul(mt,Nt)|0;var ai=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,y=Math.imul(yt,qt),h=Math.imul(yt,zt),h=h+Math.imul(wt,qt)|0,m=Math.imul(wt,zt),y=y+Math.imul(ft,Lt)|0,h=h+Math.imul(ft,Ht)|0,h=h+Math.imul(vt,Lt)|0,m=m+Math.imul(vt,Ht)|0,y=y+Math.imul(gt,$t)|0,h=h+Math.imul(gt,Nt)|0,h=h+Math.imul(Rt,$t)|0,m=m+Math.imul(Rt,Nt)|0;var hi=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,y=Math.imul(yt,Lt),h=Math.imul(yt,Ht),h=h+Math.imul(wt,Lt)|0,m=Math.imul(wt,Ht),y=y+Math.imul(ft,$t)|0,h=h+Math.imul(ft,Nt)|0,h=h+Math.imul(vt,$t)|0,m=m+Math.imul(vt,Nt)|0;var ui=(I+y|0)+((h&8191)<<13)|0;I=(m+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,y=Math.imul(yt,$t),h=Math.imul(yt,Nt),h=h+Math.imul(wt,$t)|0,m=Math.imul(wt,Nt);var ci=(I+y|0)+((h&8191)<<13)|0;return I=(m+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,E[0]=Ne,E[1]=Ce,E[2]=xe,E[3]=Re,E[4]=Be,E[5]=Pe,E[6]=Ir,E[7]=ii,E[8]=Sr,E[9]=ni,E[10]=si,E[11]=oi,E[12]=Hr,E[13]=$r,E[14]=jr,E[15]=ai,E[16]=hi,E[17]=ui,E[18]=ci,I!==0&&(E[19]=I,d.length++),d};Math.imul||(ot=Y);function at(o,c,d){d.negative=c.negative^o.negative,d.length=o.length+c.length;for(var g=0,w=0,E=0;E<d.length-1;E++){var I=w;w=0;for(var y=g&67108863,h=Math.min(E,c.length-1),m=Math.max(0,E-o.length+1);m<=h;m++){var J=E-m,Q=o.words[J]|0,l=c.words[m]|0,B=Q*l,x=B&67108863;I=I+(B/67108864|0)|0,x=x+y|0,y=x&67108863,I=I+(x>>>26)|0,w+=I>>>26,I&=67108863}d.words[E]=y,g=I,I=w}return g!==0?d.words[E]=g:d.length--,d._strip()}function et(o,c,d){return at(o,c,d)}a.prototype.mulTo=function(o,c){var d,g=this.length+o.length;return this.length===10&&o.length===10?d=ot(this,o,c):g<63?d=Y(this,o,c):g<1024?d=at(this,o,c):d=et(this,o,c),d},a.prototype.mul=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},a.prototype.mulf=function(o){var c=new a(null);return c.words=new Array(this.length+o.length),et(this,o,c)},a.prototype.imul=function(o){return this.clone().mulTo(o,this)},a.prototype.imuln=function(o){var c=o<0;c&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var d=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*o,E=(w&67108863)+(d&67108863);d>>=26,d+=w/67108864|0,d+=E>>>26,this.words[g]=E&67108863}return d!==0&&(this.words[g]=d,this.length++),c?this.ineg():this},a.prototype.muln=function(o){return this.clone().imuln(o)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(o){var c=k(o);if(c.length===0)return new a(1);for(var d=this,g=0;g<c.length&&c[g]===0;g++,d=d.sqr());if(++g<c.length)for(var w=d.sqr();g<c.length;g++,w=w.sqr())c[g]!==0&&(d=d.mul(w));return d},a.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=67108863>>>26-c<<26-c,w;if(c!==0){var E=0;for(w=0;w<this.length;w++){var I=this.words[w]&g,y=(this.words[w]|0)-I<<c;this.words[w]=y|E,E=I>>>26-c}E&&(this.words[w]=E,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},a.prototype.iushrn=function(o,c,d){i(typeof o=="number"&&o>=0);var g;c?g=(c-c%26)/26:g=0;var w=o%26,E=Math.min((o-w)/26,this.length),I=67108863^67108863>>>w<<w,y=d;if(g-=E,g=Math.max(0,g),y){for(var h=0;h<E;h++)y.words[h]=this.words[h];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,h=0;h<this.length;h++)this.words[h]=this.words[h+E];else this.words[0]=0,this.length=1;var m=0;for(h=this.length-1;h>=0&&(m!==0||h>=g);h--){var J=this.words[h]|0;this.words[h]=m<<26-w|J>>>w,m=J&I}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(o,c,d){return i(this.negative===0),this.iushrn(o,c,d)},a.prototype.shln=function(o){return this.clone().ishln(o)},a.prototype.ushln=function(o){return this.clone().iushln(o)},a.prototype.shrn=function(o){return this.clone().ishrn(o)},a.prototype.ushrn=function(o){return this.clone().iushrn(o)},a.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&g)},a.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var g=67108863^67108863>>>c<<c;this.words[this.length-1]&=g}return this._strip()},a.prototype.maskn=function(o){return this.clone().imaskn(o)},a.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},a.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},a.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},a.prototype.addn=function(o){return this.clone().iaddn(o)},a.prototype.subn=function(o){return this.clone().isubn(o)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(o,c,d){var g=o.length+d,w;this._expand(g);var E,I=0;for(w=0;w<o.length;w++){E=(this.words[w+d]|0)+I;var y=(o.words[w]|0)*c;E-=y&67108863,I=(E>>26)-(y/67108864|0),this.words[w+d]=E&67108863}for(;w<this.length-d;w++)E=(this.words[w+d]|0)+I,I=E>>26,this.words[w+d]=E&67108863;if(I===0)return this._strip();for(i(I===-1),I=0,w=0;w<this.length;w++)E=-(this.words[w]|0)+I,I=E>>26,this.words[w]=E&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(o,c){var d=this.length-o.length,g=this.clone(),w=o,E=w.words[w.length-1]|0,I=this._countBits(E);d=26-I,d!==0&&(w=w.ushln(d),g.iushln(d),E=w.words[w.length-1]|0);var y=g.length-w.length,h;if(c!=="mod"){h=new a(null),h.length=y+1,h.words=new Array(h.length);for(var m=0;m<h.length;m++)h.words[m]=0}var J=g.clone()._ishlnsubmul(w,1,y);J.negative===0&&(g=J,h&&(h.words[y]=1));for(var Q=y-1;Q>=0;Q--){var l=(g.words[w.length+Q]|0)*67108864+(g.words[w.length+Q-1]|0);for(l=Math.min(l/E|0,67108863),g._ishlnsubmul(w,l,Q);g.negative!==0;)l--,g.negative=0,g._ishlnsubmul(w,1,Q),g.isZero()||(g.negative^=1);h&&(h.words[Q]=l)}return h&&h._strip(),g._strip(),c!=="div"&&d!==0&&g.iushrn(d),{div:h||null,mod:g}},a.prototype.divmod=function(o,c,d){if(i(!o.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var g,w,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,c),c!=="mod"&&(g=E.div.neg()),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.iadd(o)),{div:g,mod:w}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),c),c!=="mod"&&(g=E.div.neg()),{div:g,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),c),c!=="div"&&(w=E.mod.neg(),d&&w.negative!==0&&w.isub(o)),{div:E.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new a(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new a(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new a(this.modrn(o.words[0]))}:this._wordDiv(o,c)},a.prototype.div=function(o){return this.divmod(o,"div",!1).div},a.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},a.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},a.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(o):c.mod,g=o.ushrn(1),w=o.andln(1),E=d.cmp(g);return E<0||w===1&&E===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},a.prototype.modrn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=(1<<26)%o,g=0,w=this.length-1;w>=0;w--)g=(d*g+(this.words[w]|0))%o;return c?-g:g},a.prototype.modn=function(o){return this.modrn(o)},a.prototype.idivn=function(o){var c=o<0;c&&(o=-o),i(o<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+d*67108864;this.words[g]=w/o|0,d=w%o}return this._strip(),c?this.ineg():this},a.prototype.divn=function(o){return this.clone().idivn(o)},a.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=new a(0),I=new a(1),y=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++y;for(var h=d.clone(),m=c.clone();!c.isZero();){for(var J=0,Q=1;!(c.words[0]&Q)&&J<26;++J,Q<<=1);if(J>0)for(c.iushrn(J);J-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(h),w.isub(m)),g.iushrn(1),w.iushrn(1);for(var l=0,B=1;!(d.words[0]&B)&&l<26;++l,B<<=1);if(l>0)for(d.iushrn(l);l-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(h),I.isub(m)),E.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(E),w.isub(I)):(d.isub(c),E.isub(g),I.isub(w))}return{a:E,b:I,gcd:d.iushln(y)}},a.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var g=new a(1),w=new a(0),E=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,y=1;!(c.words[0]&y)&&I<26;++I,y<<=1);if(I>0)for(c.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(E),g.iushrn(1);for(var h=0,m=1;!(d.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(d.iushrn(h);h-- >0;)w.isOdd()&&w.iadd(E),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),g.isub(w)):(d.isub(c),w.isub(g))}var J;return c.cmpn(1)===0?J=g:J=w,J.cmpn(0)<0&&J.iadd(o),J},a.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),d=o.clone();c.negative=0,d.negative=0;for(var g=0;c.isEven()&&d.isEven();g++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var E=c;c=d,d=E}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(g)},a.prototype.invm=function(o){return this.egcd(o).a.umod(o)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(o){return this.words[0]&o},a.prototype.bincn=function(o){i(typeof o=="number");var c=o%26,d=(o-c)/26,g=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var w=g,E=d;w!==0&&E<this.length;E++){var I=this.words[E]|0;I+=w,w=I>>>26,I&=67108863,this.words[E]=I}return w!==0&&(this.words[E]=w,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var d;if(this.length>1)d=1;else{c&&(o=-o),i(o<=67108863,"Number is too big");var g=this.words[0]|0;d=g===o?0:g<o?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},a.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,w=o.words[d]|0;if(g!==w){g<w?c=-1:g>w&&(c=1);break}}return c},a.prototype.gtn=function(o){return this.cmpn(o)===1},a.prototype.gt=function(o){return this.cmp(o)===1},a.prototype.gten=function(o){return this.cmpn(o)>=0},a.prototype.gte=function(o){return this.cmp(o)>=0},a.prototype.ltn=function(o){return this.cmpn(o)===-1},a.prototype.lt=function(o){return this.cmp(o)===-1},a.prototype.lten=function(o){return this.cmpn(o)<=0},a.prototype.lte=function(o){return this.cmp(o)<=0},a.prototype.eqn=function(o){return this.cmpn(o)===0},a.prototype.eq=function(o){return this.cmp(o)===0},a.red=function(o){return new ht(o)},a.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(o){return this.red=o,this},a.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},a.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},a.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},a.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},a.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},a.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},a.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},a.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var X={k256:null,p224:null,p192:null,p25519:null};function Z(o,c){this.name=o,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var o=new a(null);return o.words=new Array(Math.ceil(this.n/13)),o},Z.prototype.ireduce=function(o){var c=o,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var g=d<this.n?-1:c.ucmp(this.p);return g===0?(c.words[0]=0,c.length=1):g>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Z.prototype.split=function(o,c){o.iushrn(this.n,0,c)},Z.prototype.imulK=function(o){return o.imul(this.k)};function ut(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(ut,Z),ut.prototype.split=function(o,c){for(var d=4194303,g=Math.min(o.length,9),w=0;w<g;w++)c.words[w]=o.words[w];if(c.length=g,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(c.words[c.length++]=E&d,w=10;w<o.length;w++){var I=o.words[w]|0;o.words[w-10]=(I&d)<<4|E>>>22,E=I}E>>>=22,o.words[w-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},ut.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,d=0;d<o.length;d++){var g=o.words[d]|0;c+=g*977,o.words[d]=c&67108863,c=g*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function nt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(nt,Z);function Gt(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Gt,Z);function Zt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Zt,Z),Zt.prototype.imulK=function(o){for(var c=0,d=0;d<o.length;d++){var g=(o.words[d]|0)*19+c,w=g&67108863;g>>>=26,o.words[d]=w,c=g}return c!==0&&(o.words[o.length++]=c),o},a._prime=function(o){if(X[o])return X[o];var c;if(o==="k256")c=new ut;else if(o==="p224")c=new nt;else if(o==="p192")c=new Gt;else if(o==="p25519")c=new Zt;else throw new Error("Unknown prime "+o);return X[o]=c,c};function ht(o){if(typeof o=="string"){var c=a._prime(o);this.m=c.p,this.prime=c}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}ht.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},ht.prototype._verify2=function(o,c){i((o.negative|c.negative)===0,"red works only with positives"),i(o.red&&o.red===c.red,"red works only with red numbers")},ht.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(S(o,o.umod(this.m)._forceRed(this)),o)},ht.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},ht.prototype.add=function(o,c){this._verify2(o,c);var d=o.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},ht.prototype.iadd=function(o,c){this._verify2(o,c);var d=o.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},ht.prototype.sub=function(o,c){this._verify2(o,c);var d=o.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},ht.prototype.isub=function(o,c){this._verify2(o,c);var d=o.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},ht.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},ht.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},ht.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},ht.prototype.isqr=function(o){return this.imul(o,o.clone())},ht.prototype.sqr=function(o){return this.mul(o,o)},ht.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(i(c%2===1),c===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(o,d)}for(var g=this.m.subn(1),w=0;!g.isZero()&&g.andln(1)===0;)w++,g.iushrn(1);i(!g.isZero());var E=new a(1).toRed(this),I=E.redNeg(),y=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);this.pow(h,y).cmp(I)!==0;)h.redIAdd(I);for(var m=this.pow(h,g),J=this.pow(o,g.addn(1).iushrn(1)),Q=this.pow(o,g),l=w;Q.cmp(E)!==0;){for(var B=Q,x=0;B.cmp(E)!==0;x++)B=B.redSqr();i(x<l);var T=this.pow(m,new a(1).iushln(l-x-1));J=J.redMul(T),m=T.redSqr(),Q=Q.redMul(m),l=x}return J},ht.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},ht.prototype.pow=function(o,c){if(c.isZero())return new a(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var d=4,g=new Array(1<<d);g[0]=new a(1).toRed(this),g[1]=o;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],o);var E=g[0],I=0,y=0,h=c.bitLength()%26;for(h===0&&(h=26),w=c.length-1;w>=0;w--){for(var m=c.words[w],J=h-1;J>=0;J--){var Q=m>>J&1;if(E!==g[0]&&(E=this.sqr(E)),Q===0&&I===0){y=0;continue}I<<=1,I|=Q,y++,!(y!==d&&(w!==0||J!==0))&&(E=this.mul(E,g[I]),y=0,I=0)}h=26}return E},ht.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},ht.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},a.mont=function(o){return new Yt(o)};function Yt(o){ht.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Yt,ht),Yt.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Yt.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},Yt.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var d=o.imul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new a(0)._forceRed(this);var d=o.mul(c),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(g).iushrn(this.shift),E=w;return w.cmp(this.m)>=0?E=w.isub(this.m):w.cmpn(0)<0&&(E=w.iadd(this.m)),E._forceRed(this)},Yt.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,hv)})(dv);var ne=dv.exports;const pv="bignumber/5.7.0";var F0=ne.BN;const as=new he(pv),e0={},Cg=9007199254740991;function TC(e){return e!=null&&(je.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Wo(e)||typeof e=="bigint"||fh(e))}let xg=!1;class je{constructor(t,r){t!==e0&&as.throwError("cannot call constructor directly; use BigNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Wr(me(this).fromTwos(t))}toTwos(t){return Wr(me(this).toTwos(t))}abs(){return this._hex[0]==="-"?je.from(this._hex.substring(1)):this}add(t){return Wr(me(this).add(me(t)))}sub(t){return Wr(me(this).sub(me(t)))}div(t){return je.from(t).isZero()&&Ui("division-by-zero","div"),Wr(me(this).div(me(t)))}mul(t){return Wr(me(this).mul(me(t)))}mod(t){const r=me(t);return r.isNeg()&&Ui("division-by-zero","mod"),Wr(me(this).umod(r))}pow(t){const r=me(t);return r.isNeg()&&Ui("negative-power","pow"),Wr(me(this).pow(r))}and(t){const r=me(t);return(this.isNegative()||r.isNeg())&&Ui("unbound-bitwise-result","and"),Wr(me(this).and(r))}or(t){const r=me(t);return(this.isNegative()||r.isNeg())&&Ui("unbound-bitwise-result","or"),Wr(me(this).or(r))}xor(t){const r=me(t);return(this.isNegative()||r.isNeg())&&Ui("unbound-bitwise-result","xor"),Wr(me(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Ui("negative-width","mask"),Wr(me(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Ui("negative-width","shl"),Wr(me(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Ui("negative-width","shr"),Wr(me(this).shrn(t))}eq(t){return me(this).eq(me(t))}lt(t){return me(this).lt(me(t))}lte(t){return me(this).lte(me(t))}gt(t){return me(this).gt(me(t))}gte(t){return me(this).gte(me(t))}isNegative(){return this._hex[0]==="-"}isZero(){return me(this).isZero()}toNumber(){try{return me(this).toNumber()}catch{Ui("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return as.throwError("this platform does not support BigInt",he.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?xg||(xg=!0,as.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?as.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",he.errors.UNEXPECTED_ARGUMENT,{}):as.throwError("BigNumber.toString does not accept parameters",he.errors.UNEXPECTED_ARGUMENT,{})),me(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof je)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new je(e0,rh(t)):t.match(/^-?[0-9]+$/)?new je(e0,rh(new F0(t))):as.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Ui("underflow","BigNumber.from",t),(t>=Cg||t<=-Cg)&&Ui("overflow","BigNumber.from",t),je.from(String(t));const r=t;if(typeof r=="bigint")return je.from(r.toString());if(fh(r))return je.from(lv(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return je.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Wo(i)||i[0]==="-"&&Wo(i.substring(1))))return je.from(i)}return as.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function rh(e){if(typeof e!="string")return rh(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&as.throwArgumentError("invalid hex","value",e),e=rh(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Wr(e){return je.from(rh(e))}function me(e){const t=je.from(e).toHexString();return t[0]==="-"?new F0("-"+t.substring(3),16):new F0(t.substring(2),16)}function Ui(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),as.throwError(e,he.errors.NUMERIC_FAULT,i)}const qr=new he(pv),Ja={},gv=je.from(0),mv=je.from(-1);function vv(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),qr.throwError(e,he.errors.NUMERIC_FAULT,n)}let Ya="0";for(;Ya.length<256;)Ya+=Ya;function ul(e){if(typeof e!="number")try{e=je.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Ya.substring(0,e):qr.throwArgumentError("invalid decimal size","decimals",e)}function r0(e,t){t==null&&(t=0);const r=ul(t);e=je.from(e);const i=e.lt(gv);i&&(e=e.mul(mv));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const a=e.div(r).toString();return r.length===1?e=a:e=a+"."+n,i&&(e="-"+e),e}function is(e,t){t==null&&(t=0);const r=ul(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&qr.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&qr.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&qr.throwArgumentError("too many decimal points","value",e);let a=n[0],f=n[1];for(a||(a="0"),f||(f="0");f[f.length-1]==="0";)f=f.substring(0,f.length-1);for(f.length>r.length-1&&vv("fractional component exceeds decimals","underflow","parseFixed"),f===""&&(f="0");f.length<r.length-1;)f+="0";const v=je.from(a),b=je.from(f);let A=v.mul(r).add(b);return i&&(A=A.mul(mv)),A}class $o{constructor(t,r,i,n){t!==Ja&&qr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=ul(n),Object.freeze(this)}static from(t){if(t instanceof $o)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||qr.throwArgumentError("invalid fixed format","format",t),r=a[1]!=="u",i=parseInt(a[2]),n=parseInt(a[3])}}else if(t){const a=(f,v,b)=>t[f]==null?b:(typeof t[f]!==v&&qr.throwArgumentError("invalid fixed format ("+f+" not "+v+")","format."+f,t[f]),t[f]);r=a("signed","boolean",r),i=a("width","number",i),n=a("decimals","number",n)}return i%8&&qr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&qr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new $o(Ja,r,i,n)}}class Er{constructor(t,r,i,n){t!==Ja&&qr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&qr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=is(this._value,this.format.decimals),i=is(t._value,t.format.decimals);return Er.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=is(this._value,this.format.decimals),i=is(t._value,t.format.decimals);return Er.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=is(this._value,this.format.decimals),i=is(t._value,t.format.decimals);return Er.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=is(this._value,this.format.decimals),i=is(t._value,t.format.decimals);return Er.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Er.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(Rg.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Er.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(Rg.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&qr.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Er.from("1"+Ya.substring(0,t),this.format),n=OC.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&qr.throwArgumentError("invalid byte width","width",t);const r=je.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Ku(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Er.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!TC(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Er.fromString(r0(t,r),$o.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=$o.from(r),n=is(t,i.decimals);!i.signed&&n.lt(gv)&&vv("unsigned value cannot be negative","overflow","value",t);let a=null;i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=Ku(a,i.width/8));const f=r0(n,i.decimals);return new Er(Ja,a,f,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=$o.from(r);if(fv(t).length>i.width/8)throw new Error("overflow");let n=je.from(t);i.signed&&(n=n.fromTwos(i.width));const a=n.toTwos((i.signed?0:1)+i.width).toHexString(),f=r0(n,i.decimals);return new Er(Ja,a,f,i)}static from(t,r){if(typeof t=="string")return Er.fromString(t,r);if(fh(t))return Er.fromBytes(t,r);try{return Er.fromValue(t,0,r)}catch(i){if(i.code!==he.errors.INVALID_ARGUMENT)throw i}return qr.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const Rg=Er.from(1),OC=Er.from("0.5"),FC="strings/5.7.0",DC=new he(FC);var Bg;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Bg||(Bg={}));var jo;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(jo||(jo={}));function kC(e,t,r,i,n){return DC.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function yv(e,t,r,i,n){if(e===jo.BAD_PREFIX||e===jo.UNEXPECTED_CONTINUE){let a=0;for(let f=t+1;f<r.length&&r[f]>>6===2;f++)a++;return a}return e===jo.OVERRUN?r.length-t-1:0}function UC(e,t,r,i,n){return e===jo.OVERLONG?(i.push(n),0):(i.push(65533),yv(e,t,r))}Object.freeze({error:kC,ignore:yv,replace:UC});function qC(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function i0(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let a=n.split(":");r+=parseInt(a[0],16),i[r]=t(a[1])}),i}function Pg(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}Pg("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),i0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),i0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),i0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",qC),Pg("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const wv="hash/5.7.0";function zC(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return fv(t)}function Av(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(a,f){i.call(a,function(v){f>0&&Array.isArray(v)?n(v,f-1):r.push(v)})};return n(e,t),r}function LC(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function HC(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let X=1;X<i;X++)a.push(n+=r());let f=r(),v=t;t+=f;let b=0,A=0;function S(){return b==0&&(A=A<<8|e[t++],b=8),A>>--b&1}const _=31,C=Math.pow(2,_),R=C>>>1,F=R>>1,H=C-1;let k=0;for(let X=0;X<_;X++)k=k<<1|S();let Y=[],ot=0,at=C;for(;;){let X=Math.floor(((k-ot+1)*n-1)/at),Z=0,ut=i;for(;ut-Z>1;){let Zt=Z+ut>>>1;X<a[Zt]?ut=Zt:Z=Zt}if(Z==0)break;Y.push(Z);let nt=ot+Math.floor(at*a[Z]/n),Gt=ot+Math.floor(at*a[Z+1]/n)-1;for(;!((nt^Gt)&R);)k=k<<1&H|S(),nt=nt<<1&H,Gt=Gt<<1&H|1;for(;nt&~Gt&F;)k=k&R|k<<1&H>>>1|S(),nt=nt<<1^R,Gt=(Gt^R)<<1|R|1;ot=nt,at=1+Gt-nt}let et=i-4;return Y.map(X=>{switch(X-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return X-1}})}function $C(e){let t=0;return()=>e[t++]}function jC(e){return $C(HC(e))}function KC(e){return e&1?~e>>1:e>>1}function QC(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Tg(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function GC(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=KC(t());return r}function Qu(e,t){let r=Tg(e(),e),i=e(),n=Tg(i,e),a=QC(i,e);for(let f=0;f<i;f++)for(let v=0;v<a[f];v++)r.push(n[f]+v);return t?r.map(f=>t[f]):r}function JC(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(VC(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(WC(r,e))}return LC(Av(t))}function YC(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function bv(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)GC(e,r).forEach((a,f)=>i[f].push(a));return i}function VC(e,t){let r=1+t(),i=t(),n=YC(t),a=bv(n.length,1+e,t);return Av(a.map((f,v)=>{const b=f[0],A=f.slice(1);return Array(n[v]).fill(void 0).map((S,_)=>{let C=_*i;return[b+_*r,A.map(R=>R+C)]})}))}function WC(e,t){let r=1+t();return bv(r,1+e,t).map(i=>[i[0],i.slice(1)])}function XC(e){let t=Qu(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let A=Qu(e,t);if(A.length==0)break;i.push({set:new Set(A),node:r()})}i.sort((A,S)=>S.set.size-A.set.size);let n=e(),a=n%3;n=n/3|0;let f=!!(n&1);n>>=1;let v=n==1,b=n==2;return{branches:i,valid:a,fe0f:f,save:v,check:b}}}function ZC(){return jC(zC("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"))}const uu=ZC();new Set(Qu(uu)),new Set(Qu(uu)),JC(uu),XC(uu),new he(wv);const tx=new Uint8Array(32);tx.fill(0);const ex="rlp/5.7.0";new he(ex);const rx="address/5.7.0";new he(rx);const ix="properties/5.7.0";new he(ix);new he(wv);const nx=new Uint8Array(32);nx.fill(0),je.from(-1);const sx=je.from(0),ox=je.from(1);je.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ku(ox.toHexString(),32),Ku(sx.toHexString(),32);var Mn={},we={},lh=Ev;function Ev(e,t){if(!e)throw new Error(t||"Assertion failed")}Ev.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var D0={exports:{}};typeof Object.create=="function"?D0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:D0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var ax=lh,hx=D0.exports;we.inherits=hx;function ux(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function cx(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):ux(e,n)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}we.toArray=cx;function fx(e){for(var t="",r=0;r<e.length;r++)t+=Iv(e[r].toString(16));return t}we.toHex=fx;function Mv(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}we.htonl=Mv;function lx(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=Mv(n)),r+=Sv(n.toString(16))}return r}we.toHex32=lx;function Iv(e){return e.length===1?"0"+e:e}we.zero2=Iv;function Sv(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}we.zero8=Sv;function dx(e,t,r,i){var n=r-t;ax(n%4===0);for(var a=new Array(n/4),f=0,v=t;f<a.length;f++,v+=4){var b;i==="big"?b=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:b=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],a[f]=b>>>0}return a}we.join32=dx;function px(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];t==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}we.split32=px;function gx(e,t){return e>>>t|e<<32-t}we.rotr32=gx;function mx(e,t){return e<<t|e>>>32-t}we.rotl32=mx;function vx(e,t){return e+t>>>0}we.sum32=vx;function yx(e,t,r){return e+t+r>>>0}we.sum32_3=yx;function wx(e,t,r,i){return e+t+r+i>>>0}we.sum32_4=wx;function Ax(e,t,r,i,n){return e+t+r+i+n>>>0}we.sum32_5=Ax;function bx(e,t,r,i){var n=e[t],a=e[t+1],f=i+a>>>0,v=(f<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=f}we.sum64=bx;function Ex(e,t,r,i){var n=t+i>>>0,a=(n<t?1:0)+e+r;return a>>>0}we.sum64_hi=Ex;function Mx(e,t,r,i){var n=t+i;return n>>>0}we.sum64_lo=Mx;function Ix(e,t,r,i,n,a,f,v){var b=0,A=t;A=A+i>>>0,b+=A<t?1:0,A=A+a>>>0,b+=A<a?1:0,A=A+v>>>0,b+=A<v?1:0;var S=e+r+n+f+b;return S>>>0}we.sum64_4_hi=Ix;function Sx(e,t,r,i,n,a,f,v){var b=t+i+a+v;return b>>>0}we.sum64_4_lo=Sx;function _x(e,t,r,i,n,a,f,v,b,A){var S=0,_=t;_=_+i>>>0,S+=_<t?1:0,_=_+a>>>0,S+=_<a?1:0,_=_+v>>>0,S+=_<v?1:0,_=_+A>>>0,S+=_<A?1:0;var C=e+r+n+f+b+S;return C>>>0}we.sum64_5_hi=_x;function Nx(e,t,r,i,n,a,f,v,b,A){var S=t+i+a+v+A;return S>>>0}we.sum64_5_lo=Nx;function Cx(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}we.rotr64_hi=Cx;function xx(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}we.rotr64_lo=xx;function Rx(e,t,r){return e>>>r}we.shr64_hi=Rx;function Bx(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}we.shr64_lo=Bx;var fa={},Og=we,Px=lh;function cu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}fa.BlockHash=cu,cu.prototype.update=function(e,t){if(e=Og.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=Og.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},cu.prototype.digest=function(e){return this.update(this._pad()),Px(this.pending===null),this._digest(e)},cu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Po={},jn={},Tx=we,qn=Tx.rotr32;function Ox(e,t,r,i){if(e===0)return _v(t,r,i);if(e===1||e===3)return Cv(t,r,i);if(e===2)return Nv(t,r,i)}jn.ft_1=Ox;function _v(e,t,r){return e&t^~e&r}jn.ch32=_v;function Nv(e,t,r){return e&t^e&r^t&r}jn.maj32=Nv;function Cv(e,t,r){return e^t^r}jn.p32=Cv;function Fx(e){return qn(e,2)^qn(e,13)^qn(e,22)}jn.s0_256=Fx;function Dx(e){return qn(e,6)^qn(e,11)^qn(e,25)}jn.s1_256=Dx;function kx(e){return qn(e,7)^qn(e,18)^e>>>3}jn.g0_256=kx;function Ux(e){return qn(e,17)^qn(e,19)^e>>>10}jn.g1_256=Ux;var Xo=we,qx=fa,zx=jn,n0=Xo.rotl32,qa=Xo.sum32,Lx=Xo.sum32_5,Hx=zx.ft_1,xv=qx.BlockHash,$x=[1518500249,1859775393,2400959708,3395469782];function Rn(){if(!(this instanceof Rn))return new Rn;xv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Xo.inherits(Rn,xv);var jx=Rn;Rn.blockSize=512,Rn.outSize=160,Rn.hmacStrength=80,Rn.padLength=64,Rn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=n0(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4];for(i=0;i<r.length;i++){var A=~~(i/20),S=Lx(n0(n,5),Hx(A,a,f,v),b,r[i],$x[A]);b=v,v=f,f=n0(a,30),a=n,n=S}this.h[0]=qa(this.h[0],n),this.h[1]=qa(this.h[1],a),this.h[2]=qa(this.h[2],f),this.h[3]=qa(this.h[3],v),this.h[4]=qa(this.h[4],b)},Rn.prototype._digest=function(e){return e==="hex"?Xo.toHex32(this.h,"big"):Xo.split32(this.h,"big")};var Zo=we,Kx=fa,la=jn,Qx=lh,nn=Zo.sum32,Gx=Zo.sum32_4,Jx=Zo.sum32_5,Yx=la.ch32,Vx=la.maj32,Wx=la.s0_256,Xx=la.s1_256,Zx=la.g0_256,tR=la.g1_256,Rv=Kx.BlockHash,eR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bn(){if(!(this instanceof Bn))return new Bn;Rv.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=eR,this.W=new Array(64)}Zo.inherits(Bn,Rv);var Bv=Bn;Bn.blockSize=512,Bn.outSize=256,Bn.hmacStrength=192,Bn.padLength=64,Bn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Gx(tR(r[i-2]),r[i-7],Zx(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],f=this.h[2],v=this.h[3],b=this.h[4],A=this.h[5],S=this.h[6],_=this.h[7];for(Qx(this.k.length===r.length),i=0;i<r.length;i++){var C=Jx(_,Xx(b),Yx(b,A,S),this.k[i],r[i]),R=nn(Wx(n),Vx(n,a,f));_=S,S=A,A=b,b=nn(v,C),v=f,f=a,a=n,n=nn(C,R)}this.h[0]=nn(this.h[0],n),this.h[1]=nn(this.h[1],a),this.h[2]=nn(this.h[2],f),this.h[3]=nn(this.h[3],v),this.h[4]=nn(this.h[4],b),this.h[5]=nn(this.h[5],A),this.h[6]=nn(this.h[6],S),this.h[7]=nn(this.h[7],_)},Bn.prototype._digest=function(e){return e==="hex"?Zo.toHex32(this.h,"big"):Zo.split32(this.h,"big")};var k0=we,Pv=Bv;function ls(){if(!(this instanceof ls))return new ls;Pv.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}k0.inherits(ls,Pv);var rR=ls;ls.blockSize=512,ls.outSize=224,ls.hmacStrength=192,ls.padLength=64,ls.prototype._digest=function(e){return e==="hex"?k0.toHex32(this.h.slice(0,7),"big"):k0.split32(this.h.slice(0,7),"big")};var ei=we,iR=fa,nR=lh,zn=ei.rotr64_hi,Ln=ei.rotr64_lo,Tv=ei.shr64_hi,Ov=ei.shr64_lo,_s=ei.sum64,s0=ei.sum64_hi,o0=ei.sum64_lo,sR=ei.sum64_4_hi,oR=ei.sum64_4_lo,aR=ei.sum64_5_hi,hR=ei.sum64_5_lo,Fv=iR.BlockHash,uR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function cn(){if(!(this instanceof cn))return new cn;Fv.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=uR,this.W=new Array(160)}ei.inherits(cn,Fv);var Dv=cn;cn.blockSize=1024,cn.outSize=512,cn.hmacStrength=192,cn.padLength=128,cn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=AR(r[i-4],r[i-3]),a=bR(r[i-4],r[i-3]),f=r[i-14],v=r[i-13],b=yR(r[i-30],r[i-29]),A=wR(r[i-30],r[i-29]),S=r[i-32],_=r[i-31];r[i]=sR(n,a,f,v,b,A,S,_),r[i+1]=oR(n,a,f,v,b,A,S,_)}},cn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],f=this.h[3],v=this.h[4],b=this.h[5],A=this.h[6],S=this.h[7],_=this.h[8],C=this.h[9],R=this.h[10],F=this.h[11],H=this.h[12],k=this.h[13],Y=this.h[14],ot=this.h[15];nR(this.k.length===r.length);for(var at=0;at<r.length;at+=2){var et=Y,X=ot,Z=mR(_,C),ut=vR(_,C),nt=cR(_,C,R,F,H),Gt=fR(_,C,R,F,H,k),Zt=this.k[at],ht=this.k[at+1],Yt=r[at],o=r[at+1],c=aR(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o),d=hR(et,X,Z,ut,nt,Gt,Zt,ht,Yt,o);et=pR(i,n),X=gR(i,n),Z=lR(i,n,a,f,v),ut=dR(i,n,a,f,v,b);var g=s0(et,X,Z,ut),w=o0(et,X,Z,ut);Y=H,ot=k,H=R,k=F,R=_,F=C,_=s0(A,S,c,d),C=o0(S,S,c,d),A=v,S=b,v=a,b=f,a=i,f=n,i=s0(c,d,g,w),n=o0(c,d,g,w)}_s(this.h,0,i,n),_s(this.h,2,a,f),_s(this.h,4,v,b),_s(this.h,6,A,S),_s(this.h,8,_,C),_s(this.h,10,R,F),_s(this.h,12,H,k),_s(this.h,14,Y,ot)},cn.prototype._digest=function(e){return e==="hex"?ei.toHex32(this.h,"big"):ei.split32(this.h,"big")};function cR(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=4294967296),a}function fR(e,t,r,i,n,a){var f=t&i^~t&a;return f<0&&(f+=4294967296),f}function lR(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=4294967296),a}function dR(e,t,r,i,n,a){var f=t&i^t&a^i&a;return f<0&&(f+=4294967296),f}function pR(e,t){var r=zn(e,t,28),i=zn(t,e,2),n=zn(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function gR(e,t){var r=Ln(e,t,28),i=Ln(t,e,2),n=Ln(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function mR(e,t){var r=zn(e,t,14),i=zn(e,t,18),n=zn(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function vR(e,t){var r=Ln(e,t,14),i=Ln(e,t,18),n=Ln(t,e,9),a=r^i^n;return a<0&&(a+=4294967296),a}function yR(e,t){var r=zn(e,t,1),i=zn(e,t,8),n=Tv(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function wR(e,t){var r=Ln(e,t,1),i=Ln(e,t,8),n=Ov(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function AR(e,t){var r=zn(e,t,19),i=zn(t,e,29),n=Tv(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}function bR(e,t){var r=Ln(e,t,19),i=Ln(t,e,29),n=Ov(e,t,6),a=r^i^n;return a<0&&(a+=4294967296),a}var U0=we,kv=Dv;function ds(){if(!(this instanceof ds))return new ds;kv.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}U0.inherits(ds,kv);var ER=ds;ds.blockSize=1024,ds.outSize=384,ds.hmacStrength=192,ds.padLength=128,ds.prototype._digest=function(e){return e==="hex"?U0.toHex32(this.h.slice(0,12),"big"):U0.split32(this.h.slice(0,12),"big")},Po.sha1=jx,Po.sha224=rR,Po.sha256=Bv,Po.sha384=ER,Po.sha512=Dv;var Uv={},no=we,MR=fa,fu=no.rotl32,Fg=no.sum32,za=no.sum32_3,Dg=no.sum32_4,qv=MR.BlockHash;function In(){if(!(this instanceof In))return new In;qv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}no.inherits(In,qv),Uv.ripemd160=In,In.blockSize=512,In.outSize=160,In.hmacStrength=192,In.padLength=64,In.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],f=this.h[4],v=r,b=i,A=n,S=a,_=f,C=0;C<80;C++){var R=Fg(fu(Dg(r,kg(C,i,n,a),e[_R[C]+t],IR(C)),CR[C]),f);r=f,f=a,a=fu(n,10),n=i,i=R,R=Fg(fu(Dg(v,kg(79-C,b,A,S),e[NR[C]+t],SR(C)),xR[C]),_),v=_,_=S,S=fu(A,10),A=b,b=R}R=za(this.h[1],n,S),this.h[1]=za(this.h[2],a,_),this.h[2]=za(this.h[3],f,v),this.h[3]=za(this.h[4],r,b),this.h[4]=za(this.h[0],i,A),this.h[0]=R},In.prototype._digest=function(e){return e==="hex"?no.toHex32(this.h,"little"):no.split32(this.h,"little")};function kg(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function IR(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function SR(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var _R=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],NR=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],CR=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xR=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],RR=we,BR=lh;function Ko(e,t,r){if(!(this instanceof Ko))return new Ko(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(RR.toArray(t,r))}var PR=Ko;Ko.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),BR(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Ko.prototype.update=function(e,t){return this.inner.update(e,t),this},Ko.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=we,t.common=fa,t.sha=Po,t.ripemd=Uv,t.hmac=PR,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Mn);function da(e,t,r){return r={path:t,exports:{},require:function(i,n){return TR(i,n??r.path)}},e(r,r.exports),r.exports}function TR(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var cl=zv;function zv(e,t){if(!e)throw new Error(t||"Assertion failed")}zv.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var pn=da(function(e,t){var r=t;function i(f,v){if(Array.isArray(f))return f.slice();if(!f)return[];var b=[];if(typeof f!="string"){for(var A=0;A<f.length;A++)b[A]=f[A]|0;return b}if(v==="hex"){f=f.replace(/[^a-z0-9]+/ig,""),f.length%2!==0&&(f="0"+f);for(var A=0;A<f.length;A+=2)b.push(parseInt(f[A]+f[A+1],16))}else for(var A=0;A<f.length;A++){var S=f.charCodeAt(A),_=S>>8,C=S&255;_?b.push(_,C):b.push(C)}return b}r.toArray=i;function n(f){return f.length===1?"0"+f:f}r.zero2=n;function a(f){for(var v="",b=0;b<f.length;b++)v+=n(f[b].toString(16));return v}r.toHex=a,r.encode=function(f,v){return v==="hex"?a(f):f}}),Ei=da(function(e,t){var r=t;r.assert=cl,r.toArray=pn.toArray,r.zero2=pn.zero2,r.toHex=pn.toHex,r.encode=pn.encode;function i(b,A,S){var _=new Array(Math.max(b.bitLength(),S)+1);_.fill(0);for(var C=1<<A+1,R=b.clone(),F=0;F<_.length;F++){var H,k=R.andln(C-1);R.isOdd()?(k>(C>>1)-1?H=(C>>1)-k:H=k,R.isubn(H)):H=0,_[F]=H,R.iushrn(1)}return _}r.getNAF=i;function n(b,A){var S=[[],[]];b=b.clone(),A=A.clone();for(var _=0,C=0,R;b.cmpn(-_)>0||A.cmpn(-C)>0;){var F=b.andln(3)+_&3,H=A.andln(3)+C&3;F===3&&(F=-1),H===3&&(H=-1);var k;F&1?(R=b.andln(7)+_&7,(R===3||R===5)&&H===2?k=-F:k=F):k=0,S[0].push(k);var Y;H&1?(R=A.andln(7)+C&7,(R===3||R===5)&&F===2?Y=-H:Y=H):Y=0,S[1].push(Y),2*_===k+1&&(_=1-_),2*C===Y+1&&(C=1-C),b.iushrn(1),A.iushrn(1)}return S}r.getJSF=n;function a(b,A,S){var _="_"+A;b.prototype[A]=function(){return this[_]!==void 0?this[_]:this[_]=S.call(this)}}r.cachedProperty=a;function f(b){return typeof b=="string"?r.toArray(b,"hex"):b}r.parseBytes=f;function v(b){return new ne(b,"hex","le")}r.intFromLE=v}),lu=Ei.getNAF,OR=Ei.getJSF,Gu=Ei.assert;function Ps(e,t){this.type=e,this.p=new ne(t.p,16),this.red=t.prime?ne.red(t.prime):ne.mont(this.p),this.zero=new ne(0).toRed(this.red),this.one=new ne(1).toRed(this.red),this.two=new ne(2).toRed(this.red),this.n=t.n&&new ne(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var co=Ps;Ps.prototype.point=function(){throw new Error("Not implemented")},Ps.prototype.validate=function(){throw new Error("Not implemented")},Ps.prototype._fixedNafMul=function(e,t){Gu(e.precomputed);var r=e._getDoubles(),i=lu(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var a=[],f,v;for(f=0;f<i.length;f+=r.step){v=0;for(var b=f+r.step-1;b>=f;b--)v=(v<<1)+i[b];a.push(v)}for(var A=this.jpoint(null,null,null),S=this.jpoint(null,null,null),_=n;_>0;_--){for(f=0;f<a.length;f++)v=a[f],v===_?S=S.mixedAdd(r.points[f]):v===-_&&(S=S.mixedAdd(r.points[f].neg()));A=A.add(S)}return A.toP()},Ps.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=lu(t,r,this._bitLength),f=this.jpoint(null,null,null),v=a.length-1;v>=0;v--){for(var b=0;v>=0&&a[v]===0;v--)b++;if(v>=0&&b++,f=f.dblp(b),v<0)break;var A=a[v];Gu(A!==0),e.type==="affine"?A>0?f=f.mixedAdd(n[A-1>>1]):f=f.mixedAdd(n[-A-1>>1].neg()):A>0?f=f.add(n[A-1>>1]):f=f.add(n[-A-1>>1].neg())}return e.type==="affine"?f.toP():f},Ps.prototype._wnafMulAdd=function(e,t,r,i,n){var a=this._wnafT1,f=this._wnafT2,v=this._wnafT3,b=0,A,S,_;for(A=0;A<i;A++){_=t[A];var C=_._getNAFPoints(e);a[A]=C.wnd,f[A]=C.points}for(A=i-1;A>=1;A-=2){var R=A-1,F=A;if(a[R]!==1||a[F]!==1){v[R]=lu(r[R],a[R],this._bitLength),v[F]=lu(r[F],a[F],this._bitLength),b=Math.max(v[R].length,b),b=Math.max(v[F].length,b);continue}var H=[t[R],null,null,t[F]];t[R].y.cmp(t[F].y)===0?(H[1]=t[R].add(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg())):t[R].y.cmp(t[F].y.redNeg())===0?(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].add(t[F].neg())):(H[1]=t[R].toJ().mixedAdd(t[F]),H[2]=t[R].toJ().mixedAdd(t[F].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=OR(r[R],r[F]);for(b=Math.max(Y[0].length,b),v[R]=new Array(b),v[F]=new Array(b),S=0;S<b;S++){var ot=Y[0][S]|0,at=Y[1][S]|0;v[R][S]=k[(ot+1)*3+(at+1)],v[F][S]=0,f[R]=H}}var et=this.jpoint(null,null,null),X=this._wnafT4;for(A=b;A>=0;A--){for(var Z=0;A>=0;){var ut=!0;for(S=0;S<i;S++)X[S]=v[S][A]|0,X[S]!==0&&(ut=!1);if(!ut)break;Z++,A--}if(A>=0&&Z++,et=et.dblp(Z),A<0)break;for(S=0;S<i;S++){var nt=X[S];nt!==0&&(nt>0?_=f[S][nt-1>>1]:nt<0&&(_=f[S][-nt-1>>1].neg()),_.type==="affine"?et=et.mixedAdd(_):et=et.add(_))}}for(A=0;A<i;A++)f[A]=null;return n?et:et.toP()};function qi(e,t){this.curve=e,this.type=t,this.precomputed=null}Ps.BasePoint=qi,qi.prototype.eq=function(){throw new Error("Not implemented")},qi.prototype.validate=function(){return this.curve.validate(this)},Ps.prototype.decodePoint=function(e,t){e=Ei.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Gu(e[e.length-1]%2===0):e[0]===7&&Gu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},qi.prototype.encodeCompressed=function(e){return this.encode(e,!0)},qi.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},qi.prototype.encode=function(e,t){return Ei.encode(this._encode(t),e)},qi.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},qi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},qi.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},qi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},qi.prototype._getBeta=function(){return null},qi.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var fl=da(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),FR=Ei.assert;function Gi(e){co.call(this,"short",e),this.a=new ne(e.a,16).toRed(this.red),this.b=new ne(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fl(Gi,co);var DR=Gi;Gi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new ne(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new ne(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],FR(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new ne(f.a,16),b:new ne(f.b,16)}}):a=this._getEndoBasis(r),{beta:t,lambda:r,basis:a}}},Gi.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ne.mont(e),r=new ne(2).toRed(t).redInvm(),i=r.redNeg(),n=new ne(3).toRed(t).redNeg().redSqrt().redMul(r),a=i.redAdd(n).fromRed(),f=i.redSub(n).fromRed();return[a,f]},Gi.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new ne(1),a=new ne(0),f=new ne(0),v=new ne(1),b,A,S,_,C,R,F,H=0,k,Y;r.cmpn(0)!==0;){var ot=i.div(r);k=i.sub(ot.mul(r)),Y=f.sub(ot.mul(n));var at=v.sub(ot.mul(a));if(!S&&k.cmp(t)<0)b=F.neg(),A=n,S=k.neg(),_=Y;else if(S&&++H===2)break;F=k,i=r,r=k,f=n,n=Y,v=a,a=at}C=k.neg(),R=Y;var et=S.sqr().add(_.sqr()),X=C.sqr().add(R.sqr());return X.cmp(et)>=0&&(C=b,R=A),S.negative&&(S=S.neg(),_=_.neg()),C.negative&&(C=C.neg(),R=R.neg()),[{a:S,b:_},{a:C,b:R}]},Gi.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),f=n.mul(r.a),v=a.mul(i.a),b=n.mul(r.b),A=a.mul(i.b),S=e.sub(f).sub(v),_=b.add(A).neg();return{k1:S,k2:_}},Gi.prototype.pointFromX=function(e,t){e=new ne(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Gi.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Gi.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(t[a]),v=e[a],b=v._getBeta();f.k1.negative&&(f.k1.ineg(),v=v.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),i[a*2]=v,i[a*2+1]=b,n[a*2]=f.k1,n[a*2+1]=f.k2}for(var A=this._wnafMulAdd(1,i,n,a*2,r),S=0;S<a*2;S++)i[S]=null,n[S]=null;return A};function pr(e,t,r,i){co.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ne(t,16),this.y=new ne(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fl(pr,co.BasePoint),Gi.prototype.point=function(e,t,r){return new pr(this,e,t,r)},Gi.prototype.pointFromJSON=function(e,t){return pr.fromJSON(this,e,t)},pr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},pr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},pr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(f){return e.point(f[0],f[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},pr.prototype.isInfinity=function(){return this.inf},pr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},pr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),f=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)},pr.prototype.getX=function(){return this.x.fromRed()},pr.prototype.getY=function(){return this.y.fromRed()},pr.prototype.mul=function(e){return e=new ne(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},pr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},pr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},pr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},pr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},pr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function wr(e,t,r,i){co.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ne(0)):(this.x=new ne(t,16),this.y=new ne(r,16),this.z=new ne(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fl(wr,co.BasePoint),Gi.prototype.jpoint=function(e,t,r){return new wr(this,e,t,r)},wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),f=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),b=a.redSub(f);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=v.redSqr(),S=A.redMul(v),_=i.redMul(A),C=b.redSqr().redIAdd(S).redISub(_).redISub(_),R=b.redMul(_.redISub(C)).redISub(a.redMul(S)),F=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(C,R,F)},wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),f=r.redSub(i),v=n.redSub(a);if(f.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),A=b.redMul(f),S=r.redMul(b),_=v.redSqr().redIAdd(A).redISub(S).redISub(S),C=v.redMul(S.redISub(_)).redISub(n.redMul(A)),R=this.z.redMul(f);return this.curve.jpoint(_,C,R)},wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,f=this.y,v=this.z,b=v.redSqr().redSqr(),A=f.redAdd(f);for(t=0;t<e;t++){var S=a.redSqr(),_=A.redSqr(),C=_.redSqr(),R=S.redAdd(S).redIAdd(S).redIAdd(i.redMul(b)),F=a.redMul(_),H=R.redSqr().redISub(F.redAdd(F)),k=F.redISub(H),Y=R.redMul(k);Y=Y.redIAdd(Y).redISub(C);var ot=A.redMul(v);t+1<e&&(b=b.redMul(C)),a=H,v=ot,A=Y}return this.curve.jpoint(a,A.redMul(n),v)},wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},wr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i),b=v.redSqr().redISub(f).redISub(f),A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),e=b,t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),_=this.y.redSqr(),C=_.redSqr(),R=this.x.redAdd(_).redSqr().redISub(S).redISub(C);R=R.redIAdd(R);var F=S.redAdd(S).redIAdd(S),H=F.redSqr(),k=C.redIAdd(C);k=k.redIAdd(k),k=k.redIAdd(k),e=H.redISub(R).redISub(R),t=F.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},wr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),f=this.x.redAdd(n).redSqr().redISub(i).redISub(a);f=f.redIAdd(f);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=v.redSqr().redISub(f).redISub(f);e=b;var A=a.redIAdd(a);A=A.redIAdd(A),A=A.redIAdd(A),t=v.redMul(f.redISub(b)).redISub(A),r=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),_=this.y.redSqr(),C=this.x.redMul(_),R=this.x.redSub(S).redMul(this.x.redAdd(S));R=R.redAdd(R).redIAdd(R);var F=C.redIAdd(C);F=F.redIAdd(F);var H=F.redAdd(F);e=R.redSqr().redISub(H),r=this.y.redAdd(this.z).redSqr().redISub(_).redISub(S);var k=_.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(F.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),f=r.redSqr(),v=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),b=t.redAdd(t);b=b.redIAdd(b);var A=b.redMul(f),S=v.redSqr().redISub(A.redAdd(A)),_=A.redISub(S),C=f.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=v.redMul(_).redISub(C),F=r.redAdd(r).redMul(i);return this.curve.jpoint(S,R,F)},wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),f=this.x.redAdd(t).redSqr().redISub(e).redISub(i);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var v=f.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=n.redIAdd(f).redSqr().redISub(a).redISub(v).redISub(b),S=t.redMul(A);S=S.redIAdd(S),S=S.redIAdd(S);var _=this.x.redMul(v).redISub(S);_=_.redIAdd(_),_=_.redIAdd(_);var C=this.y.redMul(A.redMul(b.redISub(A)).redISub(f.redMul(v)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=this.z.redAdd(f).redSqr().redISub(r).redISub(v);return this.curve.jpoint(_,C,R)},wr.prototype.mul=function(e,t){return e=new ne(e,t),this.curve._wnafMul(this,e)},wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Bu=da(function(e,t){var r=t;r.base=co,r.short=DR,r.mont=null,r.edwards=null}),Pu=da(function(e,t){var r=t,i=Ei.assert;function n(v){v.type==="short"?this.curve=new Bu.short(v):v.type==="edwards"?this.curve=new Bu.edwards(v):this.curve=new Bu.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function a(v,b){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var A=new n(b);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:A}),A}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Mn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Mn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Mn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Mn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Mn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mn.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=null.crash()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Mn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})});function Ts(e){if(!(this instanceof Ts))return new Ts(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=pn.toArray(e.entropy,e.entropyEnc||"hex"),r=pn.toArray(e.nonce,e.nonceEnc||"hex"),i=pn.toArray(e.pers,e.persEnc||"hex");cl(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Ug=Ts;Ts.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Ts.prototype._hmac=function(){return new Mn.hmac(this.hash,this.K)},Ts.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ts.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=pn.toArray(e,t),r=pn.toArray(r,i),cl(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Ts.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=pn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,pn.encode(a,t)};var a0=Ei.assert;function Rr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var h0=Rr;Rr.fromPublic=function(e,t,r){return t instanceof Rr?t:new Rr(e,{pub:t,pubEnc:r})},Rr.fromPrivate=function(e,t,r){return t instanceof Rr?t:new Rr(e,{priv:t,privEnc:r})},Rr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Rr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Rr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},Rr.prototype._importPrivate=function(e,t){this.priv=new ne(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Rr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?a0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&a0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},Rr.prototype.derive=function(e){return e.validate()||a0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Rr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Rr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Rr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kR=Ei.assert;function ic(e,t){if(e instanceof ic)return e;this._importDER(e,t)||(kR(e.r&&e.s,"Signature without r or s"),this.r=new ne(e.r,16),this.s=new ne(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var du=ic;function UR(){this.place=0}function u0(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,f=t.place;a<i;a++,f++)n<<=8,n|=e[f],n>>>=0;return n<=127?!1:(t.place=f,n)}function qg(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ic.prototype._importDER=function(e,t){e=Ei.toArray(e,t);var r=new UR;if(e[r.place++]!==48)return!1;var i=u0(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=u0(e,r);if(n===!1)return!1;var a=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var f=u0(e,r);if(f===!1||e.length!==f+r.place)return!1;var v=e.slice(r.place,f+r.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new ne(a),this.s=new ne(v),this.recoveryParam=null,!0};function c0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ic.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=qg(t),r=qg(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];c0(i,t.length),i=i.concat(t),i.push(2),c0(i,r.length);var n=i.concat(r),a=[48];return c0(a,n.length),a=a.concat(n),Ei.encode(a,e)};var qR=function(){throw new Error("unsupported")},Lv=Ei.assert;function $i(e){if(!(this instanceof $i))return new $i(e);typeof e=="string"&&(Lv(Object.prototype.hasOwnProperty.call(Pu,e),"Unknown curve "+e),e=Pu[e]),e instanceof Pu.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var zR=$i;$i.prototype.keyPair=function(e){return new h0(this,e)},$i.prototype.keyFromPrivate=function(e,t){return h0.fromPrivate(this,e,t)},$i.prototype.keyFromPublic=function(e,t){return h0.fromPublic(this,e,t)},$i.prototype.genKeyPair=function(e){e||(e={});for(var t=new Ug({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||qR(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ne(2));;){var n=new ne(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},$i.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},$i.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ne(e,16));for(var n=this.n.byteLength(),a=t.getPrivate().toArray("be",n),f=e.toArray("be",n),v=new Ug({hash:this.hash,entropy:a,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new ne(1)),A=0;;A++){var S=i.k?i.k(A):new ne(v.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(b)>=0)){var _=this.g.mul(S);if(!_.isInfinity()){var C=_.getX(),R=C.umod(this.n);if(R.cmpn(0)!==0){var F=S.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(F=F.umod(this.n),F.cmpn(0)!==0){var H=(_.getY().isOdd()?1:0)|(C.cmp(R)!==0?2:0);return i.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),H^=1),new du({r:R,s:F,recoveryParam:H})}}}}}},$i.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ne(e,16)),r=this.keyFromPublic(r,i),t=new du(t,"hex");var n=t.r,a=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),v=f.mul(e).umod(this.n),b=f.mul(n).umod(this.n),A;return this.curve._maxwellTrick?(A=this.g.jmulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.eqXToP(n)):(A=this.g.mulAdd(v,r.getPublic(),b),A.isInfinity()?!1:A.getX().umod(this.n).cmp(n)===0)},$i.prototype.recoverPubKey=function(e,t,r,i){Lv((3&r)===r,"The recovery param is more than two bits"),t=new du(t,i);var n=this.n,a=new ne(e),f=t.r,v=t.s,b=r&1,A=r>>1;if(f.cmp(this.curve.p.umod(this.curve.n))>=0&&A)throw new Error("Unable to find sencond key candinate");A?f=this.curve.pointFromX(f.add(this.curve.n),b):f=this.curve.pointFromX(f,b);var S=t.r.invm(n),_=n.sub(a).mul(S).umod(n),C=v.mul(S).umod(n);return this.g.mulAdd(_,f,C)},$i.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new du(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(e,t,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var LR=da(function(e,t){var r=t;r.version="6.5.4",r.utils=Ei,r.rand=function(){throw new Error("unsupported")},r.curve=Bu,r.curves=Pu,r.ec=zR,r.eddsa=null});LR.ec;const HR="signing-key/5.7.0";new he(HR);const $R="transactions/5.7.0";new he($R);var zg;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(zg||(zg={}));function ll(e){return e.includes(":")}function $a(e){return ll(e)?e.split(":")[0]:e}const jR={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Lg(e,t){const{message:r,code:i}=jR[e];return{message:t?`${r} ${t}`:r,code:i}}function Hg(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function KR(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}var q0={exports:{}};(function(e,t){var r=typeof self<"u"?self:h4,i=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(f){var v={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function b(c){return c&&DataView.prototype.isPrototypeOf(c)}if(v.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(c){return c&&A.indexOf(Object.prototype.toString.call(c))>-1};function _(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(c))throw new TypeError("Invalid character in header field name");return c.toLowerCase()}function C(c){return typeof c!="string"&&(c=String(c)),c}function R(c){var d={next:function(){var g=c.shift();return{done:g===void 0,value:g}}};return v.iterable&&(d[Symbol.iterator]=function(){return d}),d}function F(c){this.map={},c instanceof F?c.forEach(function(d,g){this.append(g,d)},this):Array.isArray(c)?c.forEach(function(d){this.append(d[0],d[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(d){this.append(d,c[d])},this)}F.prototype.append=function(c,d){c=_(c),d=C(d);var g=this.map[c];this.map[c]=g?g+", "+d:d},F.prototype.delete=function(c){delete this.map[_(c)]},F.prototype.get=function(c){return c=_(c),this.has(c)?this.map[c]:null},F.prototype.has=function(c){return this.map.hasOwnProperty(_(c))},F.prototype.set=function(c,d){this.map[_(c)]=C(d)},F.prototype.forEach=function(c,d){for(var g in this.map)this.map.hasOwnProperty(g)&&c.call(d,this.map[g],g,this)},F.prototype.keys=function(){var c=[];return this.forEach(function(d,g){c.push(g)}),R(c)},F.prototype.values=function(){var c=[];return this.forEach(function(d){c.push(d)}),R(c)},F.prototype.entries=function(){var c=[];return this.forEach(function(d,g){c.push([g,d])}),R(c)},v.iterable&&(F.prototype[Symbol.iterator]=F.prototype.entries);function H(c){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}function k(c){return new Promise(function(d,g){c.onload=function(){d(c.result)},c.onerror=function(){g(c.error)}})}function Y(c){var d=new FileReader,g=k(d);return d.readAsArrayBuffer(c),g}function ot(c){var d=new FileReader,g=k(d);return d.readAsText(c),g}function at(c){for(var d=new Uint8Array(c),g=new Array(d.length),w=0;w<d.length;w++)g[w]=String.fromCharCode(d[w]);return g.join("")}function et(c){if(c.slice)return c.slice(0);var d=new Uint8Array(c.byteLength);return d.set(new Uint8Array(c)),d.buffer}function X(){return this.bodyUsed=!1,this._initBody=function(c){this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:v.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:v.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:v.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():v.arrayBuffer&&v.blob&&b(c)?(this._bodyArrayBuffer=et(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||S(c))?this._bodyArrayBuffer=et(c):this._bodyText=c=Object.prototype.toString.call(c):this._bodyText="",this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var c=H(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?H(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Y)}),this.text=function(){var c=H(this);if(c)return c;if(this._bodyBlob)return ot(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(at(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(Gt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ut(c){var d=c.toUpperCase();return Z.indexOf(d)>-1?d:c}function nt(c,d){d=d||{};var g=d.body;if(c instanceof nt){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,d.headers||(this.headers=new F(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!g&&c._bodyInit!=null&&(g=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new F(d.headers)),this.method=ut(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(g)}nt.prototype.clone=function(){return new nt(this,{body:this._bodyInit})};function Gt(c){var d=new FormData;return c.trim().split("&").forEach(function(g){if(g){var w=g.split("="),E=w.shift().replace(/\+/g," "),I=w.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(I))}}),d}function Zt(c){var d=new F,g=c.replace(/\r?\n[\t ]+/g," ");return g.split(/\r?\n/).forEach(function(w){var E=w.split(":"),I=E.shift().trim();if(I){var y=E.join(":").trim();d.append(I,y)}}),d}X.call(nt.prototype);function ht(c,d){d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new F(d.headers),this.url=d.url||"",this._initBody(c)}X.call(ht.prototype),ht.prototype.clone=function(){return new ht(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new F(this.headers),url:this.url})},ht.error=function(){var c=new ht(null,{status:0,statusText:""});return c.type="error",c};var Yt=[301,302,303,307,308];ht.redirect=function(c,d){if(Yt.indexOf(d)===-1)throw new RangeError("Invalid status code");return new ht(null,{status:d,headers:{location:c}})},f.DOMException=a.DOMException;try{new f.DOMException}catch{f.DOMException=function(d,g){this.message=d,this.name=g;var w=Error(d);this.stack=w.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function o(c,d){return new Promise(function(g,w){var E=new nt(c,d);if(E.signal&&E.signal.aborted)return w(new f.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function y(){I.abort()}I.onload=function(){var h={status:I.status,statusText:I.statusText,headers:Zt(I.getAllResponseHeaders()||"")};h.url="responseURL"in I?I.responseURL:h.headers.get("X-Request-URL");var m="response"in I?I.response:I.responseText;g(new ht(m,h))},I.onerror=function(){w(new TypeError("Network request failed"))},I.ontimeout=function(){w(new TypeError("Network request failed"))},I.onabort=function(){w(new f.DOMException("Aborted","AbortError"))},I.open(E.method,E.url,!0),E.credentials==="include"?I.withCredentials=!0:E.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&v.blob&&(I.responseType="blob"),E.headers.forEach(function(h,m){I.setRequestHeader(m,h)}),E.signal&&(E.signal.addEventListener("abort",y),I.onreadystatechange=function(){I.readyState===4&&E.signal.removeEventListener("abort",y)}),I.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return o.polyfill=!0,a.fetch||(a.fetch=o,a.Headers=F,a.Request=nt,a.Response=ht),f.Headers=F,f.Request=nt,f.Response=ht,f.fetch=o,Object.defineProperty(f,"__esModule",{value:!0}),f})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t})(q0,q0.exports);const $g=u4(q0.exports);var QR=Object.defineProperty,GR=Object.defineProperties,JR=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,YR=Object.prototype.hasOwnProperty,VR=Object.prototype.propertyIsEnumerable,Kg=(e,t,r)=>t in e?QR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qg=(e,t)=>{for(var r in t||(t={}))YR.call(t,r)&&Kg(e,r,t[r]);if(jg)for(var r of jg(t))VR.call(t,r)&&Kg(e,r,t[r]);return e},Gg=(e,t)=>GR(e,JR(t));const WR={Accept:"application/json","Content-Type":"application/json"},XR="POST",Jg={headers:WR,method:XR},Yg=10;class zs{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Lr.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!z1(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=Va(t),i=await(await $g(this.url,Gg(Qg({},Jg),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!z1(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),n(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=Va({id:1,jsonrpc:"2.0",method:"test",params:[]});await $g(t,Gg(Qg({},Jg),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?Yu(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),a=Q0(t,n);this.events.emit("payload",a)}parseError(t,r=this.url){return c4(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Yg&&this.events.setMaxListeners(Yg)}}class Ls extends lm{constructor(t){super(t),this.events=new Lr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(eo(t.method,t.params||[],t.id||Os().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(a){n(a)}this.events.on(`${t.id}`,a=>{ji(a)?n(a.error):i(a.result)});try{await this.connection.send(t,r)}catch(a){n(a)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ih(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Vg="error",ZR="wss://relay.walletconnect.com",tB="wc",eB="universal_provider",Wg=`${tB}@2:${eB}:`,rB="https://rpc.walletconnect.com/v1/",ps={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie<"u"?Ie:typeof self<"u"?self:{},z0={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",n=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",v="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",A=500,S="__lodash_placeholder__",_=1,C=2,R=4,F=1,H=2,k=1,Y=2,ot=4,at=8,et=16,X=32,Z=64,ut=128,nt=256,Gt=512,Zt=30,ht="...",Yt=800,o=16,c=1,d=2,g=3,w=1/0,E=9007199254740991,I=17976931348623157e292,y=0/0,h=4294967295,m=h-1,J=h>>>1,Q=[["ary",ut],["bind",k],["bindKey",Y],["curry",at],["curryRight",et],["flip",Gt],["partial",X],["partialRight",Z],["rearg",nt]],l="[object Arguments]",B="[object Array]",x="[object AsyncFunction]",T="[object Boolean]",$="[object Date]",U="[object DOMException]",z="[object Error]",G="[object Function]",W="[object GeneratorFunction]",q="[object Map]",lt="[object Number]",Ct="[object Null]",ct="[object Object]",Ue="[object Promise]",xt="[object Proxy]",dt="[object RegExp]",Ae="[object Set]",pt="[object String]",mt="[object Symbol]",Ke="[object Undefined]",gt="[object WeakMap]",Rt="[object WeakSet]",Se="[object ArrayBuffer]",ft="[object DataView]",vt="[object Float32Array]",Te="[object Float64Array]",yt="[object Int8Array]",wt="[object Int16Array]",Oe="[object Int32Array]",At="[object Uint8Array]",bt="[object Uint8ClampedArray]",Fe="[object Uint16Array]",Et="[object Uint32Array]",Bt=/\b__p \+= '';/g,Qe=/\b(__p \+=) '' \+/g,Pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,qe=/[&<>"']/g,Tt=RegExp(St.source),Ot=RegExp(qe.source),Ge=/<%-([\s\S]+?)%>/g,Ft=/<%([\s\S]+?)%>/g,_t=/<%=([\s\S]+?)%>/g,Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Ut=RegExp(De.source),Mt=/^\s+/,Ye=/\s/,qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ve=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,We=/\\(\\)?/g,$t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Ne=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,xe=/^\[object .+?Constructor\]$/,Re=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Pe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ir=/($^)/,ii=/['\n\r\u2028\u2029\\]/g,Sr="\\ud800-\\udfff",ni="\\u0300-\\u036f",si="\\ufe20-\\ufe2f",oi="\\u20d0-\\u20ff",Hr=ni+si+oi,$r="\\u2700-\\u27bf",jr="a-z\\xdf-\\xf6\\xf8-\\xff",ai="\\xac\\xb1\\xd7\\xf7",hi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ui="\\u2000-\\u206f",ci=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gl="A-Z\\xc0-\\xd6\\xd8-\\xde",ml="\\ufe0e\\ufe0f",vl=ai+hi+ui+ci,nc="['\u2019]",jv="["+Sr+"]",yl="["+vl+"]",dh="["+Hr+"]",wl="\\d+",Kv="["+$r+"]",Al="["+jr+"]",bl="[^"+Sr+vl+wl+$r+jr+gl+"]",sc="\\ud83c[\\udffb-\\udfff]",Qv="(?:"+dh+"|"+sc+")",El="[^"+Sr+"]",oc="(?:\\ud83c[\\udde6-\\uddff]){2}",ac="[\\ud800-\\udbff][\\udc00-\\udfff]",lo="["+gl+"]",Ml="\\u200d",Il="(?:"+Al+"|"+bl+")",Gv="(?:"+lo+"|"+bl+")",Sl="(?:"+nc+"(?:d|ll|m|re|s|t|ve))?",_l="(?:"+nc+"(?:D|LL|M|RE|S|T|VE))?",Nl=Qv+"?",Cl="["+ml+"]?",Jv="(?:"+Ml+"(?:"+[El,oc,ac].join("|")+")"+Cl+Nl+")*",Yv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xl=Cl+Nl+Jv,Wv="(?:"+[Kv,oc,ac].join("|")+")"+xl,Xv="(?:"+[El+dh+"?",dh,oc,ac,jv].join("|")+")",Zv=RegExp(nc,"g"),t3=RegExp(dh,"g"),hc=RegExp(sc+"(?="+sc+")|"+Xv+xl,"g"),e3=RegExp([lo+"?"+Al+"+"+Sl+"(?="+[yl,lo,"$"].join("|")+")",Gv+"+"+_l+"(?="+[yl,lo+Il,"$"].join("|")+")",lo+"?"+Il+"+"+Sl,lo+"+"+_l,Vv,Yv,wl,Wv].join("|"),"g"),r3=RegExp("["+Ml+Sr+Hr+ml+"]"),i3=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,n3=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],s3=-1,Xe={};Xe[vt]=Xe[Te]=Xe[yt]=Xe[wt]=Xe[Oe]=Xe[At]=Xe[bt]=Xe[Fe]=Xe[Et]=!0,Xe[l]=Xe[B]=Xe[Se]=Xe[T]=Xe[ft]=Xe[$]=Xe[z]=Xe[G]=Xe[q]=Xe[lt]=Xe[ct]=Xe[dt]=Xe[Ae]=Xe[pt]=Xe[gt]=!1;var ze={};ze[l]=ze[B]=ze[Se]=ze[ft]=ze[T]=ze[$]=ze[vt]=ze[Te]=ze[yt]=ze[wt]=ze[Oe]=ze[q]=ze[lt]=ze[ct]=ze[dt]=ze[Ae]=ze[pt]=ze[mt]=ze[At]=ze[bt]=ze[Fe]=ze[Et]=!0,ze[z]=ze[G]=ze[gt]=!1;var o3={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},a3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},c3=parseFloat,f3=parseInt,Rl=typeof La=="object"&&La&&La.Object===Object&&La,l3=typeof self=="object"&&self&&self.Object===Object&&self,gr=Rl||l3||Function("return this")(),uc=t&&!t.nodeType&&t,Hs=uc&&!0&&e&&!e.nodeType&&e,Bl=Hs&&Hs.exports===uc,cc=Bl&&Rl.process,Ii=function(){try{var j=Hs&&Hs.require&&Hs.require("util").types;return j||cc&&cc.binding&&cc.binding("util")}catch{}}(),Pl=Ii&&Ii.isArrayBuffer,Tl=Ii&&Ii.isDate,Ol=Ii&&Ii.isMap,Fl=Ii&&Ii.isRegExp,Dl=Ii&&Ii.isSet,kl=Ii&&Ii.isTypedArray;function fi(j,tt,V){switch(V.length){case 0:return j.call(tt);case 1:return j.call(tt,V[0]);case 2:return j.call(tt,V[0],V[1]);case 3:return j.call(tt,V[0],V[1],V[2])}return j.apply(tt,V)}function d3(j,tt,V,Kt){for(var te=-1,Ee=j==null?0:j.length;++te<Ee;){var hr=j[te];tt(Kt,hr,V(hr),j)}return Kt}function Si(j,tt){for(var V=-1,Kt=j==null?0:j.length;++V<Kt&&tt(j[V],V,j)!==!1;);return j}function p3(j,tt){for(var V=j==null?0:j.length;V--&&tt(j[V],V,j)!==!1;);return j}function Ul(j,tt){for(var V=-1,Kt=j==null?0:j.length;++V<Kt;)if(!tt(j[V],V,j))return!1;return!0}function gs(j,tt){for(var V=-1,Kt=j==null?0:j.length,te=0,Ee=[];++V<Kt;){var hr=j[V];tt(hr,V,j)&&(Ee[te++]=hr)}return Ee}function ph(j,tt){var V=j==null?0:j.length;return!!V&&po(j,tt,0)>-1}function fc(j,tt,V){for(var Kt=-1,te=j==null?0:j.length;++Kt<te;)if(V(tt,j[Kt]))return!0;return!1}function Ze(j,tt){for(var V=-1,Kt=j==null?0:j.length,te=Array(Kt);++V<Kt;)te[V]=tt(j[V],V,j);return te}function ms(j,tt){for(var V=-1,Kt=tt.length,te=j.length;++V<Kt;)j[te+V]=tt[V];return j}function lc(j,tt,V,Kt){var te=-1,Ee=j==null?0:j.length;for(Kt&&Ee&&(V=j[++te]);++te<Ee;)V=tt(V,j[te],te,j);return V}function g3(j,tt,V,Kt){var te=j==null?0:j.length;for(Kt&&te&&(V=j[--te]);te--;)V=tt(V,j[te],te,j);return V}function dc(j,tt){for(var V=-1,Kt=j==null?0:j.length;++V<Kt;)if(tt(j[V],V,j))return!0;return!1}var m3=pc("length");function v3(j){return j.split("")}function y3(j){return j.match(Lt)||[]}function ql(j,tt,V){var Kt;return V(j,function(te,Ee,hr){if(tt(te,Ee,hr))return Kt=Ee,!1}),Kt}function gh(j,tt,V,Kt){for(var te=j.length,Ee=V+(Kt?1:-1);Kt?Ee--:++Ee<te;)if(tt(j[Ee],Ee,j))return Ee;return-1}function po(j,tt,V){return tt===tt?R3(j,tt,V):gh(j,zl,V)}function w3(j,tt,V,Kt){for(var te=V-1,Ee=j.length;++te<Ee;)if(Kt(j[te],tt))return te;return-1}function zl(j){return j!==j}function Ll(j,tt){var V=j==null?0:j.length;return V?mc(j,tt)/V:y}function pc(j){return function(tt){return tt==null?r:tt[j]}}function gc(j){return function(tt){return j==null?r:j[tt]}}function Hl(j,tt,V,Kt,te){return te(j,function(Ee,hr,ke){V=Kt?(Kt=!1,Ee):tt(V,Ee,hr,ke)}),V}function A3(j,tt){var V=j.length;for(j.sort(tt);V--;)j[V]=j[V].value;return j}function mc(j,tt){for(var V,Kt=-1,te=j.length;++Kt<te;){var Ee=tt(j[Kt]);Ee!==r&&(V=V===r?Ee:V+Ee)}return V}function vc(j,tt){for(var V=-1,Kt=Array(j);++V<j;)Kt[V]=tt(V);return Kt}function b3(j,tt){return Ze(tt,function(V){return[V,j[V]]})}function $l(j){return j&&j.slice(0,Gl(j)+1).replace(Mt,"")}function li(j){return function(tt){return j(tt)}}function yc(j,tt){return Ze(tt,function(V){return j[V]})}function pa(j,tt){return j.has(tt)}function jl(j,tt){for(var V=-1,Kt=j.length;++V<Kt&&po(tt,j[V],0)>-1;);return V}function Kl(j,tt){for(var V=j.length;V--&&po(tt,j[V],0)>-1;);return V}function E3(j,tt){for(var V=j.length,Kt=0;V--;)j[V]===tt&&++Kt;return Kt}var M3=gc(o3),I3=gc(a3);function S3(j){return"\\"+u3[j]}function _3(j,tt){return j==null?r:j[tt]}function go(j){return r3.test(j)}function N3(j){return i3.test(j)}function C3(j){for(var tt,V=[];!(tt=j.next()).done;)V.push(tt.value);return V}function wc(j){var tt=-1,V=Array(j.size);return j.forEach(function(Kt,te){V[++tt]=[te,Kt]}),V}function Ql(j,tt){return function(V){return j(tt(V))}}function vs(j,tt){for(var V=-1,Kt=j.length,te=0,Ee=[];++V<Kt;){var hr=j[V];(hr===tt||hr===S)&&(j[V]=S,Ee[te++]=V)}return Ee}function mh(j){var tt=-1,V=Array(j.size);return j.forEach(function(Kt){V[++tt]=Kt}),V}function x3(j){var tt=-1,V=Array(j.size);return j.forEach(function(Kt){V[++tt]=[Kt,Kt]}),V}function R3(j,tt,V){for(var Kt=V-1,te=j.length;++Kt<te;)if(j[Kt]===tt)return Kt;return-1}function B3(j,tt,V){for(var Kt=V+1;Kt--;)if(j[Kt]===tt)return Kt;return Kt}function mo(j){return go(j)?T3(j):m3(j)}function Vi(j){return go(j)?O3(j):v3(j)}function Gl(j){for(var tt=j.length;tt--&&Ye.test(j.charAt(tt)););return tt}var P3=gc(h3);function T3(j){for(var tt=hc.lastIndex=0;hc.test(j);)++tt;return tt}function O3(j){return j.match(hc)||[]}function F3(j){return j.match(e3)||[]}var D3=function j(tt){tt=tt==null?gr:vo.defaults(gr.Object(),tt,vo.pick(gr,n3));var V=tt.Array,Kt=tt.Date,te=tt.Error,Ee=tt.Function,hr=tt.Math,ke=tt.Object,Ac=tt.RegExp,k3=tt.String,_i=tt.TypeError,vh=V.prototype,U3=Ee.prototype,yo=ke.prototype,yh=tt["__core-js_shared__"],wh=U3.toString,_e=yo.hasOwnProperty,q3=0,Jl=function(){var s=/[^.]+$/.exec(yh&&yh.keys&&yh.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Ah=yo.toString,z3=wh.call(ke),L3=gr._,H3=Ac("^"+wh.call(_e).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bh=Bl?tt.Buffer:r,ys=tt.Symbol,Eh=tt.Uint8Array,Yl=bh?bh.allocUnsafe:r,Mh=Ql(ke.getPrototypeOf,ke),Vl=ke.create,Wl=yo.propertyIsEnumerable,Ih=vh.splice,Xl=ys?ys.isConcatSpreadable:r,ga=ys?ys.iterator:r,$s=ys?ys.toStringTag:r,Sh=function(){try{var s=Js(ke,"defineProperty");return s({},"",{}),s}catch{}}(),$3=tt.clearTimeout!==gr.clearTimeout&&tt.clearTimeout,j3=Kt&&Kt.now!==gr.Date.now&&Kt.now,K3=tt.setTimeout!==gr.setTimeout&&tt.setTimeout,_h=hr.ceil,Nh=hr.floor,bc=ke.getOwnPropertySymbols,Q3=bh?bh.isBuffer:r,Zl=tt.isFinite,G3=vh.join,J3=Ql(ke.keys,ke),ur=hr.max,_r=hr.min,Y3=Kt.now,V3=tt.parseInt,td=hr.random,W3=vh.reverse,Ec=Js(tt,"DataView"),ma=Js(tt,"Map"),Mc=Js(tt,"Promise"),wo=Js(tt,"Set"),va=Js(tt,"WeakMap"),ya=Js(ke,"create"),Ch=va&&new va,Ao={},X3=Ys(Ec),Z3=Ys(ma),ty=Ys(Mc),ey=Ys(wo),ry=Ys(va),xh=ys?ys.prototype:r,wa=xh?xh.valueOf:r,ed=xh?xh.toString:r;function P(s){if(rr(s)&&!ee(s)&&!(s instanceof de)){if(s instanceof Ni)return s;if(_e.call(s,"__wrapped__"))return r1(s)}return new Ni(s)}var bo=function(){function s(){}return function(u){if(!er(u))return{};if(Vl)return Vl(u);s.prototype=u;var p=new s;return s.prototype=r,p}}();function Rh(){}function Ni(s,u){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=r}P.templateSettings={escape:Ge,evaluate:Ft,interpolate:_t,variable:"",imports:{_:P}},P.prototype=Rh.prototype,P.prototype.constructor=P,Ni.prototype=bo(Rh.prototype),Ni.prototype.constructor=Ni;function de(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function iy(){var s=new de(this.__wrapped__);return s.__actions__=Kr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Kr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Kr(this.__views__),s}function ny(){if(this.__filtered__){var s=new de(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function sy(){var s=this.__wrapped__.value(),u=this.__dir__,p=ee(s),M=u<0,N=p?s.length:0,O=vw(0,N,this.__views__),D=O.start,L=O.end,K=L-D,rt=M?L:D-1,it=this.__iteratees__,st=it.length,jt=0,Jt=_r(K,this.__takeCount__);if(!p||!M&&N==K&&Jt==K)return Sd(s,this.__actions__);var Wt=[];t:for(;K--&&jt<Jt;){rt+=u;for(var ue=-1,Xt=s[rt];++ue<st;){var fe=it[ue],be=fe.iteratee,gi=fe.type,Or=be(Xt);if(gi==d)Xt=Or;else if(!Or){if(gi==c)continue t;break t}}Wt[jt++]=Xt}return Wt}de.prototype=bo(Rh.prototype),de.prototype.constructor=de;function js(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var M=s[u];this.set(M[0],M[1])}}function oy(){this.__data__=ya?ya(null):{},this.size=0}function ay(s){var u=this.has(s)&&delete this.__data__[s];return this.size-=u?1:0,u}function hy(s){var u=this.__data__;if(ya){var p=u[s];return p===b?r:p}return _e.call(u,s)?u[s]:r}function uy(s){var u=this.__data__;return ya?u[s]!==r:_e.call(u,s)}function cy(s,u){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=ya&&u===r?b:u,this}js.prototype.clear=oy,js.prototype.delete=ay,js.prototype.get=hy,js.prototype.has=uy,js.prototype.set=cy;function Kn(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var M=s[u];this.set(M[0],M[1])}}function fy(){this.__data__=[],this.size=0}function ly(s){var u=this.__data__,p=Bh(u,s);if(p<0)return!1;var M=u.length-1;return p==M?u.pop():Ih.call(u,p,1),--this.size,!0}function dy(s){var u=this.__data__,p=Bh(u,s);return p<0?r:u[p][1]}function py(s){return Bh(this.__data__,s)>-1}function gy(s,u){var p=this.__data__,M=Bh(p,s);return M<0?(++this.size,p.push([s,u])):p[M][1]=u,this}Kn.prototype.clear=fy,Kn.prototype.delete=ly,Kn.prototype.get=dy,Kn.prototype.has=py,Kn.prototype.set=gy;function Qn(s){var u=-1,p=s==null?0:s.length;for(this.clear();++u<p;){var M=s[u];this.set(M[0],M[1])}}function my(){this.size=0,this.__data__={hash:new js,map:new(ma||Kn),string:new js}}function vy(s){var u=$h(this,s).delete(s);return this.size-=u?1:0,u}function yy(s){return $h(this,s).get(s)}function wy(s){return $h(this,s).has(s)}function Ay(s,u){var p=$h(this,s),M=p.size;return p.set(s,u),this.size+=p.size==M?0:1,this}Qn.prototype.clear=my,Qn.prototype.delete=vy,Qn.prototype.get=yy,Qn.prototype.has=wy,Qn.prototype.set=Ay;function Ks(s){var u=-1,p=s==null?0:s.length;for(this.__data__=new Qn;++u<p;)this.add(s[u])}function by(s){return this.__data__.set(s,b),this}function Ey(s){return this.__data__.has(s)}Ks.prototype.add=Ks.prototype.push=by,Ks.prototype.has=Ey;function Wi(s){var u=this.__data__=new Kn(s);this.size=u.size}function My(){this.__data__=new Kn,this.size=0}function Iy(s){var u=this.__data__,p=u.delete(s);return this.size=u.size,p}function Sy(s){return this.__data__.get(s)}function _y(s){return this.__data__.has(s)}function Ny(s,u){var p=this.__data__;if(p instanceof Kn){var M=p.__data__;if(!ma||M.length<n-1)return M.push([s,u]),this.size=++p.size,this;p=this.__data__=new Qn(M)}return p.set(s,u),this.size=p.size,this}Wi.prototype.clear=My,Wi.prototype.delete=Iy,Wi.prototype.get=Sy,Wi.prototype.has=_y,Wi.prototype.set=Ny;function rd(s,u){var p=ee(s),M=!p&&Vs(s),N=!p&&!M&&Ms(s),O=!p&&!M&&!N&&So(s),D=p||M||N||O,L=D?vc(s.length,k3):[],K=L.length;for(var rt in s)(u||_e.call(s,rt))&&!(D&&(rt=="length"||N&&(rt=="offset"||rt=="parent")||O&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||Vn(rt,K)))&&L.push(rt);return L}function id(s){var u=s.length;return u?s[Oc(0,u-1)]:r}function Cy(s,u){return jh(Kr(s),Qs(u,0,s.length))}function xy(s){return jh(Kr(s))}function Ic(s,u,p){(p!==r&&!Xi(s[u],p)||p===r&&!(u in s))&&Gn(s,u,p)}function Aa(s,u,p){var M=s[u];(!(_e.call(s,u)&&Xi(M,p))||p===r&&!(u in s))&&Gn(s,u,p)}function Bh(s,u){for(var p=s.length;p--;)if(Xi(s[p][0],u))return p;return-1}function Ry(s,u,p,M){return ws(s,function(N,O,D){u(M,N,p(N),D)}),M}function nd(s,u){return s&&mn(u,cr(u),s)}function By(s,u){return s&&mn(u,Gr(u),s)}function Gn(s,u,p){u=="__proto__"&&Sh?Sh(s,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[u]=p}function Sc(s,u){for(var p=-1,M=u.length,N=V(M),O=s==null;++p<M;)N[p]=O?r:of(s,u[p]);return N}function Qs(s,u,p){return s===s&&(p!==r&&(s=s<=p?s:p),u!==r&&(s=s>=u?s:u)),s}function Ci(s,u,p,M,N,O){var D,L=u&_,K=u&C,rt=u&R;if(p&&(D=N?p(s,M,N,O):p(s)),D!==r)return D;if(!er(s))return s;var it=ee(s);if(it){if(D=ww(s),!L)return Kr(s,D)}else{var st=Nr(s),jt=st==G||st==W;if(Ms(s))return Cd(s,L);if(st==ct||st==l||jt&&!N){if(D=K||jt?{}:Gd(s),!L)return K?hw(s,By(D,s)):aw(s,nd(D,s))}else{if(!ze[st])return N?s:{};D=Aw(s,st,L)}}O||(O=new Wi);var Jt=O.get(s);if(Jt)return Jt;O.set(s,D),E1(s)?s.forEach(function(Xt){D.add(Ci(Xt,u,p,Xt,s,O))}):A1(s)&&s.forEach(function(Xt,fe){D.set(fe,Ci(Xt,u,p,fe,s,O))});var Wt=rt?K?Kc:jc:K?Gr:cr,ue=it?r:Wt(s);return Si(ue||s,function(Xt,fe){ue&&(fe=Xt,Xt=s[fe]),Aa(D,fe,Ci(Xt,u,p,fe,s,O))}),D}function Py(s){var u=cr(s);return function(p){return sd(p,s,u)}}function sd(s,u,p){var M=p.length;if(s==null)return!M;for(s=ke(s);M--;){var N=p[M],O=u[N],D=s[N];if(D===r&&!(N in s)||!O(D))return!1}return!0}function od(s,u,p){if(typeof s!="function")throw new _i(f);return Na(function(){s.apply(r,p)},u)}function ba(s,u,p,M){var N=-1,O=ph,D=!0,L=s.length,K=[],rt=u.length;if(!L)return K;p&&(u=Ze(u,li(p))),M?(O=fc,D=!1):u.length>=n&&(O=pa,D=!1,u=new Ks(u));t:for(;++N<L;){var it=s[N],st=p==null?it:p(it);if(it=M||it!==0?it:0,D&&st===st){for(var jt=rt;jt--;)if(u[jt]===st)continue t;K.push(it)}else O(u,st,M)||K.push(it)}return K}var ws=Td(gn),ad=Td(Nc,!0);function Ty(s,u){var p=!0;return ws(s,function(M,N,O){return p=!!u(M,N,O),p}),p}function Ph(s,u,p){for(var M=-1,N=s.length;++M<N;){var O=s[M],D=u(O);if(D!=null&&(L===r?D===D&&!pi(D):p(D,L)))var L=D,K=O}return K}function Oy(s,u,p,M){var N=s.length;for(p=se(p),p<0&&(p=-p>N?0:N+p),M=M===r||M>N?N:se(M),M<0&&(M+=N),M=p>M?0:I1(M);p<M;)s[p++]=u;return s}function hd(s,u){var p=[];return ws(s,function(M,N,O){u(M,N,O)&&p.push(M)}),p}function mr(s,u,p,M,N){var O=-1,D=s.length;for(p||(p=Ew),N||(N=[]);++O<D;){var L=s[O];u>0&&p(L)?u>1?mr(L,u-1,p,M,N):ms(N,L):M||(N[N.length]=L)}return N}var _c=Od(),ud=Od(!0);function gn(s,u){return s&&_c(s,u,cr)}function Nc(s,u){return s&&ud(s,u,cr)}function Th(s,u){return gs(u,function(p){return Wn(s[p])})}function Gs(s,u){u=bs(u,s);for(var p=0,M=u.length;s!=null&&p<M;)s=s[vn(u[p++])];return p&&p==M?s:r}function cd(s,u,p){var M=u(s);return ee(s)?M:ms(M,p(s))}function Pr(s){return s==null?s===r?Ke:Ct:$s&&$s in ke(s)?mw(s):xw(s)}function Cc(s,u){return s>u}function Fy(s,u){return s!=null&&_e.call(s,u)}function Dy(s,u){return s!=null&&u in ke(s)}function ky(s,u,p){return s>=_r(u,p)&&s<ur(u,p)}function xc(s,u,p){for(var M=p?fc:ph,N=s[0].length,O=s.length,D=O,L=V(O),K=1/0,rt=[];D--;){var it=s[D];D&&u&&(it=Ze(it,li(u))),K=_r(it.length,K),L[D]=!p&&(u||N>=120&&it.length>=120)?new Ks(D&&it):r}it=s[0];var st=-1,jt=L[0];t:for(;++st<N&&rt.length<K;){var Jt=it[st],Wt=u?u(Jt):Jt;if(Jt=p||Jt!==0?Jt:0,!(jt?pa(jt,Wt):M(rt,Wt,p))){for(D=O;--D;){var ue=L[D];if(!(ue?pa(ue,Wt):M(s[D],Wt,p)))continue t}jt&&jt.push(Wt),rt.push(Jt)}}return rt}function Uy(s,u,p,M){return gn(s,function(N,O,D){u(M,p(N),O,D)}),M}function Ea(s,u,p){u=bs(u,s),s=Wd(s,u);var M=s==null?s:s[vn(Ri(u))];return M==null?r:fi(M,s,p)}function fd(s){return rr(s)&&Pr(s)==l}function qy(s){return rr(s)&&Pr(s)==Se}function zy(s){return rr(s)&&Pr(s)==$}function Ma(s,u,p,M,N){return s===u?!0:s==null||u==null||!rr(s)&&!rr(u)?s!==s&&u!==u:Ly(s,u,p,M,Ma,N)}function Ly(s,u,p,M,N,O){var D=ee(s),L=ee(u),K=D?B:Nr(s),rt=L?B:Nr(u);K=K==l?ct:K,rt=rt==l?ct:rt;var it=K==ct,st=rt==ct,jt=K==rt;if(jt&&Ms(s)){if(!Ms(u))return!1;D=!0,it=!1}if(jt&&!it)return O||(O=new Wi),D||So(s)?jd(s,u,p,M,N,O):pw(s,u,K,p,M,N,O);if(!(p&F)){var Jt=it&&_e.call(s,"__wrapped__"),Wt=st&&_e.call(u,"__wrapped__");if(Jt||Wt){var ue=Jt?s.value():s,Xt=Wt?u.value():u;return O||(O=new Wi),N(ue,Xt,p,M,O)}}return jt?(O||(O=new Wi),gw(s,u,p,M,N,O)):!1}function Hy(s){return rr(s)&&Nr(s)==q}function Rc(s,u,p,M){var N=p.length,O=N,D=!M;if(s==null)return!O;for(s=ke(s);N--;){var L=p[N];if(D&&L[2]?L[1]!==s[L[0]]:!(L[0]in s))return!1}for(;++N<O;){L=p[N];var K=L[0],rt=s[K],it=L[1];if(D&&L[2]){if(rt===r&&!(K in s))return!1}else{var st=new Wi;if(M)var jt=M(rt,it,K,s,u,st);if(!(jt===r?Ma(it,rt,F|H,M,st):jt))return!1}}return!0}function ld(s){if(!er(s)||Iw(s))return!1;var u=Wn(s)?H3:xe;return u.test(Ys(s))}function $y(s){return rr(s)&&Pr(s)==dt}function jy(s){return rr(s)&&Nr(s)==Ae}function Ky(s){return rr(s)&&Vh(s.length)&&!!Xe[Pr(s)]}function dd(s){return typeof s=="function"?s:s==null?Jr:typeof s=="object"?ee(s)?md(s[0],s[1]):gd(s):F1(s)}function Bc(s){if(!_a(s))return J3(s);var u=[];for(var p in ke(s))_e.call(s,p)&&p!="constructor"&&u.push(p);return u}function Qy(s){if(!er(s))return Cw(s);var u=_a(s),p=[];for(var M in s)M=="constructor"&&(u||!_e.call(s,M))||p.push(M);return p}function Pc(s,u){return s<u}function pd(s,u){var p=-1,M=Qr(s)?V(s.length):[];return ws(s,function(N,O,D){M[++p]=u(N,O,D)}),M}function gd(s){var u=Gc(s);return u.length==1&&u[0][2]?Yd(u[0][0],u[0][1]):function(p){return p===s||Rc(p,s,u)}}function md(s,u){return Yc(s)&&Jd(u)?Yd(vn(s),u):function(p){var M=of(p,s);return M===r&&M===u?af(p,s):Ma(u,M,F|H)}}function Oh(s,u,p,M,N){s!==u&&_c(u,function(O,D){if(N||(N=new Wi),er(O))Gy(s,u,D,p,Oh,M,N);else{var L=M?M(Wc(s,D),O,D+"",s,u,N):r;L===r&&(L=O),Ic(s,D,L)}},Gr)}function Gy(s,u,p,M,N,O,D){var L=Wc(s,p),K=Wc(u,p),rt=D.get(K);if(rt){Ic(s,p,rt);return}var it=O?O(L,K,p+"",s,u,D):r,st=it===r;if(st){var jt=ee(K),Jt=!jt&&Ms(K),Wt=!jt&&!Jt&&So(K);it=K,jt||Jt||Wt?ee(L)?it=L:nr(L)?it=Kr(L):Jt?(st=!1,it=Cd(K,!0)):Wt?(st=!1,it=xd(K,!0)):it=[]:Ca(K)||Vs(K)?(it=L,Vs(L)?it=S1(L):(!er(L)||Wn(L))&&(it=Gd(K))):st=!1}st&&(D.set(K,it),N(it,K,M,O,D),D.delete(K)),Ic(s,p,it)}function vd(s,u){var p=s.length;if(p)return u+=u<0?p:0,Vn(u,p)?s[u]:r}function yd(s,u,p){u.length?u=Ze(u,function(O){return ee(O)?function(D){return Gs(D,O.length===1?O[0]:O)}:O}):u=[Jr];var M=-1;u=Ze(u,li(Vt()));var N=pd(s,function(O,D,L){var K=Ze(u,function(rt){return rt(O)});return{criteria:K,index:++M,value:O}});return A3(N,function(O,D){return ow(O,D,p)})}function Jy(s,u){return wd(s,u,function(p,M){return af(s,M)})}function wd(s,u,p){for(var M=-1,N=u.length,O={};++M<N;){var D=u[M],L=Gs(s,D);p(L,D)&&Ia(O,bs(D,s),L)}return O}function Yy(s){return function(u){return Gs(u,s)}}function Tc(s,u,p,M){var N=M?w3:po,O=-1,D=u.length,L=s;for(s===u&&(u=Kr(u)),p&&(L=Ze(s,li(p)));++O<D;)for(var K=0,rt=u[O],it=p?p(rt):rt;(K=N(L,it,K,M))>-1;)L!==s&&Ih.call(L,K,1),Ih.call(s,K,1);return s}function Ad(s,u){for(var p=s?u.length:0,M=p-1;p--;){var N=u[p];if(p==M||N!==O){var O=N;Vn(N)?Ih.call(s,N,1):kc(s,N)}}return s}function Oc(s,u){return s+Nh(td()*(u-s+1))}function Vy(s,u,p,M){for(var N=-1,O=ur(_h((u-s)/(p||1)),0),D=V(O);O--;)D[M?O:++N]=s,s+=p;return D}function Fc(s,u){var p="";if(!s||u<1||u>E)return p;do u%2&&(p+=s),u=Nh(u/2),u&&(s+=s);while(u);return p}function ce(s,u){return Xc(Vd(s,u,Jr),s+"")}function Wy(s){return id(_o(s))}function Xy(s,u){var p=_o(s);return jh(p,Qs(u,0,p.length))}function Ia(s,u,p,M){if(!er(s))return s;u=bs(u,s);for(var N=-1,O=u.length,D=O-1,L=s;L!=null&&++N<O;){var K=vn(u[N]),rt=p;if(K==="__proto__"||K==="constructor"||K==="prototype")return s;if(N!=D){var it=L[K];rt=M?M(it,K,L):r,rt===r&&(rt=er(it)?it:Vn(u[N+1])?[]:{})}Aa(L,K,rt),L=L[K]}return s}var bd=Ch?function(s,u){return Ch.set(s,u),s}:Jr,Zy=Sh?function(s,u){return Sh(s,"toString",{configurable:!0,enumerable:!1,value:uf(u),writable:!0})}:Jr;function tw(s){return jh(_o(s))}function xi(s,u,p){var M=-1,N=s.length;u<0&&(u=-u>N?0:N+u),p=p>N?N:p,p<0&&(p+=N),N=u>p?0:p-u>>>0,u>>>=0;for(var O=V(N);++M<N;)O[M]=s[M+u];return O}function ew(s,u){var p;return ws(s,function(M,N,O){return p=u(M,N,O),!p}),!!p}function Fh(s,u,p){var M=0,N=s==null?M:s.length;if(typeof u=="number"&&u===u&&N<=J){for(;M<N;){var O=M+N>>>1,D=s[O];D!==null&&!pi(D)&&(p?D<=u:D<u)?M=O+1:N=O}return N}return Dc(s,u,Jr,p)}function Dc(s,u,p,M){var N=0,O=s==null?0:s.length;if(O===0)return 0;u=p(u);for(var D=u!==u,L=u===null,K=pi(u),rt=u===r;N<O;){var it=Nh((N+O)/2),st=p(s[it]),jt=st!==r,Jt=st===null,Wt=st===st,ue=pi(st);if(D)var Xt=M||Wt;else rt?Xt=Wt&&(M||jt):L?Xt=Wt&&jt&&(M||!Jt):K?Xt=Wt&&jt&&!Jt&&(M||!ue):Jt||ue?Xt=!1:Xt=M?st<=u:st<u;Xt?N=it+1:O=it}return _r(O,m)}function Ed(s,u){for(var p=-1,M=s.length,N=0,O=[];++p<M;){var D=s[p],L=u?u(D):D;if(!p||!Xi(L,K)){var K=L;O[N++]=D===0?0:D}}return O}function Md(s){return typeof s=="number"?s:pi(s)?y:+s}function di(s){if(typeof s=="string")return s;if(ee(s))return Ze(s,di)+"";if(pi(s))return ed?ed.call(s):"";var u=s+"";return u=="0"&&1/s==-w?"-0":u}function As(s,u,p){var M=-1,N=ph,O=s.length,D=!0,L=[],K=L;if(p)D=!1,N=fc;else if(O>=n){var rt=u?null:lw(s);if(rt)return mh(rt);D=!1,N=pa,K=new Ks}else K=u?[]:L;t:for(;++M<O;){var it=s[M],st=u?u(it):it;if(it=p||it!==0?it:0,D&&st===st){for(var jt=K.length;jt--;)if(K[jt]===st)continue t;u&&K.push(st),L.push(it)}else N(K,st,p)||(K!==L&&K.push(st),L.push(it))}return L}function kc(s,u){return u=bs(u,s),s=Wd(s,u),s==null||delete s[vn(Ri(u))]}function Id(s,u,p,M){return Ia(s,u,p(Gs(s,u)),M)}function Dh(s,u,p,M){for(var N=s.length,O=M?N:-1;(M?O--:++O<N)&&u(s[O],O,s););return p?xi(s,M?0:O,M?O+1:N):xi(s,M?O+1:0,M?N:O)}function Sd(s,u){var p=s;return p instanceof de&&(p=p.value()),lc(u,function(M,N){return N.func.apply(N.thisArg,ms([M],N.args))},p)}function Uc(s,u,p){var M=s.length;if(M<2)return M?As(s[0]):[];for(var N=-1,O=V(M);++N<M;)for(var D=s[N],L=-1;++L<M;)L!=N&&(O[N]=ba(O[N]||D,s[L],u,p));return As(mr(O,1),u,p)}function _d(s,u,p){for(var M=-1,N=s.length,O=u.length,D={};++M<N;){var L=M<O?u[M]:r;p(D,s[M],L)}return D}function qc(s){return nr(s)?s:[]}function zc(s){return typeof s=="function"?s:Jr}function bs(s,u){return ee(s)?s:Yc(s,u)?[s]:e1(Me(s))}var rw=ce;function Es(s,u,p){var M=s.length;return p=p===r?M:p,!u&&p>=M?s:xi(s,u,p)}var Nd=$3||function(s){return gr.clearTimeout(s)};function Cd(s,u){if(u)return s.slice();var p=s.length,M=Yl?Yl(p):new s.constructor(p);return s.copy(M),M}function Lc(s){var u=new s.constructor(s.byteLength);return new Eh(u).set(new Eh(s)),u}function iw(s,u){var p=u?Lc(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function nw(s){var u=new s.constructor(s.source,Nt.exec(s));return u.lastIndex=s.lastIndex,u}function sw(s){return wa?ke(wa.call(s)):{}}function xd(s,u){var p=u?Lc(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function Rd(s,u){if(s!==u){var p=s!==r,M=s===null,N=s===s,O=pi(s),D=u!==r,L=u===null,K=u===u,rt=pi(u);if(!L&&!rt&&!O&&s>u||O&&D&&K&&!L&&!rt||M&&D&&K||!p&&K||!N)return 1;if(!M&&!O&&!rt&&s<u||rt&&p&&N&&!M&&!O||L&&p&&N||!D&&N||!K)return-1}return 0}function ow(s,u,p){for(var M=-1,N=s.criteria,O=u.criteria,D=N.length,L=p.length;++M<D;){var K=Rd(N[M],O[M]);if(K){if(M>=L)return K;var rt=p[M];return K*(rt=="desc"?-1:1)}}return s.index-u.index}function Bd(s,u,p,M){for(var N=-1,O=s.length,D=p.length,L=-1,K=u.length,rt=ur(O-D,0),it=V(K+rt),st=!M;++L<K;)it[L]=u[L];for(;++N<D;)(st||N<O)&&(it[p[N]]=s[N]);for(;rt--;)it[L++]=s[N++];return it}function Pd(s,u,p,M){for(var N=-1,O=s.length,D=-1,L=p.length,K=-1,rt=u.length,it=ur(O-L,0),st=V(it+rt),jt=!M;++N<it;)st[N]=s[N];for(var Jt=N;++K<rt;)st[Jt+K]=u[K];for(;++D<L;)(jt||N<O)&&(st[Jt+p[D]]=s[N++]);return st}function Kr(s,u){var p=-1,M=s.length;for(u||(u=V(M));++p<M;)u[p]=s[p];return u}function mn(s,u,p,M){var N=!p;p||(p={});for(var O=-1,D=u.length;++O<D;){var L=u[O],K=M?M(p[L],s[L],L,p,s):r;K===r&&(K=s[L]),N?Gn(p,L,K):Aa(p,L,K)}return p}function aw(s,u){return mn(s,Jc(s),u)}function hw(s,u){return mn(s,Kd(s),u)}function kh(s,u){return function(p,M){var N=ee(p)?d3:Ry,O=u?u():{};return N(p,s,Vt(M,2),O)}}function Eo(s){return ce(function(u,p){var M=-1,N=p.length,O=N>1?p[N-1]:r,D=N>2?p[2]:r;for(O=s.length>3&&typeof O=="function"?(N--,O):r,D&&Tr(p[0],p[1],D)&&(O=N<3?r:O,N=1),u=ke(u);++M<N;){var L=p[M];L&&s(u,L,M,O)}return u})}function Td(s,u){return function(p,M){if(p==null)return p;if(!Qr(p))return s(p,M);for(var N=p.length,O=u?N:-1,D=ke(p);(u?O--:++O<N)&&M(D[O],O,D)!==!1;);return p}}function Od(s){return function(u,p,M){for(var N=-1,O=ke(u),D=M(u),L=D.length;L--;){var K=D[s?L:++N];if(p(O[K],K,O)===!1)break}return u}}function uw(s,u,p){var M=u&k,N=Sa(s);function O(){var D=this&&this!==gr&&this instanceof O?N:s;return D.apply(M?p:this,arguments)}return O}function Fd(s){return function(u){u=Me(u);var p=go(u)?Vi(u):r,M=p?p[0]:u.charAt(0),N=p?Es(p,1).join(""):u.slice(1);return M[s]()+N}}function Mo(s){return function(u){return lc(T1(P1(u).replace(Zv,"")),s,"")}}function Sa(s){return function(){var u=arguments;switch(u.length){case 0:return new s;case 1:return new s(u[0]);case 2:return new s(u[0],u[1]);case 3:return new s(u[0],u[1],u[2]);case 4:return new s(u[0],u[1],u[2],u[3]);case 5:return new s(u[0],u[1],u[2],u[3],u[4]);case 6:return new s(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new s(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=bo(s.prototype),M=s.apply(p,u);return er(M)?M:p}}function cw(s,u,p){var M=Sa(s);function N(){for(var O=arguments.length,D=V(O),L=O,K=Io(N);L--;)D[L]=arguments[L];var rt=O<3&&D[0]!==K&&D[O-1]!==K?[]:vs(D,K);if(O-=rt.length,O<p)return zd(s,u,Uh,N.placeholder,r,D,rt,r,r,p-O);var it=this&&this!==gr&&this instanceof N?M:s;return fi(it,this,D)}return N}function Dd(s){return function(u,p,M){var N=ke(u);if(!Qr(u)){var O=Vt(p,3);u=cr(u),p=function(L){return O(N[L],L,N)}}var D=s(u,p,M);return D>-1?N[O?u[D]:D]:r}}function kd(s){return Yn(function(u){var p=u.length,M=p,N=Ni.prototype.thru;for(s&&u.reverse();M--;){var O=u[M];if(typeof O!="function")throw new _i(f);if(N&&!D&&Hh(O)=="wrapper")var D=new Ni([],!0)}for(M=D?M:p;++M<p;){O=u[M];var L=Hh(O),K=L=="wrapper"?Qc(O):r;K&&Vc(K[0])&&K[1]==(ut|at|X|nt)&&!K[4].length&&K[9]==1?D=D[Hh(K[0])].apply(D,K[3]):D=O.length==1&&Vc(O)?D[L]():D.thru(O)}return function(){var rt=arguments,it=rt[0];if(D&&rt.length==1&&ee(it))return D.plant(it).value();for(var st=0,jt=p?u[st].apply(this,rt):it;++st<p;)jt=u[st].call(this,jt);return jt}})}function Uh(s,u,p,M,N,O,D,L,K,rt){var it=u&ut,st=u&k,jt=u&Y,Jt=u&(at|et),Wt=u&Gt,ue=jt?r:Sa(s);function Xt(){for(var fe=arguments.length,be=V(fe),gi=fe;gi--;)be[gi]=arguments[gi];if(Jt)var Or=Io(Xt),mi=E3(be,Or);if(M&&(be=Bd(be,M,N,Jt)),O&&(be=Pd(be,O,D,Jt)),fe-=mi,Jt&&fe<rt){var sr=vs(be,Or);return zd(s,u,Uh,Xt.placeholder,p,be,sr,L,K,rt-fe)}var Zi=st?p:this,Zn=jt?Zi[s]:s;return fe=be.length,L?be=Rw(be,L):Wt&&fe>1&&be.reverse(),it&&K<fe&&(be.length=K),this&&this!==gr&&this instanceof Xt&&(Zn=ue||Sa(Zn)),Zn.apply(Zi,be)}return Xt}function Ud(s,u){return function(p,M){return Uy(p,s,u(M),{})}}function qh(s,u){return function(p,M){var N;if(p===r&&M===r)return u;if(p!==r&&(N=p),M!==r){if(N===r)return M;typeof p=="string"||typeof M=="string"?(p=di(p),M=di(M)):(p=Md(p),M=Md(M)),N=s(p,M)}return N}}function Hc(s){return Yn(function(u){return u=Ze(u,li(Vt())),ce(function(p){var M=this;return s(u,function(N){return fi(N,M,p)})})})}function zh(s,u){u=u===r?" ":di(u);var p=u.length;if(p<2)return p?Fc(u,s):u;var M=Fc(u,_h(s/mo(u)));return go(u)?Es(Vi(M),0,s).join(""):M.slice(0,s)}function fw(s,u,p,M){var N=u&k,O=Sa(s);function D(){for(var L=-1,K=arguments.length,rt=-1,it=M.length,st=V(it+K),jt=this&&this!==gr&&this instanceof D?O:s;++rt<it;)st[rt]=M[rt];for(;K--;)st[rt++]=arguments[++L];return fi(jt,N?p:this,st)}return D}function qd(s){return function(u,p,M){return M&&typeof M!="number"&&Tr(u,p,M)&&(p=M=r),u=Xn(u),p===r?(p=u,u=0):p=Xn(p),M=M===r?u<p?1:-1:Xn(M),Vy(u,p,M,s)}}function Lh(s){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=Bi(u),p=Bi(p)),s(u,p)}}function zd(s,u,p,M,N,O,D,L,K,rt){var it=u&at,st=it?D:r,jt=it?r:D,Jt=it?O:r,Wt=it?r:O;u|=it?X:Z,u&=~(it?Z:X),u&ot||(u&=~(k|Y));var ue=[s,u,N,Jt,st,Wt,jt,L,K,rt],Xt=p.apply(r,ue);return Vc(s)&&Xd(Xt,ue),Xt.placeholder=M,Zd(Xt,s,u)}function $c(s){var u=hr[s];return function(p,M){if(p=Bi(p),M=M==null?0:_r(se(M),292),M&&Zl(p)){var N=(Me(p)+"e").split("e"),O=u(N[0]+"e"+(+N[1]+M));return N=(Me(O)+"e").split("e"),+(N[0]+"e"+(+N[1]-M))}return u(p)}}var lw=wo&&1/mh(new wo([,-0]))[1]==w?function(s){return new wo(s)}:lf;function Ld(s){return function(u){var p=Nr(u);return p==q?wc(u):p==Ae?x3(u):b3(u,s(u))}}function Jn(s,u,p,M,N,O,D,L){var K=u&Y;if(!K&&typeof s!="function")throw new _i(f);var rt=M?M.length:0;if(rt||(u&=~(X|Z),M=N=r),D=D===r?D:ur(se(D),0),L=L===r?L:se(L),rt-=N?N.length:0,u&Z){var it=M,st=N;M=N=r}var jt=K?r:Qc(s),Jt=[s,u,p,M,N,it,st,O,D,L];if(jt&&Nw(Jt,jt),s=Jt[0],u=Jt[1],p=Jt[2],M=Jt[3],N=Jt[4],L=Jt[9]=Jt[9]===r?K?0:s.length:ur(Jt[9]-rt,0),!L&&u&(at|et)&&(u&=~(at|et)),!u||u==k)var Wt=uw(s,u,p);else u==at||u==et?Wt=cw(s,u,L):(u==X||u==(k|X))&&!N.length?Wt=fw(s,u,p,M):Wt=Uh.apply(r,Jt);var ue=jt?bd:Xd;return Zd(ue(Wt,Jt),s,u)}function Hd(s,u,p,M){return s===r||Xi(s,yo[p])&&!_e.call(M,p)?u:s}function $d(s,u,p,M,N,O){return er(s)&&er(u)&&(O.set(u,s),Oh(s,u,r,$d,O),O.delete(u)),s}function dw(s){return Ca(s)?r:s}function jd(s,u,p,M,N,O){var D=p&F,L=s.length,K=u.length;if(L!=K&&!(D&&K>L))return!1;var rt=O.get(s),it=O.get(u);if(rt&&it)return rt==u&&it==s;var st=-1,jt=!0,Jt=p&H?new Ks:r;for(O.set(s,u),O.set(u,s);++st<L;){var Wt=s[st],ue=u[st];if(M)var Xt=D?M(ue,Wt,st,u,s,O):M(Wt,ue,st,s,u,O);if(Xt!==r){if(Xt)continue;jt=!1;break}if(Jt){if(!dc(u,function(fe,be){if(!pa(Jt,be)&&(Wt===fe||N(Wt,fe,p,M,O)))return Jt.push(be)})){jt=!1;break}}else if(!(Wt===ue||N(Wt,ue,p,M,O))){jt=!1;break}}return O.delete(s),O.delete(u),jt}function pw(s,u,p,M,N,O,D){switch(p){case ft:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case Se:return!(s.byteLength!=u.byteLength||!O(new Eh(s),new Eh(u)));case T:case $:case lt:return Xi(+s,+u);case z:return s.name==u.name&&s.message==u.message;case dt:case pt:return s==u+"";case q:var L=wc;case Ae:var K=M&F;if(L||(L=mh),s.size!=u.size&&!K)return!1;var rt=D.get(s);if(rt)return rt==u;M|=H,D.set(s,u);var it=jd(L(s),L(u),M,N,O,D);return D.delete(s),it;case mt:if(wa)return wa.call(s)==wa.call(u)}return!1}function gw(s,u,p,M,N,O){var D=p&F,L=jc(s),K=L.length,rt=jc(u),it=rt.length;if(K!=it&&!D)return!1;for(var st=K;st--;){var jt=L[st];if(!(D?jt in u:_e.call(u,jt)))return!1}var Jt=O.get(s),Wt=O.get(u);if(Jt&&Wt)return Jt==u&&Wt==s;var ue=!0;O.set(s,u),O.set(u,s);for(var Xt=D;++st<K;){jt=L[st];var fe=s[jt],be=u[jt];if(M)var gi=D?M(be,fe,jt,u,s,O):M(fe,be,jt,s,u,O);if(!(gi===r?fe===be||N(fe,be,p,M,O):gi)){ue=!1;break}Xt||(Xt=jt=="constructor")}if(ue&&!Xt){var Or=s.constructor,mi=u.constructor;Or!=mi&&"constructor"in s&&"constructor"in u&&!(typeof Or=="function"&&Or instanceof Or&&typeof mi=="function"&&mi instanceof mi)&&(ue=!1)}return O.delete(s),O.delete(u),ue}function Yn(s){return Xc(Vd(s,r,s1),s+"")}function jc(s){return cd(s,cr,Jc)}function Kc(s){return cd(s,Gr,Kd)}var Qc=Ch?function(s){return Ch.get(s)}:lf;function Hh(s){for(var u=s.name+"",p=Ao[u],M=_e.call(Ao,u)?p.length:0;M--;){var N=p[M],O=N.func;if(O==null||O==s)return N.name}return u}function Io(s){var u=_e.call(P,"placeholder")?P:s;return u.placeholder}function Vt(){var s=P.iteratee||cf;return s=s===cf?dd:s,arguments.length?s(arguments[0],arguments[1]):s}function $h(s,u){var p=s.__data__;return Mw(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Gc(s){for(var u=cr(s),p=u.length;p--;){var M=u[p],N=s[M];u[p]=[M,N,Jd(N)]}return u}function Js(s,u){var p=_3(s,u);return ld(p)?p:r}function mw(s){var u=_e.call(s,$s),p=s[$s];try{s[$s]=r;var M=!0}catch{}var N=Ah.call(s);return M&&(u?s[$s]=p:delete s[$s]),N}var Jc=bc?function(s){return s==null?[]:(s=ke(s),gs(bc(s),function(u){return Wl.call(s,u)}))}:df,Kd=bc?function(s){for(var u=[];s;)ms(u,Jc(s)),s=Mh(s);return u}:df,Nr=Pr;(Ec&&Nr(new Ec(new ArrayBuffer(1)))!=ft||ma&&Nr(new ma)!=q||Mc&&Nr(Mc.resolve())!=Ue||wo&&Nr(new wo)!=Ae||va&&Nr(new va)!=gt)&&(Nr=function(s){var u=Pr(s),p=u==ct?s.constructor:r,M=p?Ys(p):"";if(M)switch(M){case X3:return ft;case Z3:return q;case ty:return Ue;case ey:return Ae;case ry:return gt}return u});function vw(s,u,p){for(var M=-1,N=p.length;++M<N;){var O=p[M],D=O.size;switch(O.type){case"drop":s+=D;break;case"dropRight":u-=D;break;case"take":u=_r(u,s+D);break;case"takeRight":s=ur(s,u-D);break}}return{start:s,end:u}}function yw(s){var u=s.match(zt);return u?u[1].split(Ve):[]}function Qd(s,u,p){u=bs(u,s);for(var M=-1,N=u.length,O=!1;++M<N;){var D=vn(u[M]);if(!(O=s!=null&&p(s,D)))break;s=s[D]}return O||++M!=N?O:(N=s==null?0:s.length,!!N&&Vh(N)&&Vn(D,N)&&(ee(s)||Vs(s)))}function ww(s){var u=s.length,p=new s.constructor(u);return u&&typeof s[0]=="string"&&_e.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function Gd(s){return typeof s.constructor=="function"&&!_a(s)?bo(Mh(s)):{}}function Aw(s,u,p){var M=s.constructor;switch(u){case Se:return Lc(s);case T:case $:return new M(+s);case ft:return iw(s,p);case vt:case Te:case yt:case wt:case Oe:case At:case bt:case Fe:case Et:return xd(s,p);case q:return new M;case lt:case pt:return new M(s);case dt:return nw(s);case Ae:return new M;case mt:return sw(s)}}function bw(s,u){var p=u.length;if(!p)return s;var M=p-1;return u[M]=(p>1?"& ":"")+u[M],u=u.join(p>2?", ":" "),s.replace(qt,`{
/* [wrapped with `+u+`] */
`)}function Ew(s){return ee(s)||Vs(s)||!!(Xl&&s&&s[Xl])}function Vn(s,u){var p=typeof s;return u=u??E,!!u&&(p=="number"||p!="symbol"&&Be.test(s))&&s>-1&&s%1==0&&s<u}function Tr(s,u,p){if(!er(p))return!1;var M=typeof u;return(M=="number"?Qr(p)&&Vn(u,p.length):M=="string"&&u in p)?Xi(p[u],s):!1}function Yc(s,u){if(ee(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||pi(s)?!0:Dt.test(s)||!Je.test(s)||u!=null&&s in ke(u)}function Mw(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function Vc(s){var u=Hh(s),p=P[u];if(typeof p!="function"||!(u in de.prototype))return!1;if(s===p)return!0;var M=Qc(p);return!!M&&s===M[0]}function Iw(s){return!!Jl&&Jl in s}var Sw=yh?Wn:pf;function _a(s){var u=s&&s.constructor,p=typeof u=="function"&&u.prototype||yo;return s===p}function Jd(s){return s===s&&!er(s)}function Yd(s,u){return function(p){return p==null?!1:p[s]===u&&(u!==r||s in ke(p))}}function _w(s){var u=Jh(s,function(M){return p.size===A&&p.clear(),M}),p=u.cache;return u}function Nw(s,u){var p=s[1],M=u[1],N=p|M,O=N<(k|Y|ut),D=M==ut&&p==at||M==ut&&p==nt&&s[7].length<=u[8]||M==(ut|nt)&&u[7].length<=u[8]&&p==at;if(!(O||D))return s;M&k&&(s[2]=u[2],N|=p&k?0:ot);var L=u[3];if(L){var K=s[3];s[3]=K?Bd(K,L,u[4]):L,s[4]=K?vs(s[3],S):u[4]}return L=u[5],L&&(K=s[5],s[5]=K?Pd(K,L,u[6]):L,s[6]=K?vs(s[5],S):u[6]),L=u[7],L&&(s[7]=L),M&ut&&(s[8]=s[8]==null?u[8]:_r(s[8],u[8])),s[9]==null&&(s[9]=u[9]),s[0]=u[0],s[1]=N,s}function Cw(s){var u=[];if(s!=null)for(var p in ke(s))u.push(p);return u}function xw(s){return Ah.call(s)}function Vd(s,u,p){return u=ur(u===r?s.length-1:u,0),function(){for(var M=arguments,N=-1,O=ur(M.length-u,0),D=V(O);++N<O;)D[N]=M[u+N];N=-1;for(var L=V(u+1);++N<u;)L[N]=M[N];return L[u]=p(D),fi(s,this,L)}}function Wd(s,u){return u.length<2?s:Gs(s,xi(u,0,-1))}function Rw(s,u){for(var p=s.length,M=_r(u.length,p),N=Kr(s);M--;){var O=u[M];s[M]=Vn(O,p)?N[O]:r}return s}function Wc(s,u){if(!(u==="constructor"&&typeof s[u]=="function")&&u!="__proto__")return s[u]}var Xd=t1(bd),Na=K3||function(s,u){return gr.setTimeout(s,u)},Xc=t1(Zy);function Zd(s,u,p){var M=u+"";return Xc(s,bw(M,Bw(yw(M),p)))}function t1(s){var u=0,p=0;return function(){var M=Y3(),N=o-(M-p);if(p=M,N>0){if(++u>=Yt)return arguments[0]}else u=0;return s.apply(r,arguments)}}function jh(s,u){var p=-1,M=s.length,N=M-1;for(u=u===r?M:u;++p<u;){var O=Oc(p,N),D=s[O];s[O]=s[p],s[p]=D}return s.length=u,s}var e1=_w(function(s){var u=[];return s.charCodeAt(0)===46&&u.push(""),s.replace(kt,function(p,M,N,O){u.push(N?O.replace(We,"$1"):M||p)}),u});function vn(s){if(typeof s=="string"||pi(s))return s;var u=s+"";return u=="0"&&1/s==-w?"-0":u}function Ys(s){if(s!=null){try{return wh.call(s)}catch{}try{return s+""}catch{}}return""}function Bw(s,u){return Si(Q,function(p){var M="_."+p[0];u&p[1]&&!ph(s,M)&&s.push(M)}),s.sort()}function r1(s){if(s instanceof de)return s.clone();var u=new Ni(s.__wrapped__,s.__chain__);return u.__actions__=Kr(s.__actions__),u.__index__=s.__index__,u.__values__=s.__values__,u}function Pw(s,u,p){(p?Tr(s,u,p):u===r)?u=1:u=ur(se(u),0);var M=s==null?0:s.length;if(!M||u<1)return[];for(var N=0,O=0,D=V(_h(M/u));N<M;)D[O++]=xi(s,N,N+=u);return D}function Tw(s){for(var u=-1,p=s==null?0:s.length,M=0,N=[];++u<p;){var O=s[u];O&&(N[M++]=O)}return N}function Ow(){var s=arguments.length;if(!s)return[];for(var u=V(s-1),p=arguments[0],M=s;M--;)u[M-1]=arguments[M];return ms(ee(p)?Kr(p):[p],mr(u,1))}var Fw=ce(function(s,u){return nr(s)?ba(s,mr(u,1,nr,!0)):[]}),Dw=ce(function(s,u){var p=Ri(u);return nr(p)&&(p=r),nr(s)?ba(s,mr(u,1,nr,!0),Vt(p,2)):[]}),kw=ce(function(s,u){var p=Ri(u);return nr(p)&&(p=r),nr(s)?ba(s,mr(u,1,nr,!0),r,p):[]});function Uw(s,u,p){var M=s==null?0:s.length;return M?(u=p||u===r?1:se(u),xi(s,u<0?0:u,M)):[]}function qw(s,u,p){var M=s==null?0:s.length;return M?(u=p||u===r?1:se(u),u=M-u,xi(s,0,u<0?0:u)):[]}function zw(s,u){return s&&s.length?Dh(s,Vt(u,3),!0,!0):[]}function Lw(s,u){return s&&s.length?Dh(s,Vt(u,3),!0):[]}function Hw(s,u,p,M){var N=s==null?0:s.length;return N?(p&&typeof p!="number"&&Tr(s,u,p)&&(p=0,M=N),Oy(s,u,p,M)):[]}function i1(s,u,p){var M=s==null?0:s.length;if(!M)return-1;var N=p==null?0:se(p);return N<0&&(N=ur(M+N,0)),gh(s,Vt(u,3),N)}function n1(s,u,p){var M=s==null?0:s.length;if(!M)return-1;var N=M-1;return p!==r&&(N=se(p),N=p<0?ur(M+N,0):_r(N,M-1)),gh(s,Vt(u,3),N,!0)}function s1(s){var u=s==null?0:s.length;return u?mr(s,1):[]}function $w(s){var u=s==null?0:s.length;return u?mr(s,w):[]}function jw(s,u){var p=s==null?0:s.length;return p?(u=u===r?1:se(u),mr(s,u)):[]}function Kw(s){for(var u=-1,p=s==null?0:s.length,M={};++u<p;){var N=s[u];M[N[0]]=N[1]}return M}function o1(s){return s&&s.length?s[0]:r}function Qw(s,u,p){var M=s==null?0:s.length;if(!M)return-1;var N=p==null?0:se(p);return N<0&&(N=ur(M+N,0)),po(s,u,N)}function Gw(s){var u=s==null?0:s.length;return u?xi(s,0,-1):[]}var Jw=ce(function(s){var u=Ze(s,qc);return u.length&&u[0]===s[0]?xc(u):[]}),Yw=ce(function(s){var u=Ri(s),p=Ze(s,qc);return u===Ri(p)?u=r:p.pop(),p.length&&p[0]===s[0]?xc(p,Vt(u,2)):[]}),Vw=ce(function(s){var u=Ri(s),p=Ze(s,qc);return u=typeof u=="function"?u:r,u&&p.pop(),p.length&&p[0]===s[0]?xc(p,r,u):[]});function Ww(s,u){return s==null?"":G3.call(s,u)}function Ri(s){var u=s==null?0:s.length;return u?s[u-1]:r}function Xw(s,u,p){var M=s==null?0:s.length;if(!M)return-1;var N=M;return p!==r&&(N=se(p),N=N<0?ur(M+N,0):_r(N,M-1)),u===u?B3(s,u,N):gh(s,zl,N,!0)}function Zw(s,u){return s&&s.length?vd(s,se(u)):r}var t6=ce(a1);function a1(s,u){return s&&s.length&&u&&u.length?Tc(s,u):s}function e6(s,u,p){return s&&s.length&&u&&u.length?Tc(s,u,Vt(p,2)):s}function r6(s,u,p){return s&&s.length&&u&&u.length?Tc(s,u,r,p):s}var i6=Yn(function(s,u){var p=s==null?0:s.length,M=Sc(s,u);return Ad(s,Ze(u,function(N){return Vn(N,p)?+N:N}).sort(Rd)),M});function n6(s,u){var p=[];if(!(s&&s.length))return p;var M=-1,N=[],O=s.length;for(u=Vt(u,3);++M<O;){var D=s[M];u(D,M,s)&&(p.push(D),N.push(M))}return Ad(s,N),p}function Zc(s){return s==null?s:W3.call(s)}function s6(s,u,p){var M=s==null?0:s.length;return M?(p&&typeof p!="number"&&Tr(s,u,p)?(u=0,p=M):(u=u==null?0:se(u),p=p===r?M:se(p)),xi(s,u,p)):[]}function o6(s,u){return Fh(s,u)}function a6(s,u,p){return Dc(s,u,Vt(p,2))}function h6(s,u){var p=s==null?0:s.length;if(p){var M=Fh(s,u);if(M<p&&Xi(s[M],u))return M}return-1}function u6(s,u){return Fh(s,u,!0)}function c6(s,u,p){return Dc(s,u,Vt(p,2),!0)}function f6(s,u){var p=s==null?0:s.length;if(p){var M=Fh(s,u,!0)-1;if(Xi(s[M],u))return M}return-1}function l6(s){return s&&s.length?Ed(s):[]}function d6(s,u){return s&&s.length?Ed(s,Vt(u,2)):[]}function p6(s){var u=s==null?0:s.length;return u?xi(s,1,u):[]}function g6(s,u,p){return s&&s.length?(u=p||u===r?1:se(u),xi(s,0,u<0?0:u)):[]}function m6(s,u,p){var M=s==null?0:s.length;return M?(u=p||u===r?1:se(u),u=M-u,xi(s,u<0?0:u,M)):[]}function v6(s,u){return s&&s.length?Dh(s,Vt(u,3),!1,!0):[]}function y6(s,u){return s&&s.length?Dh(s,Vt(u,3)):[]}var w6=ce(function(s){return As(mr(s,1,nr,!0))}),A6=ce(function(s){var u=Ri(s);return nr(u)&&(u=r),As(mr(s,1,nr,!0),Vt(u,2))}),b6=ce(function(s){var u=Ri(s);return u=typeof u=="function"?u:r,As(mr(s,1,nr,!0),r,u)});function E6(s){return s&&s.length?As(s):[]}function M6(s,u){return s&&s.length?As(s,Vt(u,2)):[]}function I6(s,u){return u=typeof u=="function"?u:r,s&&s.length?As(s,r,u):[]}function tf(s){if(!(s&&s.length))return[];var u=0;return s=gs(s,function(p){if(nr(p))return u=ur(p.length,u),!0}),vc(u,function(p){return Ze(s,pc(p))})}function h1(s,u){if(!(s&&s.length))return[];var p=tf(s);return u==null?p:Ze(p,function(M){return fi(u,r,M)})}var S6=ce(function(s,u){return nr(s)?ba(s,u):[]}),_6=ce(function(s){return Uc(gs(s,nr))}),N6=ce(function(s){var u=Ri(s);return nr(u)&&(u=r),Uc(gs(s,nr),Vt(u,2))}),C6=ce(function(s){var u=Ri(s);return u=typeof u=="function"?u:r,Uc(gs(s,nr),r,u)}),x6=ce(tf);function R6(s,u){return _d(s||[],u||[],Aa)}function B6(s,u){return _d(s||[],u||[],Ia)}var P6=ce(function(s){var u=s.length,p=u>1?s[u-1]:r;return p=typeof p=="function"?(s.pop(),p):r,h1(s,p)});function u1(s){var u=P(s);return u.__chain__=!0,u}function T6(s,u){return u(s),s}function Kh(s,u){return u(s)}var O6=Yn(function(s){var u=s.length,p=u?s[0]:0,M=this.__wrapped__,N=function(O){return Sc(O,s)};return u>1||this.__actions__.length||!(M instanceof de)||!Vn(p)?this.thru(N):(M=M.slice(p,+p+(u?1:0)),M.__actions__.push({func:Kh,args:[N],thisArg:r}),new Ni(M,this.__chain__).thru(function(O){return u&&!O.length&&O.push(r),O}))});function F6(){return u1(this)}function D6(){return new Ni(this.value(),this.__chain__)}function k6(){this.__values__===r&&(this.__values__=M1(this.value()));var s=this.__index__>=this.__values__.length,u=s?r:this.__values__[this.__index__++];return{done:s,value:u}}function U6(){return this}function q6(s){for(var u,p=this;p instanceof Rh;){var M=r1(p);M.__index__=0,M.__values__=r,u?N.__wrapped__=M:u=M;var N=M;p=p.__wrapped__}return N.__wrapped__=s,u}function z6(){var s=this.__wrapped__;if(s instanceof de){var u=s;return this.__actions__.length&&(u=new de(this)),u=u.reverse(),u.__actions__.push({func:Kh,args:[Zc],thisArg:r}),new Ni(u,this.__chain__)}return this.thru(Zc)}function L6(){return Sd(this.__wrapped__,this.__actions__)}var H6=kh(function(s,u,p){_e.call(s,p)?++s[p]:Gn(s,p,1)});function $6(s,u,p){var M=ee(s)?Ul:Ty;return p&&Tr(s,u,p)&&(u=r),M(s,Vt(u,3))}function j6(s,u){var p=ee(s)?gs:hd;return p(s,Vt(u,3))}var K6=Dd(i1),Q6=Dd(n1);function G6(s,u){return mr(Qh(s,u),1)}function J6(s,u){return mr(Qh(s,u),w)}function Y6(s,u,p){return p=p===r?1:se(p),mr(Qh(s,u),p)}function c1(s,u){var p=ee(s)?Si:ws;return p(s,Vt(u,3))}function f1(s,u){var p=ee(s)?p3:ad;return p(s,Vt(u,3))}var V6=kh(function(s,u,p){_e.call(s,p)?s[p].push(u):Gn(s,p,[u])});function W6(s,u,p,M){s=Qr(s)?s:_o(s),p=p&&!M?se(p):0;var N=s.length;return p<0&&(p=ur(N+p,0)),Wh(s)?p<=N&&s.indexOf(u,p)>-1:!!N&&po(s,u,p)>-1}var X6=ce(function(s,u,p){var M=-1,N=typeof u=="function",O=Qr(s)?V(s.length):[];return ws(s,function(D){O[++M]=N?fi(u,D,p):Ea(D,u,p)}),O}),Z6=kh(function(s,u,p){Gn(s,p,u)});function Qh(s,u){var p=ee(s)?Ze:pd;return p(s,Vt(u,3))}function tA(s,u,p,M){return s==null?[]:(ee(u)||(u=u==null?[]:[u]),p=M?r:p,ee(p)||(p=p==null?[]:[p]),yd(s,u,p))}var eA=kh(function(s,u,p){s[p?0:1].push(u)},function(){return[[],[]]});function rA(s,u,p){var M=ee(s)?lc:Hl,N=arguments.length<3;return M(s,Vt(u,4),p,N,ws)}function iA(s,u,p){var M=ee(s)?g3:Hl,N=arguments.length<3;return M(s,Vt(u,4),p,N,ad)}function nA(s,u){var p=ee(s)?gs:hd;return p(s,Yh(Vt(u,3)))}function sA(s){var u=ee(s)?id:Wy;return u(s)}function oA(s,u,p){(p?Tr(s,u,p):u===r)?u=1:u=se(u);var M=ee(s)?Cy:Xy;return M(s,u)}function aA(s){var u=ee(s)?xy:tw;return u(s)}function hA(s){if(s==null)return 0;if(Qr(s))return Wh(s)?mo(s):s.length;var u=Nr(s);return u==q||u==Ae?s.size:Bc(s).length}function uA(s,u,p){var M=ee(s)?dc:ew;return p&&Tr(s,u,p)&&(u=r),M(s,Vt(u,3))}var cA=ce(function(s,u){if(s==null)return[];var p=u.length;return p>1&&Tr(s,u[0],u[1])?u=[]:p>2&&Tr(u[0],u[1],u[2])&&(u=[u[0]]),yd(s,mr(u,1),[])}),Gh=j3||function(){return gr.Date.now()};function fA(s,u){if(typeof u!="function")throw new _i(f);return s=se(s),function(){if(--s<1)return u.apply(this,arguments)}}function l1(s,u,p){return u=p?r:u,u=s&&u==null?s.length:u,Jn(s,ut,r,r,r,r,u)}function d1(s,u){var p;if(typeof u!="function")throw new _i(f);return s=se(s),function(){return--s>0&&(p=u.apply(this,arguments)),s<=1&&(u=r),p}}var ef=ce(function(s,u,p){var M=k;if(p.length){var N=vs(p,Io(ef));M|=X}return Jn(s,M,u,p,N)}),p1=ce(function(s,u,p){var M=k|Y;if(p.length){var N=vs(p,Io(p1));M|=X}return Jn(u,M,s,p,N)});function g1(s,u,p){u=p?r:u;var M=Jn(s,at,r,r,r,r,r,u);return M.placeholder=g1.placeholder,M}function m1(s,u,p){u=p?r:u;var M=Jn(s,et,r,r,r,r,r,u);return M.placeholder=m1.placeholder,M}function v1(s,u,p){var M,N,O,D,L,K,rt=0,it=!1,st=!1,jt=!0;if(typeof s!="function")throw new _i(f);u=Bi(u)||0,er(p)&&(it=!!p.leading,st="maxWait"in p,O=st?ur(Bi(p.maxWait)||0,u):O,jt="trailing"in p?!!p.trailing:jt);function Jt(sr){var Zi=M,Zn=N;return M=N=r,rt=sr,D=s.apply(Zn,Zi),D}function Wt(sr){return rt=sr,L=Na(fe,u),it?Jt(sr):D}function ue(sr){var Zi=sr-K,Zn=sr-rt,D1=u-Zi;return st?_r(D1,O-Zn):D1}function Xt(sr){var Zi=sr-K,Zn=sr-rt;return K===r||Zi>=u||Zi<0||st&&Zn>=O}function fe(){var sr=Gh();if(Xt(sr))return be(sr);L=Na(fe,ue(sr))}function be(sr){return L=r,jt&&M?Jt(sr):(M=N=r,D)}function gi(){L!==r&&Nd(L),rt=0,M=K=N=L=r}function Or(){return L===r?D:be(Gh())}function mi(){var sr=Gh(),Zi=Xt(sr);if(M=arguments,N=this,K=sr,Zi){if(L===r)return Wt(K);if(st)return Nd(L),L=Na(fe,u),Jt(K)}return L===r&&(L=Na(fe,u)),D}return mi.cancel=gi,mi.flush=Or,mi}var lA=ce(function(s,u){return od(s,1,u)}),dA=ce(function(s,u,p){return od(s,Bi(u)||0,p)});function pA(s){return Jn(s,Gt)}function Jh(s,u){if(typeof s!="function"||u!=null&&typeof u!="function")throw new _i(f);var p=function(){var M=arguments,N=u?u.apply(this,M):M[0],O=p.cache;if(O.has(N))return O.get(N);var D=s.apply(this,M);return p.cache=O.set(N,D)||O,D};return p.cache=new(Jh.Cache||Qn),p}Jh.Cache=Qn;function Yh(s){if(typeof s!="function")throw new _i(f);return function(){var u=arguments;switch(u.length){case 0:return!s.call(this);case 1:return!s.call(this,u[0]);case 2:return!s.call(this,u[0],u[1]);case 3:return!s.call(this,u[0],u[1],u[2])}return!s.apply(this,u)}}function gA(s){return d1(2,s)}var mA=rw(function(s,u){u=u.length==1&&ee(u[0])?Ze(u[0],li(Vt())):Ze(mr(u,1),li(Vt()));var p=u.length;return ce(function(M){for(var N=-1,O=_r(M.length,p);++N<O;)M[N]=u[N].call(this,M[N]);return fi(s,this,M)})}),rf=ce(function(s,u){var p=vs(u,Io(rf));return Jn(s,X,r,u,p)}),y1=ce(function(s,u){var p=vs(u,Io(y1));return Jn(s,Z,r,u,p)}),vA=Yn(function(s,u){return Jn(s,nt,r,r,r,u)});function yA(s,u){if(typeof s!="function")throw new _i(f);return u=u===r?u:se(u),ce(s,u)}function wA(s,u){if(typeof s!="function")throw new _i(f);return u=u==null?0:ur(se(u),0),ce(function(p){var M=p[u],N=Es(p,0,u);return M&&ms(N,M),fi(s,this,N)})}function AA(s,u,p){var M=!0,N=!0;if(typeof s!="function")throw new _i(f);return er(p)&&(M="leading"in p?!!p.leading:M,N="trailing"in p?!!p.trailing:N),v1(s,u,{leading:M,maxWait:u,trailing:N})}function bA(s){return l1(s,1)}function EA(s,u){return rf(zc(u),s)}function MA(){if(!arguments.length)return[];var s=arguments[0];return ee(s)?s:[s]}function IA(s){return Ci(s,R)}function SA(s,u){return u=typeof u=="function"?u:r,Ci(s,R,u)}function _A(s){return Ci(s,_|R)}function NA(s,u){return u=typeof u=="function"?u:r,Ci(s,_|R,u)}function CA(s,u){return u==null||sd(s,u,cr(u))}function Xi(s,u){return s===u||s!==s&&u!==u}var xA=Lh(Cc),RA=Lh(function(s,u){return s>=u}),Vs=fd(function(){return arguments}())?fd:function(s){return rr(s)&&_e.call(s,"callee")&&!Wl.call(s,"callee")},ee=V.isArray,BA=Pl?li(Pl):qy;function Qr(s){return s!=null&&Vh(s.length)&&!Wn(s)}function nr(s){return rr(s)&&Qr(s)}function PA(s){return s===!0||s===!1||rr(s)&&Pr(s)==T}var Ms=Q3||pf,TA=Tl?li(Tl):zy;function OA(s){return rr(s)&&s.nodeType===1&&!Ca(s)}function FA(s){if(s==null)return!0;if(Qr(s)&&(ee(s)||typeof s=="string"||typeof s.splice=="function"||Ms(s)||So(s)||Vs(s)))return!s.length;var u=Nr(s);if(u==q||u==Ae)return!s.size;if(_a(s))return!Bc(s).length;for(var p in s)if(_e.call(s,p))return!1;return!0}function DA(s,u){return Ma(s,u)}function kA(s,u,p){p=typeof p=="function"?p:r;var M=p?p(s,u):r;return M===r?Ma(s,u,r,p):!!M}function nf(s){if(!rr(s))return!1;var u=Pr(s);return u==z||u==U||typeof s.message=="string"&&typeof s.name=="string"&&!Ca(s)}function UA(s){return typeof s=="number"&&Zl(s)}function Wn(s){if(!er(s))return!1;var u=Pr(s);return u==G||u==W||u==x||u==xt}function w1(s){return typeof s=="number"&&s==se(s)}function Vh(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=E}function er(s){var u=typeof s;return s!=null&&(u=="object"||u=="function")}function rr(s){return s!=null&&typeof s=="object"}var A1=Ol?li(Ol):Hy;function qA(s,u){return s===u||Rc(s,u,Gc(u))}function zA(s,u,p){return p=typeof p=="function"?p:r,Rc(s,u,Gc(u),p)}function LA(s){return b1(s)&&s!=+s}function HA(s){if(Sw(s))throw new te(a);return ld(s)}function $A(s){return s===null}function jA(s){return s==null}function b1(s){return typeof s=="number"||rr(s)&&Pr(s)==lt}function Ca(s){if(!rr(s)||Pr(s)!=ct)return!1;var u=Mh(s);if(u===null)return!0;var p=_e.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&wh.call(p)==z3}var sf=Fl?li(Fl):$y;function KA(s){return w1(s)&&s>=-E&&s<=E}var E1=Dl?li(Dl):jy;function Wh(s){return typeof s=="string"||!ee(s)&&rr(s)&&Pr(s)==pt}function pi(s){return typeof s=="symbol"||rr(s)&&Pr(s)==mt}var So=kl?li(kl):Ky;function QA(s){return s===r}function GA(s){return rr(s)&&Nr(s)==gt}function JA(s){return rr(s)&&Pr(s)==Rt}var YA=Lh(Pc),VA=Lh(function(s,u){return s<=u});function M1(s){if(!s)return[];if(Qr(s))return Wh(s)?Vi(s):Kr(s);if(ga&&s[ga])return C3(s[ga]());var u=Nr(s),p=u==q?wc:u==Ae?mh:_o;return p(s)}function Xn(s){if(!s)return s===0?s:0;if(s=Bi(s),s===w||s===-w){var u=s<0?-1:1;return u*I}return s===s?s:0}function se(s){var u=Xn(s),p=u%1;return u===u?p?u-p:u:0}function I1(s){return s?Qs(se(s),0,h):0}function Bi(s){if(typeof s=="number")return s;if(pi(s))return y;if(er(s)){var u=typeof s.valueOf=="function"?s.valueOf():s;s=er(u)?u+"":u}if(typeof s!="string")return s===0?s:+s;s=$l(s);var p=Ce.test(s);return p||Re.test(s)?f3(s.slice(2),p?2:8):Ne.test(s)?y:+s}function S1(s){return mn(s,Gr(s))}function WA(s){return s?Qs(se(s),-E,E):s===0?s:0}function Me(s){return s==null?"":di(s)}var XA=Eo(function(s,u){if(_a(u)||Qr(u)){mn(u,cr(u),s);return}for(var p in u)_e.call(u,p)&&Aa(s,p,u[p])}),_1=Eo(function(s,u){mn(u,Gr(u),s)}),Xh=Eo(function(s,u,p,M){mn(u,Gr(u),s,M)}),ZA=Eo(function(s,u,p,M){mn(u,cr(u),s,M)}),tb=Yn(Sc);function eb(s,u){var p=bo(s);return u==null?p:nd(p,u)}var rb=ce(function(s,u){s=ke(s);var p=-1,M=u.length,N=M>2?u[2]:r;for(N&&Tr(u[0],u[1],N)&&(M=1);++p<M;)for(var O=u[p],D=Gr(O),L=-1,K=D.length;++L<K;){var rt=D[L],it=s[rt];(it===r||Xi(it,yo[rt])&&!_e.call(s,rt))&&(s[rt]=O[rt])}return s}),ib=ce(function(s){return s.push(r,$d),fi(N1,r,s)});function nb(s,u){return ql(s,Vt(u,3),gn)}function sb(s,u){return ql(s,Vt(u,3),Nc)}function ob(s,u){return s==null?s:_c(s,Vt(u,3),Gr)}function ab(s,u){return s==null?s:ud(s,Vt(u,3),Gr)}function hb(s,u){return s&&gn(s,Vt(u,3))}function ub(s,u){return s&&Nc(s,Vt(u,3))}function cb(s){return s==null?[]:Th(s,cr(s))}function fb(s){return s==null?[]:Th(s,Gr(s))}function of(s,u,p){var M=s==null?r:Gs(s,u);return M===r?p:M}function lb(s,u){return s!=null&&Qd(s,u,Fy)}function af(s,u){return s!=null&&Qd(s,u,Dy)}var db=Ud(function(s,u,p){u!=null&&typeof u.toString!="function"&&(u=Ah.call(u)),s[u]=p},uf(Jr)),pb=Ud(function(s,u,p){u!=null&&typeof u.toString!="function"&&(u=Ah.call(u)),_e.call(s,u)?s[u].push(p):s[u]=[p]},Vt),gb=ce(Ea);function cr(s){return Qr(s)?rd(s):Bc(s)}function Gr(s){return Qr(s)?rd(s,!0):Qy(s)}function mb(s,u){var p={};return u=Vt(u,3),gn(s,function(M,N,O){Gn(p,u(M,N,O),M)}),p}function vb(s,u){var p={};return u=Vt(u,3),gn(s,function(M,N,O){Gn(p,N,u(M,N,O))}),p}var yb=Eo(function(s,u,p){Oh(s,u,p)}),N1=Eo(function(s,u,p,M){Oh(s,u,p,M)}),wb=Yn(function(s,u){var p={};if(s==null)return p;var M=!1;u=Ze(u,function(O){return O=bs(O,s),M||(M=O.length>1),O}),mn(s,Kc(s),p),M&&(p=Ci(p,_|C|R,dw));for(var N=u.length;N--;)kc(p,u[N]);return p});function Ab(s,u){return C1(s,Yh(Vt(u)))}var bb=Yn(function(s,u){return s==null?{}:Jy(s,u)});function C1(s,u){if(s==null)return{};var p=Ze(Kc(s),function(M){return[M]});return u=Vt(u),wd(s,p,function(M,N){return u(M,N[0])})}function Eb(s,u,p){u=bs(u,s);var M=-1,N=u.length;for(N||(N=1,s=r);++M<N;){var O=s==null?r:s[vn(u[M])];O===r&&(M=N,O=p),s=Wn(O)?O.call(s):O}return s}function Mb(s,u,p){return s==null?s:Ia(s,u,p)}function Ib(s,u,p,M){return M=typeof M=="function"?M:r,s==null?s:Ia(s,u,p,M)}var x1=Ld(cr),R1=Ld(Gr);function Sb(s,u,p){var M=ee(s),N=M||Ms(s)||So(s);if(u=Vt(u,4),p==null){var O=s&&s.constructor;N?p=M?new O:[]:er(s)?p=Wn(O)?bo(Mh(s)):{}:p={}}return(N?Si:gn)(s,function(D,L,K){return u(p,D,L,K)}),p}function _b(s,u){return s==null?!0:kc(s,u)}function Nb(s,u,p){return s==null?s:Id(s,u,zc(p))}function Cb(s,u,p,M){return M=typeof M=="function"?M:r,s==null?s:Id(s,u,zc(p),M)}function _o(s){return s==null?[]:yc(s,cr(s))}function xb(s){return s==null?[]:yc(s,Gr(s))}function Rb(s,u,p){return p===r&&(p=u,u=r),p!==r&&(p=Bi(p),p=p===p?p:0),u!==r&&(u=Bi(u),u=u===u?u:0),Qs(Bi(s),u,p)}function Bb(s,u,p){return u=Xn(u),p===r?(p=u,u=0):p=Xn(p),s=Bi(s),ky(s,u,p)}function Pb(s,u,p){if(p&&typeof p!="boolean"&&Tr(s,u,p)&&(u=p=r),p===r&&(typeof u=="boolean"?(p=u,u=r):typeof s=="boolean"&&(p=s,s=r)),s===r&&u===r?(s=0,u=1):(s=Xn(s),u===r?(u=s,s=0):u=Xn(u)),s>u){var M=s;s=u,u=M}if(p||s%1||u%1){var N=td();return _r(s+N*(u-s+c3("1e-"+((N+"").length-1))),u)}return Oc(s,u)}var Tb=Mo(function(s,u,p){return u=u.toLowerCase(),s+(p?B1(u):u)});function B1(s){return hf(Me(s).toLowerCase())}function P1(s){return s=Me(s),s&&s.replace(Pe,M3).replace(t3,"")}function Ob(s,u,p){s=Me(s),u=di(u);var M=s.length;p=p===r?M:Qs(se(p),0,M);var N=p;return p-=u.length,p>=0&&s.slice(p,N)==u}function Fb(s){return s=Me(s),s&&Ot.test(s)?s.replace(qe,I3):s}function Db(s){return s=Me(s),s&&Ut.test(s)?s.replace(De,"\\$&"):s}var kb=Mo(function(s,u,p){return s+(p?"-":"")+u.toLowerCase()}),Ub=Mo(function(s,u,p){return s+(p?" ":"")+u.toLowerCase()}),qb=Fd("toLowerCase");function zb(s,u,p){s=Me(s),u=se(u);var M=u?mo(s):0;if(!u||M>=u)return s;var N=(u-M)/2;return zh(Nh(N),p)+s+zh(_h(N),p)}function Lb(s,u,p){s=Me(s),u=se(u);var M=u?mo(s):0;return u&&M<u?s+zh(u-M,p):s}function Hb(s,u,p){s=Me(s),u=se(u);var M=u?mo(s):0;return u&&M<u?zh(u-M,p)+s:s}function $b(s,u,p){return p||u==null?u=0:u&&(u=+u),V3(Me(s).replace(Mt,""),u||0)}function jb(s,u,p){return(p?Tr(s,u,p):u===r)?u=1:u=se(u),Fc(Me(s),u)}function Kb(){var s=arguments,u=Me(s[0]);return s.length<3?u:u.replace(s[1],s[2])}var Qb=Mo(function(s,u,p){return s+(p?"_":"")+u.toLowerCase()});function Gb(s,u,p){return p&&typeof p!="number"&&Tr(s,u,p)&&(u=p=r),p=p===r?h:p>>>0,p?(s=Me(s),s&&(typeof u=="string"||u!=null&&!sf(u))&&(u=di(u),!u&&go(s))?Es(Vi(s),0,p):s.split(u,p)):[]}var Jb=Mo(function(s,u,p){return s+(p?" ":"")+hf(u)});function Yb(s,u,p){return s=Me(s),p=p==null?0:Qs(se(p),0,s.length),u=di(u),s.slice(p,p+u.length)==u}function Vb(s,u,p){var M=P.templateSettings;p&&Tr(s,u,p)&&(u=r),s=Me(s),u=Xh({},u,M,Hd);var N=Xh({},u.imports,M.imports,Hd),O=cr(N),D=yc(N,O),L,K,rt=0,it=u.interpolate||Ir,st="__p += '",jt=Ac((u.escape||Ir).source+"|"+it.source+"|"+(it===_t?$t:Ir).source+"|"+(u.evaluate||Ir).source+"|$","g"),Jt="//# sourceURL="+(_e.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++s3+"]")+`
`;s.replace(jt,function(Xt,fe,be,gi,Or,mi){return be||(be=gi),st+=s.slice(rt,mi).replace(ii,S3),fe&&(L=!0,st+=`' +
__e(`+fe+`) +
'`),Or&&(K=!0,st+=`';
`+Or+`;
__p += '`),be&&(st+=`' +
((__t = (`+be+`)) == null ? '' : __t) +
'`),rt=mi+Xt.length,Xt}),st+=`';
`;var Wt=_e.call(u,"variable")&&u.variable;if(!Wt)st=`with (obj) {
`+st+`
}
`;else if(Ht.test(Wt))throw new te(v);st=(K?st.replace(Bt,""):st).replace(Qe,"$1").replace(Pt,"$1;"),st="function("+(Wt||"obj")+`) {
`+(Wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+st+`return __p
}`;var ue=O1(function(){return Ee(O,Jt+"return "+st).apply(r,D)});if(ue.source=st,nf(ue))throw ue;return ue}function Wb(s){return Me(s).toLowerCase()}function Xb(s){return Me(s).toUpperCase()}function Zb(s,u,p){if(s=Me(s),s&&(p||u===r))return $l(s);if(!s||!(u=di(u)))return s;var M=Vi(s),N=Vi(u),O=jl(M,N),D=Kl(M,N)+1;return Es(M,O,D).join("")}function t8(s,u,p){if(s=Me(s),s&&(p||u===r))return s.slice(0,Gl(s)+1);if(!s||!(u=di(u)))return s;var M=Vi(s),N=Kl(M,Vi(u))+1;return Es(M,0,N).join("")}function e8(s,u,p){if(s=Me(s),s&&(p||u===r))return s.replace(Mt,"");if(!s||!(u=di(u)))return s;var M=Vi(s),N=jl(M,Vi(u));return Es(M,N).join("")}function r8(s,u){var p=Zt,M=ht;if(er(u)){var N="separator"in u?u.separator:N;p="length"in u?se(u.length):p,M="omission"in u?di(u.omission):M}s=Me(s);var O=s.length;if(go(s)){var D=Vi(s);O=D.length}if(p>=O)return s;var L=p-mo(M);if(L<1)return M;var K=D?Es(D,0,L).join(""):s.slice(0,L);if(N===r)return K+M;if(D&&(L+=K.length-L),sf(N)){if(s.slice(L).search(N)){var rt,it=K;for(N.global||(N=Ac(N.source,Me(Nt.exec(N))+"g")),N.lastIndex=0;rt=N.exec(it);)var st=rt.index;K=K.slice(0,st===r?L:st)}}else if(s.indexOf(di(N),L)!=L){var jt=K.lastIndexOf(N);jt>-1&&(K=K.slice(0,jt))}return K+M}function i8(s){return s=Me(s),s&&Tt.test(s)?s.replace(St,P3):s}var n8=Mo(function(s,u,p){return s+(p?" ":"")+u.toUpperCase()}),hf=Fd("toUpperCase");function T1(s,u,p){return s=Me(s),u=p?r:u,u===r?N3(s)?F3(s):y3(s):s.match(u)||[]}var O1=ce(function(s,u){try{return fi(s,r,u)}catch(p){return nf(p)?p:new te(p)}}),s8=Yn(function(s,u){return Si(u,function(p){p=vn(p),Gn(s,p,ef(s[p],s))}),s});function o8(s){var u=s==null?0:s.length,p=Vt();return s=u?Ze(s,function(M){if(typeof M[1]!="function")throw new _i(f);return[p(M[0]),M[1]]}):[],ce(function(M){for(var N=-1;++N<u;){var O=s[N];if(fi(O[0],this,M))return fi(O[1],this,M)}})}function a8(s){return Py(Ci(s,_))}function uf(s){return function(){return s}}function h8(s,u){return s==null||s!==s?u:s}var u8=kd(),c8=kd(!0);function Jr(s){return s}function cf(s){return dd(typeof s=="function"?s:Ci(s,_))}function f8(s){return gd(Ci(s,_))}function l8(s,u){return md(s,Ci(u,_))}var d8=ce(function(s,u){return function(p){return Ea(p,s,u)}}),p8=ce(function(s,u){return function(p){return Ea(s,p,u)}});function ff(s,u,p){var M=cr(u),N=Th(u,M);p==null&&!(er(u)&&(N.length||!M.length))&&(p=u,u=s,s=this,N=Th(u,cr(u)));var O=!(er(p)&&"chain"in p)||!!p.chain,D=Wn(s);return Si(N,function(L){var K=u[L];s[L]=K,D&&(s.prototype[L]=function(){var rt=this.__chain__;if(O||rt){var it=s(this.__wrapped__),st=it.__actions__=Kr(this.__actions__);return st.push({func:K,args:arguments,thisArg:s}),it.__chain__=rt,it}return K.apply(s,ms([this.value()],arguments))})}),s}function g8(){return gr._===this&&(gr._=L3),this}function lf(){}function m8(s){return s=se(s),ce(function(u){return vd(u,s)})}var v8=Hc(Ze),y8=Hc(Ul),w8=Hc(dc);function F1(s){return Yc(s)?pc(vn(s)):Yy(s)}function A8(s){return function(u){return s==null?r:Gs(s,u)}}var b8=qd(),E8=qd(!0);function df(){return[]}function pf(){return!1}function M8(){return{}}function I8(){return""}function S8(){return!0}function _8(s,u){if(s=se(s),s<1||s>E)return[];var p=h,M=_r(s,h);u=Vt(u),s-=h;for(var N=vc(M,u);++p<s;)u(p);return N}function N8(s){return ee(s)?Ze(s,vn):pi(s)?[s]:Kr(e1(Me(s)))}function C8(s){var u=++q3;return Me(s)+u}var x8=qh(function(s,u){return s+u},0),R8=$c("ceil"),B8=qh(function(s,u){return s/u},1),P8=$c("floor");function T8(s){return s&&s.length?Ph(s,Jr,Cc):r}function O8(s,u){return s&&s.length?Ph(s,Vt(u,2),Cc):r}function F8(s){return Ll(s,Jr)}function D8(s,u){return Ll(s,Vt(u,2))}function k8(s){return s&&s.length?Ph(s,Jr,Pc):r}function U8(s,u){return s&&s.length?Ph(s,Vt(u,2),Pc):r}var q8=qh(function(s,u){return s*u},1),z8=$c("round"),L8=qh(function(s,u){return s-u},0);function H8(s){return s&&s.length?mc(s,Jr):0}function $8(s,u){return s&&s.length?mc(s,Vt(u,2)):0}return P.after=fA,P.ary=l1,P.assign=XA,P.assignIn=_1,P.assignInWith=Xh,P.assignWith=ZA,P.at=tb,P.before=d1,P.bind=ef,P.bindAll=s8,P.bindKey=p1,P.castArray=MA,P.chain=u1,P.chunk=Pw,P.compact=Tw,P.concat=Ow,P.cond=o8,P.conforms=a8,P.constant=uf,P.countBy=H6,P.create=eb,P.curry=g1,P.curryRight=m1,P.debounce=v1,P.defaults=rb,P.defaultsDeep=ib,P.defer=lA,P.delay=dA,P.difference=Fw,P.differenceBy=Dw,P.differenceWith=kw,P.drop=Uw,P.dropRight=qw,P.dropRightWhile=zw,P.dropWhile=Lw,P.fill=Hw,P.filter=j6,P.flatMap=G6,P.flatMapDeep=J6,P.flatMapDepth=Y6,P.flatten=s1,P.flattenDeep=$w,P.flattenDepth=jw,P.flip=pA,P.flow=u8,P.flowRight=c8,P.fromPairs=Kw,P.functions=cb,P.functionsIn=fb,P.groupBy=V6,P.initial=Gw,P.intersection=Jw,P.intersectionBy=Yw,P.intersectionWith=Vw,P.invert=db,P.invertBy=pb,P.invokeMap=X6,P.iteratee=cf,P.keyBy=Z6,P.keys=cr,P.keysIn=Gr,P.map=Qh,P.mapKeys=mb,P.mapValues=vb,P.matches=f8,P.matchesProperty=l8,P.memoize=Jh,P.merge=yb,P.mergeWith=N1,P.method=d8,P.methodOf=p8,P.mixin=ff,P.negate=Yh,P.nthArg=m8,P.omit=wb,P.omitBy=Ab,P.once=gA,P.orderBy=tA,P.over=v8,P.overArgs=mA,P.overEvery=y8,P.overSome=w8,P.partial=rf,P.partialRight=y1,P.partition=eA,P.pick=bb,P.pickBy=C1,P.property=F1,P.propertyOf=A8,P.pull=t6,P.pullAll=a1,P.pullAllBy=e6,P.pullAllWith=r6,P.pullAt=i6,P.range=b8,P.rangeRight=E8,P.rearg=vA,P.reject=nA,P.remove=n6,P.rest=yA,P.reverse=Zc,P.sampleSize=oA,P.set=Mb,P.setWith=Ib,P.shuffle=aA,P.slice=s6,P.sortBy=cA,P.sortedUniq=l6,P.sortedUniqBy=d6,P.split=Gb,P.spread=wA,P.tail=p6,P.take=g6,P.takeRight=m6,P.takeRightWhile=v6,P.takeWhile=y6,P.tap=T6,P.throttle=AA,P.thru=Kh,P.toArray=M1,P.toPairs=x1,P.toPairsIn=R1,P.toPath=N8,P.toPlainObject=S1,P.transform=Sb,P.unary=bA,P.union=w6,P.unionBy=A6,P.unionWith=b6,P.uniq=E6,P.uniqBy=M6,P.uniqWith=I6,P.unset=_b,P.unzip=tf,P.unzipWith=h1,P.update=Nb,P.updateWith=Cb,P.values=_o,P.valuesIn=xb,P.without=S6,P.words=T1,P.wrap=EA,P.xor=_6,P.xorBy=N6,P.xorWith=C6,P.zip=x6,P.zipObject=R6,P.zipObjectDeep=B6,P.zipWith=P6,P.entries=x1,P.entriesIn=R1,P.extend=_1,P.extendWith=Xh,ff(P,P),P.add=x8,P.attempt=O1,P.camelCase=Tb,P.capitalize=B1,P.ceil=R8,P.clamp=Rb,P.clone=IA,P.cloneDeep=_A,P.cloneDeepWith=NA,P.cloneWith=SA,P.conformsTo=CA,P.deburr=P1,P.defaultTo=h8,P.divide=B8,P.endsWith=Ob,P.eq=Xi,P.escape=Fb,P.escapeRegExp=Db,P.every=$6,P.find=K6,P.findIndex=i1,P.findKey=nb,P.findLast=Q6,P.findLastIndex=n1,P.findLastKey=sb,P.floor=P8,P.forEach=c1,P.forEachRight=f1,P.forIn=ob,P.forInRight=ab,P.forOwn=hb,P.forOwnRight=ub,P.get=of,P.gt=xA,P.gte=RA,P.has=lb,P.hasIn=af,P.head=o1,P.identity=Jr,P.includes=W6,P.indexOf=Qw,P.inRange=Bb,P.invoke=gb,P.isArguments=Vs,P.isArray=ee,P.isArrayBuffer=BA,P.isArrayLike=Qr,P.isArrayLikeObject=nr,P.isBoolean=PA,P.isBuffer=Ms,P.isDate=TA,P.isElement=OA,P.isEmpty=FA,P.isEqual=DA,P.isEqualWith=kA,P.isError=nf,P.isFinite=UA,P.isFunction=Wn,P.isInteger=w1,P.isLength=Vh,P.isMap=A1,P.isMatch=qA,P.isMatchWith=zA,P.isNaN=LA,P.isNative=HA,P.isNil=jA,P.isNull=$A,P.isNumber=b1,P.isObject=er,P.isObjectLike=rr,P.isPlainObject=Ca,P.isRegExp=sf,P.isSafeInteger=KA,P.isSet=E1,P.isString=Wh,P.isSymbol=pi,P.isTypedArray=So,P.isUndefined=QA,P.isWeakMap=GA,P.isWeakSet=JA,P.join=Ww,P.kebabCase=kb,P.last=Ri,P.lastIndexOf=Xw,P.lowerCase=Ub,P.lowerFirst=qb,P.lt=YA,P.lte=VA,P.max=T8,P.maxBy=O8,P.mean=F8,P.meanBy=D8,P.min=k8,P.minBy=U8,P.stubArray=df,P.stubFalse=pf,P.stubObject=M8,P.stubString=I8,P.stubTrue=S8,P.multiply=q8,P.nth=Zw,P.noConflict=g8,P.noop=lf,P.now=Gh,P.pad=zb,P.padEnd=Lb,P.padStart=Hb,P.parseInt=$b,P.random=Pb,P.reduce=rA,P.reduceRight=iA,P.repeat=jb,P.replace=Kb,P.result=Eb,P.round=z8,P.runInContext=j,P.sample=sA,P.size=hA,P.snakeCase=Qb,P.some=uA,P.sortedIndex=o6,P.sortedIndexBy=a6,P.sortedIndexOf=h6,P.sortedLastIndex=u6,P.sortedLastIndexBy=c6,P.sortedLastIndexOf=f6,P.startCase=Jb,P.startsWith=Yb,P.subtract=L8,P.sum=H8,P.sumBy=$8,P.template=Vb,P.times=_8,P.toFinite=Xn,P.toInteger=se,P.toLength=I1,P.toLower=Wb,P.toNumber=Bi,P.toSafeInteger=WA,P.toString=Me,P.toUpper=Xb,P.trim=Zb,P.trimEnd=t8,P.trimStart=e8,P.truncate=r8,P.unescape=i8,P.uniqueId=C8,P.upperCase=n8,P.upperFirst=hf,P.each=c1,P.eachRight=f1,P.first=o1,ff(P,function(){var s={};return gn(P,function(u,p){_e.call(P.prototype,p)||(s[p]=u)}),s}(),{chain:!1}),P.VERSION=i,Si(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){P[s].placeholder=P}),Si(["drop","take"],function(s,u){de.prototype[s]=function(p){p=p===r?1:ur(se(p),0);var M=this.__filtered__&&!u?new de(this):this.clone();return M.__filtered__?M.__takeCount__=_r(p,M.__takeCount__):M.__views__.push({size:_r(p,h),type:s+(M.__dir__<0?"Right":"")}),M},de.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Si(["filter","map","takeWhile"],function(s,u){var p=u+1,M=p==c||p==g;de.prototype[s]=function(N){var O=this.clone();return O.__iteratees__.push({iteratee:Vt(N,3),type:p}),O.__filtered__=O.__filtered__||M,O}}),Si(["head","last"],function(s,u){var p="take"+(u?"Right":"");de.prototype[s]=function(){return this[p](1).value()[0]}}),Si(["initial","tail"],function(s,u){var p="drop"+(u?"":"Right");de.prototype[s]=function(){return this.__filtered__?new de(this):this[p](1)}}),de.prototype.compact=function(){return this.filter(Jr)},de.prototype.find=function(s){return this.filter(s).head()},de.prototype.findLast=function(s){return this.reverse().find(s)},de.prototype.invokeMap=ce(function(s,u){return typeof s=="function"?new de(this):this.map(function(p){return Ea(p,s,u)})}),de.prototype.reject=function(s){return this.filter(Yh(Vt(s)))},de.prototype.slice=function(s,u){s=se(s);var p=this;return p.__filtered__&&(s>0||u<0)?new de(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),u!==r&&(u=se(u),p=u<0?p.dropRight(-u):p.take(u-s)),p)},de.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},de.prototype.toArray=function(){return this.take(h)},gn(de.prototype,function(s,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),M=/^(?:head|last)$/.test(u),N=P[M?"take"+(u=="last"?"Right":""):u],O=M||/^find/.test(u);N&&(P.prototype[u]=function(){var D=this.__wrapped__,L=M?[1]:arguments,K=D instanceof de,rt=L[0],it=K||ee(D),st=function(fe){var be=N.apply(P,ms([fe],L));return M&&jt?be[0]:be};it&&p&&typeof rt=="function"&&rt.length!=1&&(K=it=!1);var jt=this.__chain__,Jt=!!this.__actions__.length,Wt=O&&!jt,ue=K&&!Jt;if(!O&&it){D=ue?D:new de(this);var Xt=s.apply(D,L);return Xt.__actions__.push({func:Kh,args:[st],thisArg:r}),new Ni(Xt,jt)}return Wt&&ue?s.apply(this,L):(Xt=this.thru(st),Wt?M?Xt.value()[0]:Xt.value():Xt)})}),Si(["pop","push","shift","sort","splice","unshift"],function(s){var u=vh[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",M=/^(?:pop|shift)$/.test(s);P.prototype[s]=function(){var N=arguments;if(M&&!this.__chain__){var O=this.value();return u.apply(ee(O)?O:[],N)}return this[p](function(D){return u.apply(ee(D)?D:[],N)})}}),gn(de.prototype,function(s,u){var p=P[u];if(p){var M=p.name+"";_e.call(Ao,M)||(Ao[M]=[]),Ao[M].push({name:u,func:p})}}),Ao[Uh(r,Y).name]=[{name:"wrapper",func:r}],de.prototype.clone=iy,de.prototype.reverse=ny,de.prototype.value=sy,P.prototype.at=O6,P.prototype.chain=F6,P.prototype.commit=D6,P.prototype.next=k6,P.prototype.plant=q6,P.prototype.reverse=z6,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=L6,P.prototype.first=P.prototype.head,ga&&(P.prototype[ga]=U6),P},vo=D3();Hs?((Hs.exports=vo)._=vo,uc._=vo):gr._=vo}).call(La)})(z0,z0.exports);var iB=Object.defineProperty,nB=Object.defineProperties,sB=Object.getOwnPropertyDescriptors,Xg=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,Zg=(e,t,r)=>t in e?iB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pu=(e,t)=>{for(var r in t||(t={}))oB.call(t,r)&&Zg(e,r,t[r]);if(Xg)for(var r of Xg(t))aB.call(t,r)&&Zg(e,r,t[r]);return e},hB=(e,t)=>nB(e,sB(t));function qs(e,t,r){var i;const n=SC(e);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${rB}?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function fo(e){return e.includes(":")?e.split(":")[1]:e}function Hv(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function uB(e,t){const r=Object.keys(t.namespaces).filter(n=>n.includes(e));if(!r.length)return[];const i=[];return r.forEach(n=>{const a=t.namespaces[n].accounts;i.push(...a)}),i}function f0(e={},t={}){const r=tm(e),i=tm(t);return z0.exports.merge(r,i)}function tm(e){var t,r,i,n;const a={};if(!KR(e))return a;for(const[f,v]of Object.entries(e)){const b=ll(f)?[f]:v.chains,A=v.methods||[],S=v.events||[],_=v.rpcMap||{},C=$a(f);a[C]=hB(pu(pu({},a[C]),v),{chains:Xf(b,(t=a[C])==null?void 0:t.chains),methods:Xf(A,(r=a[C])==null?void 0:r.methods),events:Xf(S,(i=a[C])==null?void 0:i.events),rpcMap:pu(pu({},_),(n=a[C])==null?void 0:n.rpcMap)})}return a}function cB(e){return e.includes(":")?e.split(":")[2]:e}function em(e){const t={};for(const[r,i]of Object.entries(e)){const n=i.methods||[],a=i.events||[],f=i.accounts||[],v=ll(r)?[r]:i.chains?i.chains:Hv(i.accounts);t[r]={chains:v,methods:n,events:a,accounts:f}}return t}function l0(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const $v={},tr=e=>$v[e],d0=(e,t)=>{$v[e]=t};class fB{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=fo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class lB{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||qs(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=parseInt(fo(r));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let n=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const a=parseInt(n,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class dB{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=fo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class pB{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=fo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class gB{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),n=fo(r);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class mB{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=fo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class vB{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=fo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ls(new zs(i,tr("disableProviderPing")))}}class yB{constructor(t){this.name="near",this.namespace=t.namespace,this.events=tr("events"),this.client=tr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||qs(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(ps.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||qs(t,this.namespace);return typeof i>"u"?void 0:new Ls(new zs(i,tr("disableProviderPing")))}}var wB=Object.defineProperty,AB=Object.defineProperties,bB=Object.getOwnPropertyDescriptors,rm=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,MB=Object.prototype.propertyIsEnumerable,im=(e,t,r)=>t in e?wB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gu=(e,t)=>{for(var r in t||(t={}))EB.call(t,r)&&im(e,r,t[r]);if(rm)for(var r of rm(t))MB.call(t,r)&&im(e,r,t[r]);return e},p0=(e,t)=>AB(e,bB(t));class dl{constructor(t){this.events=new Lr.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:j0(Wu({level:t?.logger||Vg})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const r=new dl(t);return await r.initialize(),r}async request(t,r,i){const[n,a]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:gu({},t),chainId:`${n}:${a}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,n){const a=new Date().getTime();this.request(t,i,n).then(f=>r(null,Xu(a,f))).catch(f=>r(f,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Lg("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(t);r&&(this.uri=r,this.events.emit("display_uri",r));const n=await i();if(this.session=n.session,this.session){const a=em(this.session.namespaces);this.namespaces=f0(this.namespaces,a),this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(a=>{this.session=a;const f=em(a.namespaces);this.namespaces=f0(this.namespaces,f),this.persist("namespaces",this.namespaces)}).catch(a=>{if(a.message!==av)throw a;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,n]=this.validateChain(t);this.getProvider(i).setDefaultChain(n,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Hg(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await hl.init({logger:this.providerOpts.logger||Vg,relayUrl:this.providerOpts.relayUrl||ZR,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>$a(r)))];d0("client",this.client),d0("events",this.events),d0("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=uB(r,this.session),n=Hv(i),a=f0(this.namespaces,this.optionalNamespaces),f=p0(gu({},a[r]),{accounts:i,chains:n});switch(r){case"eip155":this.rpcProviders[r]=new lB({namespace:f});break;case"solana":this.rpcProviders[r]=new dB({namespace:f});break;case"cosmos":this.rpcProviders[r]=new pB({namespace:f});break;case"polkadot":this.rpcProviders[r]=new fB({namespace:f});break;case"cip34":this.rpcProviders[r]=new gB({namespace:f});break;case"elrond":this.rpcProviders[r]=new mB({namespace:f});break;case"multiversx":this.rpcProviders[r]=new vB({namespace:f});break;case"near":this.rpcProviders[r]=new yB({namespace:f});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const n=i.data;n&&Hg(n)&&this.events.emit("accountsChanged",n.map(cB))}else if(i.name==="chainChanged"){const n=r.chainId,a=r.event.data,f=$a(n),v=l0(n)!==l0(a)?`${f}:${l0(a)}`:n;this.onChainChanged(v)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:n}=r,a=(i=this.client)==null?void 0:i.session.get(t);this.session=p0(gu({},a),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",p0(gu({},Lg("USER_DISCONNECTED")),{data:t.topic}))}),this.on(ps.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:n}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(f=>$a(f)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const n=$a(Object.keys(this.namespaces)[0]),a=this.rpcProviders[n].getDefaultChain();return[n,a]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);n&&(r||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${Wg}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${Wg}/${t}`)}}const IB=dl,SB="wc",_B="ethereum_provider",NB=`${SB}@2:${_B}:`,CB="https://rpc.walletconnect.com/v1/",L0=["eth_sendTransaction","personal_sign"],xB=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],H0=["chainChanged","accountsChanged"],RB=["chainChanged","accountsChanged","message","disconnect","connect"];var BB=Object.defineProperty,PB=Object.defineProperties,TB=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,OB=Object.prototype.hasOwnProperty,FB=Object.prototype.propertyIsEnumerable,sm=(e,t,r)=>t in e?BB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,To=(e,t)=>{for(var r in t||(t={}))OB.call(t,r)&&sm(e,r,t[r]);if(nm)for(var r of nm(t))FB.call(t,r)&&sm(e,r,t[r]);return e},g0=(e,t)=>PB(e,TB(t));function Ju(e){return Number(e[0].split(":")[1])}function mu(e){return`0x${e.toString(16)}`}function DB(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:a,optionalEvents:f,rpcMap:v}=e;if(!b0(t))throw new Error("Invalid chains");const b={chains:t,methods:i||L0,events:a||H0,rpcMap:To({},t.length?{[Ju(t)]:v[Ju(t)]}:{})},A=a?.filter(R=>!H0.includes(R)),S=i?.filter(R=>!L0.includes(R));if(!r&&!f&&!n&&!(A!=null&&A.length)&&!(S!=null&&S.length))return{required:t.length?b:void 0};const _=A?.length&&S?.length||!r,C={chains:[...new Set(_?b.chains.concat(r||[]):r)],methods:[...new Set(b.methods.concat(n!=null&&n.length?n:xB))],events:[...new Set(b.events.concat(f!=null&&f.length?f:RB))],rpcMap:v};return{required:t.length?b:void 0,optional:r.length?C:void 0}}class pl{constructor(){this.events=new Lr.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=NB,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new pl;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=DB(this.rpc);try{const n=await new Promise(async(f,v)=>{var b;this.rpc.showQrModal&&((b=this.modal)==null||b.subscribeModal(A=>{!A.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),v(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(g0(To({namespaces:To({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic})).then(A=>{f(A)}).catch(A=>{v(new Error(A.message))})});if(!n)return;const a=L1(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:mu(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const r=await new Promise(async(n,a)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(v=>{!v.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(g0(To({},t),{chains:this.rpc.chains})).then(v=>{n(v)}).catch(v=>{a(new Error(v.message))})}),i=r.session;if(i){const n=L1(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:mu(this.chainId)})}return r}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",mu(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",g0(To({},P7("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",mu(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,n]=t.split(":");return{chainId:`${r}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const n=(r=t?.chains)!=null?r:[],a=(i=t?.optionalChains)!=null?i:[],f=n.concat(a);if(!f.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const v=n.length?t?.methods||L0:[],b=n.length?t?.events||H0:[],A=t?.optionalMethods||[],S=t?.optionalEvents||[],_=t?.rpcMap||this.buildRpcMap(f,t.projectId),C=t?.qrModalOptions||void 0;return{chains:n?.map(R=>this.formatChainId(R)),optionalChains:a.map(R=>this.formatChainId(R)),methods:v,events:b,optionalMethods:A,optionalEvents:S,rpcMap:_,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:C,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(n=>{i[n]=this.getRpcUrl(n,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Ju(this.rpc.chains):Ju(this.rpc.optionalChains),this.signer=await IB.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await f4(()=>import("./index.0fdb3eab.js").then(n=>n.i),["assets/index.0fdb3eab.js","assets/index.b8b39119.js","assets/index.274eef26.css"]);r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(To({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:n}=t;r&&b0(r)&&(this.rpc.chains=r.map(a=>this.formatChainId(a)),r.forEach(a=>{this.rpc.rpcMap[a]=n?.[a]||this.getRpcUrl(a)})),i&&b0(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(a=>this.formatChainId(a)),i.forEach(a=>{this.rpc.rpcMap[a]=n?.[a]||this.getRpcUrl(a)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${CB}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const UB=pl;export{UB as EthereumProvider,RB as OPTIONAL_EVENTS,xB as OPTIONAL_METHODS,H0 as REQUIRED_EVENTS,L0 as REQUIRED_METHODS,pl as default};
